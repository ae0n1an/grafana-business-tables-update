/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","@grafana/ui","react","@emotion/css","lodash","@grafana/runtime","react-router-dom","rxjs","react-dom","@emotion/react","redux","react-redux"],((e,t,n,r,o,a,i,s,l,c,u,d)=>(()=>{var p,f,h={6101:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdHocFiltersVariable:()=>li,ConstantVariable:()=>ju,ControlsLabel:()=>tr,CustomVariable:()=>Vu,DataProviderProxy:()=>Zc,DataSourceVariable:()=>Gu,EmbeddedScene:()=>Md,FieldConfigBuilder:()=>ug,FieldConfigBuilders:()=>xg,FieldConfigOverridesBuilder:()=>eg,GroupByVariable:()=>Kn,IntervalVariable:()=>xd,LocalValueVariable:()=>vd,MultiValueVariable:()=>ct,NestedScene:()=>Vp,NewSceneObjectAddedEvent:()=>Pd,PanelBuilders:()=>wg,PanelOptionsBuilders:()=>Cg,QueryVariable:()=>ps,RuntimeDataSource:()=>ue,SafeSerializableSceneObject:()=>zn,SceneApp:()=>Zf,SceneAppPage:()=>bh,SceneByFrameRepeater:()=>Of,SceneByVariableRepeater:()=>Af,SceneCSSGridItem:()=>Nf,SceneCSSGridLayout:()=>Lf,SceneCanvasText:()=>$p,SceneControlsSpacer:()=>Rf,SceneDataLayerBase:()=>Ml,SceneDataLayerControls:()=>Ll,SceneDataLayerSet:()=>su,SceneDataLayerSetBase:()=>iu,SceneDataNode:()=>Ce,SceneDataTransformer:()=>bu,SceneDebugger:()=>ph,SceneFlexItem:()=>kf,SceneFlexLayout:()=>_f,SceneGridItem:()=>Bd,SceneGridLayout:()=>Rp,SceneGridRow:()=>Np,SceneObjectBase:()=>J,SceneObjectRef:()=>G,SceneObjectStateChangedEvent:()=>$,SceneObjectUrlSyncConfig:()=>Oe,SceneQueryRunner:()=>Ai,SceneReactObject:()=>sh,SceneRefreshPicker:()=>af,SceneTimePicker:()=>qp,SceneTimeRange:()=>Fe,SceneTimeRangeCompare:()=>Sf,SceneTimeRangeTransformerBase:()=>zc,SceneTimeZoneOverride:()=>Kc,SceneToolbarButton:()=>Up,SceneToolbarInput:()=>Hp,SceneVariableSet:()=>xu,SceneVariableValueChangedEvent:()=>Ve,SplitLayout:()=>Kf,TestVariable:()=>rd,TextBoxVariable:()=>ud,UrlSyncContextProvider:()=>Fd,UrlSyncManager:()=>Td,UserActionEvent:()=>U,VariableDependencyConfig:()=>Ui,VariableValueControl:()=>Cu,VariableValueSelectWrapper:()=>yu,VariableValueSelectors:()=>vu,VizConfigBuilder:()=>Eg,VizConfigBuilders:()=>Sg,VizPanel:()=>Dl,VizPanelBuilder:()=>yg,VizPanelMenu:()=>Nd,behaviors:()=>r,dataLayers:()=>o,formatRegistry:()=>Ge,isCustomVariableValue:()=>ze,isDataLayer:()=>Dt,isDataRequestEnricher:()=>Ot,isFiltersRequestEnricher:()=>At,isSceneObject:()=>xt,registerQueryWithController:()=>tn,registerRuntimeDataSource:()=>pe,renderSelectForVariable:()=>Mn,sceneGraph:()=>vs,sceneUtils:()=>Og,useSceneApp:()=>th,useSceneObjectState:()=>ee,useUrlSync:()=>jd});var r={};n.r(r),n.d(r,{ActWhenVariableChanged:()=>Os,CursorSync:()=>Fs,LiveNowTimer:()=>_l,SceneQueryController:()=>kt});var o={};n.r(o),n.d(o,{AnnotationsDataLayer:()=>Vc});var a=n(5959),i=n.t(a,2),s=n.n(a),l=n(3806),c=n(7781),u=n(8531),d=Object.defineProperty,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function m(e,t,n){const r=((e,t)=>{for(var n in t||(t={}))f.call(t,n)&&g(e,n,t[n]);if(p)for(var n of p(t))h.call(t,n)&&g(e,n,t[n]);return e})({},t);if(n)for(const e of Object.keys(r))n.includes(e)||delete r[e];return c.urlUtil.renderUrl(c.locationUtil.assureBaseUrl(e),r)}function b(e,t){return s().createElement(e.Component,{model:e,routeProps:t})}var v=Object.defineProperty,y=Object.defineProperties,w=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,x=(e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const O=new Map;var A=n(1269);const D={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let R;const _=new Uint8Array(16);function k(){if(!R&&(R="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!R))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R(_)}const P=[];for(let e=0;e<256;++e)P.push((e+256).toString(16).slice(1));const T=function(e,t,n){if(D.randomUUID&&!t&&!e)return D.randomUUID();const r=(e=e||{}).random||(e.rng||k)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return P[e[t+0]]+P[e[t+1]]+P[e[t+2]]+P[e[t+3]]+"-"+P[e[t+4]]+P[e[t+5]]+"-"+P[e[t+6]]+P[e[t+7]]+"-"+P[e[t+8]]+P[e[t+9]]+"-"+P[e[t+10]]+P[e[t+11]]+P[e[t+12]]+P[e[t+13]]+P[e[t+14]]+P[e[t+15]]}(r)};var I=Object.defineProperty,j=Object.defineProperties,F=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,B=(e,t,n)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const V=s().memo((function(e){var t,n=e,{model:r}=n,o=((e,t)=>{var n={};for(var r in e)L.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&M)for(var r of M(e))t.indexOf(r)<0&&N.call(e,r)&&(n[r]=e[r]);return n})(n,["model"]);const i=null!=(t=r.constructor.Component)?t:z,[l,c]=(0,a.useState)(0);return(0,a.useEffect)((()=>{const e=r.activate();return c((e=>e+1)),e}),[r]),r.isActive?s().createElement(i,(u=((e,t)=>{for(var n in t||(t={}))L.call(t,n)&&B(e,n,t[n]);if(M)for(var n of M(t))N.call(t,n)&&B(e,n,t[n]);return e})({},o),j(u,F({model:r})))):null;var u}));function z(e){return null}class $ extends c.BusEventWithPayload{}$.type="scene-object-state-change";class U extends c.BusEventWithPayload{}U.type="scene-object-user-action";var H,q=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};class G{constructor(e){var t,n;((e,t)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,void 0)})(this,H),n=e,q(this,t=H,"write to private field"),t.set(this,n)}resolve(){return q(this,e=H,"read from private field"),e.get(this);var e}}H=new WeakMap;var W=Object.defineProperty,Q=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,K=(e,t,n)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z=(e,t)=>{for(var n in t||(t={}))Y.call(t,n)&&K(e,n,t[n]);if(Q)for(var n of Q(t))X.call(t,n)&&K(e,n,t[n]);return e};class J{constructor(e){this._isActive=!1,this._activationHandlers=[],this._deactivationHandlers=new Map,this._subs=new A.Subscription,this._refCount=0,e.key||(e.key=T()),this._events=new c.EventBusSrv,this._state=Object.freeze(e),this._setParent(this._state)}get state(){return this._state}get isActive(){return this._isActive}get parent(){return this._parent}get variableDependency(){return this._variableDependency}get urlSync(){return this._urlSync}get Component(){return V}_setParent(e){te(e,(e=>{e._parent&&e._parent!==this&&console.warn("SceneObject already has a parent set that is different from the new parent. You cannot share the same SceneObject instance in multiple scenes or in multiple different places of the same scene graph. Use SceneObject.clone() to duplicate a SceneObject or store a state key reference and use sceneGraph.findObject to locate it.",e,this),e._parent=this}))}clearParent(){this._parent=void 0}subscribeToState(e){return this._events.subscribe($,(t=>{t.payload.changedObject===this&&e(t.payload.newState,t.payload.prevState)}))}subscribeToEvent(e,t){return this._events.subscribe(e,t)}setState(e){const t=this._state,n=Z(Z({},this._state),e);this._state=Object.freeze(n),this._setParent(e),this._handleActivationOfChangedStateProps(t,n),this.publishEvent(new $({prevState:t,newState:n,partialUpdate:e,changedObject:this}),!0)}_handleActivationOfChangedStateProps(e,t){this.isActive&&(e.$behaviors!==t.$behaviors&&this._handleChangedBehaviors(e.$behaviors,t.$behaviors),e.$data!==t.$data&&this._handleChangedStateActivation(e.$data,t.$data),e.$variables!==t.$variables&&this._handleChangedStateActivation(e.$variables,t.$variables),e.$timeRange!==t.$timeRange&&this._handleChangedStateActivation(e.$timeRange,t.$timeRange))}_handleChangedStateActivation(e,t){if(e){const t=this._deactivationHandlers.get(e);t&&(t(),this._deactivationHandlers.delete(e))}t&&this._deactivationHandlers.set(t,t.activate())}_handleChangedBehaviors(e,t){if(e)for(const n of e)if(!t||!t.includes(n)){const e=this._deactivationHandlers.get(n);e&&(e(),this._deactivationHandlers.delete(n))}if(t)for(const n of t)e&&e.includes(n)||this._activateBehavior(n)}publishEvent(e,t){this._events.publish(e),t&&this.parent&&this.parent.publishEvent(e,t)}getRoot(){return this._parent?this._parent.getRoot():this}_internalActivate(){this._isActive=!0;const{$data:e,$variables:t,$timeRange:n,$behaviors:r}=this.state;if(this._activationHandlers.forEach((e=>{const t=e();t&&this._deactivationHandlers.set(t,t)})),n&&!n.isActive&&this._deactivationHandlers.set(n,n.activate()),t&&!t.isActive&&this._deactivationHandlers.set(t,t.activate()),e&&!e.isActive&&this._deactivationHandlers.set(e,e.activate()),r)for(const e of r)this._activateBehavior(e)}_activateBehavior(e){if(e instanceof J)this._deactivationHandlers.set(e,e.activate());else if("function"==typeof e){const t=e(this);t&&this._deactivationHandlers.set(e,t)}}activate(){this.isActive||this._internalActivate(),this._refCount++;let e=!1;return()=>{if(this._refCount--,e)throw new Error("SceneObject cancelation handler returned by activate() called a second time");e=!0,0===this._refCount&&this._internalDeactivate()}}_internalDeactivate(){this._isActive=!1;for(let e of this._deactivationHandlers.values())e();this._deactivationHandlers.clear(),this._events.removeAllListeners(),this._subs.unsubscribe(),this._subs=new A.Subscription}useState(){return ee(this)}forceRender(){this.setState({})}clone(e){return function(e,t){const n=le(e.state,t);return new e.constructor(n)}(this,e)}addActivationHandler(e){this._activationHandlers.push(e)}forEachChild(e){te(this.state,e)}getRef(){return this._ref||(this._ref=new G(this)),this._ref}}function ee(e,t){var n;const[r,o]=(0,a.useState)(e.state),i=e.state,s=null!=(n=null==t?void 0:t.shouldActivateOrKeepAlive)&&n;return(0,a.useEffect)((()=>{let t;s&&(t=e.activate());const n=e.subscribeToState((e=>{o(e)}));return e.state!==i&&o(e.state),()=>{n.unsubscribe(),t&&t()}}),[e,s]),e.state}function te(e,t){for(const n of Object.values(e))if(n instanceof J&&t(n),Array.isArray(n))for(const e of n)e instanceof J&&t(e)}var ne=Object.defineProperty,re=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,ie=(e,t,n)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,se=(e,t)=>{for(var n in t||(t={}))oe.call(t,n)&&ie(e,n,t[n]);if(re)for(var n of re(t))ae.call(t,n)&&ie(e,n,t[n]);return e};function le(e,t){const n=se({},e);for(const e in n){const t=n[e];if(t instanceof J&&(n[e]=t.clone()),t instanceof G)throw new Error("Cannot clone a SceneObject with a SceneObjectRef in state");if(Array.isArray(t)){const r=[];for(const e of t)e instanceof J?r.push(e.clone()):r.push(e);n[e]=r}}return Object.assign(n,t),n}function ce(e,t){let n,r=e;for(;r&&!n;)n=t(r),r=r.parent;return n}class ue extends c.DataSourceApi{constructor(e,t){super({name:"RuntimeDataSource-"+e,uid:t,type:e,id:1,readOnly:!0,jsonData:{},access:"direct",meta:{id:e,name:"RuntimeDataSource-"+e,type:c.PluginType.datasource,info:{author:{name:""},description:"",links:[],logos:{large:"",small:""},screenshots:[],updated:"",version:""},module:"",baseUrl:""}})}testDatasource(){return Promise.resolve({})}}const de=new Map;function pe({dataSource:e}){if(de.has(e.uid))throw new Error(`A runtime data source with uid ${e.uid} has already been registered`);de.set(e.uid,e)}var fe=n(3241);function he(e,t){const n=t.state.$variables;if(!n)return t.parent?he(e,t.parent):null;return n.getByName(e)||(t.parent?he(e,t.parent):null)}var ge=(e=>(e.Auto="auto",e.BasicGauge="basic",e.ColorBackground="color-background",e.ColorBackgroundSolid="color-background-solid",e.ColorText="color-text",e.Custom="custom",e.DataLinks="data-links",e.Gauge="gauge",e.GradientGauge="gradient-gauge",e.Image="image",e.JSONView="json-view",e.LcdGauge="lcd-gauge",e.Sparkline="sparkline",e))(ge||{}),me=(e=>(e.CSV="csv",e.Date="date",e.Distributed="distributed",e.DoubleQuote="doublequote",e.Glob="glob",e.HTML="html",e.JSON="json",e.Lucene="lucene",e.PercentEncode="percentencode",e.Pipe="pipe",e.QueryParam="queryparam",e.Raw="raw",e.Regex="regex",e.SQLString="sqlstring",e.SingleQuote="singlequote",e.Text="text",e.UriEncode="uriencode",e))(me||{});ge.Auto;var be=(e=>(e.NotStarted="NotStarted",e.Loading="Loading",e.Streaming="Streaming",e.Done="Done",e.Error="Error",e))(be||{}),ve=Object.defineProperty,ye=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,Se=(e,t,n)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Ce extends J{constructor(e){super(((e,t)=>{for(var n in t||(t={}))we.call(t,n)&&Se(e,n,t[n]);if(ye)for(var n of ye(t))Ee.call(t,n)&&Se(e,n,t[n]);return e})({data:xe},e))}getResultsStream(){const e={origin:this,data:this.state.data};return(0,A.of)(e)}}const xe={state:be.Done,series:[],timeRange:(0,c.getDefaultTimeRange)()};class Oe{constructor(e,t){this._sceneObject=e,this._nextChangeShouldAddHistoryStep=!1,this._keys=t.keys}getKeys(){return"function"==typeof this._keys?this._keys():this._keys}getUrlState(){return this._sceneObject.getUrlState()}updateFromUrl(e){this._sceneObject.updateFromUrl(e)}performBrowserHistoryAction(e){this._nextChangeShouldAddHistoryStep=!0,e(),this._nextChangeShouldAddHistoryStep=!1}shouldCreateHistoryStep(e){return this._nextChangeShouldAddHistoryStep}}const Ae=/^\d+[yYmMsSwWhHdD]$/;function De(e){if("string"!=typeof e)return null;if(-1!==e.indexOf("now"))return e;if(Ae.test(e))return e;if(8===e.length){const t=(0,c.toUtc)(e,"YYYYMMDD");if(t.isValid())return t.toISOString()}else if(15===e.length){const t=(0,c.toUtc)(e,"YYYYMMDDTHHmmss");if(t.isValid())return t.toISOString()}else if(19===e.length){const t=(0,c.toUtc)(e,"YYYY-MM-DD HH:mm:ss");if(t.isValid())return t.toISOString()}else if(24===e.length)return(0,c.toUtc)(e).toISOString();const t=parseInt(e,10);return isNaN(t)?null:(0,c.toUtc)(t).toISOString()}function Re(e,t,n,r,o){const a=o&&"now"===t;return{from:c.dateMath.parse(e,!1,n,r),to:c.dateMath.parse(a?"now-"+o:t,!0,n,r),raw:{from:e,to:t}}}function _e(e,t,n){return(0,c.isDateTime)(e)?e.isValid():c.dateMath.isMathString(e)?c.dateMath.isValid(e):(0,c.dateTimeParse)(e,{roundUp:t,timeZone:n}).isValid()}var ke=Object.defineProperty,Pe=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,je=(e,t,n)=>t in e?ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Fe extends J{constructor(e={}){var t;const n=e.from&&_e(e.from)?e.from:"now-6h",r=e.to&&_e(e.to)?e.to:"now",o=e.timeZone;super(((e,t)=>{for(var n in t||(t={}))Te.call(t,n)&&je(e,n,t[n]);if(Pe)for(var n of Pe(t))Ie.call(t,n)&&je(e,n,t[n]);return e})({from:n,to:r,timeZone:o,value:Re(n,r,o||(0,c.getTimeZone)(),e.fiscalYearStartMonth,e.UNSAFE_nowDelay),refreshOnActivate:null!=(t=e.refreshOnActivate)?t:{percent:10}},e)),this._urlSync=new Oe(this,{keys:["from","to","timezone","time","time.window"]}),this.onTimeRangeChange=e=>{const t={};"string"==typeof e.raw.from?t.from=e.raw.from:t.from=e.raw.from.toISOString(),"string"==typeof e.raw.to?t.to=e.raw.to:t.to=e.raw.to.toISOString(),t.value=Re(t.from,t.to,this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay),t.from===this.state.from&&t.to===this.state.to||this._urlSync.performBrowserHistoryAction((()=>{this.setState(t)}))},this.onTimeZoneChange=e=>{this._urlSync.performBrowserHistoryAction((()=>{this.setState({timeZone:e})}))},this.onRefresh=()=>{this.setState({value:Re(this.state.from,this.state.to,this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay)}),this.publishEvent(new u.RefreshEvent,!0)},this.addActivationHandler(this._onActivate.bind(this))}_onActivate(){if(!this.state.timeZone){const e=this.getTimeZoneSource();e!==this&&this._subs.add(e.subscribeToState(((t,n)=>{void 0!==t.timeZone&&t.timeZone!==n.timeZone&&this.setState({value:Re(this.state.from,this.state.to,e.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay)})})))}c.rangeUtil.isRelativeTimeRange(this.state.value.raw)&&this.refreshIfStale()}refreshIfStale(){var e,t,n,r;let o;void 0!==(null==(t=null==(e=this.state)?void 0:e.refreshOnActivate)?void 0:t.percent)&&(o=this.calculatePercentOfInterval(this.state.refreshOnActivate.percent)),void 0!==(null==(r=null==(n=this.state)?void 0:n.refreshOnActivate)?void 0:r.afterMs)&&(o=Math.min(this.state.refreshOnActivate.afterMs,null!=o?o:1/0)),void 0!==o&&this.refreshRange(o)}getTimeZoneSource(){if(!this.parent||!this.parent.parent)return this;return ce(this.parent.parent,(e=>{if(e.state.$timeRange&&e.state.$timeRange.state.timeZone)return e.state.$timeRange}))||this}refreshRange(e){var t;const n=Re(this.state.from,this.state.to,null!=(t=this.state.timeZone)?t:(0,c.getTimeZone)(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay);n.to.diff(this.state.value.to,"milliseconds")>=e&&this.setState({value:n})}calculatePercentOfInterval(e){const t=this.state.value.to.diff(this.state.value.from,"milliseconds");return Math.ceil(t/e)}getTimeZone(){if(this.state.timeZone)return this.state.timeZone;const e=this.getTimeZoneSource();return e!==this?e.state.timeZone:(0,c.getTimeZone)()}getUrlState(){const e=u.locationService.getSearchObject(),t={from:this.state.from,to:this.state.to};return this.state.timeZone&&(t.timezone=this.state.timeZone),e.time&&e["time.window"]&&(t.time=null,t["time.window"]=null),t}updateFromUrl(e){var t,n,r;const o={};let a=De(e.from),i=De(e.to);if(e.time&&e["time.window"]){const t=function(e,t){const n=isNaN(Date.parse(e))?parseInt(e,10):Date.parse(e);let r;return r=t.match(/^\d+$/)&&parseInt(t,10)?parseInt(t,10):c.rangeUtil.intervalToMs(t),{from:(0,c.toUtc)(n-r/2).toISOString(),to:(0,c.toUtc)(n+r/2).toISOString()}}(Array.isArray(e.time)?e.time[0]:e.time,Array.isArray(e["time.window"])?e["time.window"][0]:e["time.window"]);t.from&&_e(t.from)&&(a=t.from),t.to&&_e(t.to)&&(i=t.to)}if(a&&_e(a)&&(o.from=a),i&&_e(i)&&(o.to=i),"string"==typeof e.timezone&&(o.timeZone=""!==e.timezone?e.timezone:void 0),0!==Object.keys(o).length)return o.value=Re(null!=(t=o.from)?t:this.state.from,null!=(n=o.to)?n:this.state.to,null!=(r=o.timeZone)?r:this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay),this.setState(o)}}const Me=new Ce,Le=new Fe,Ne=new class extends J{constructor(){super({variables:[]})}getByName(e){}isVariableLoadingOrWaitingToUpdate(e){return!1}};function Be(e){var t;return null!=(t=ce(e,(e=>e.state.$timeRange)))?t:Le}class Ve extends c.BusEventWithPayload{}function ze(e){return"object"==typeof e&&"formatter"in e}Ve.type="scene-variable-changed-value";let $e,Ue={};function He(e){return Ue[e]||(Ue[e]=(0,fe.property)(e))}class qe{constructor(e,t){this.state={name:e,value:t,type:"scopedvar"}}getValue(e){let{value:t}=this.state,n=t.value;return n=e?He(e)(t.value):t.value,"string"===n||"number"===n||"boolean"===n?n:String(n)}getValueText(){const{value:e}=this.state;return null!=e.text?String(e.text):String(e)}}const Ge=new c.Registry((()=>{const e=[{id:me.Lucene,name:"Lucene",description:"Values are lucene escaped and multi-valued variables generate an OR expression",formatter:e=>"string"==typeof e?We(e):Array.isArray(e)?0===e.length?"__empty__":"("+(0,fe.map)(e,(e=>'"'+We(e)+'"')).join(" OR ")+")":We(`${e}`)},{id:me.Raw,name:"raw",description:"Keep value as is",formatter:e=>String(e)},{id:me.Regex,name:"Regex",description:"Values are regex escaped and multi-valued variables generate a (<value>|<value>) expression",formatter:e=>{if("string"==typeof e)return(0,c.escapeRegex)(e);if(Array.isArray(e)){const t=e.map((e=>"string"==typeof e?(0,c.escapeRegex)(e):(0,c.escapeRegex)(String(e))));return 1===t.length?t[0]:"("+t.join("|")+")"}return(0,c.escapeRegex)(`${e}`)}},{id:me.Pipe,name:"Pipe",description:"Values are separated by | character",formatter:e=>"string"==typeof e?e:Array.isArray(e)?e.join("|"):`${e}`},{id:me.Distributed,name:"Distributed",description:"Multiple values are formatted like variable=value",formatter:(e,t,n)=>"string"==typeof e?e:Array.isArray(e)?(e=(0,fe.map)(e,((e,t)=>0!==t?n.state.name+"="+e:e)),e.join(",")):`${e}`},{id:me.CSV,name:"Csv",description:"Comma-separated values",formatter:e=>"string"==typeof e?e:(0,fe.isArray)(e)?e.join(","):String(e)},{id:me.HTML,name:"HTML",description:"HTML escaping of values",formatter:e=>"string"==typeof e?c.textUtil.escapeHtml(e):(0,fe.isArray)(e)?c.textUtil.escapeHtml(e.join(", ")):c.textUtil.escapeHtml(String(e))},{id:me.JSON,name:"JSON",description:"JSON stringify value",formatter:e=>"string"==typeof e?e:JSON.stringify(e)},{id:me.PercentEncode,name:"Percent encode",description:"Useful for URL escaping values",formatter:e=>(0,fe.isArray)(e)?Qe("{"+e.join(",")+"}"):Qe(e)},{id:me.SingleQuote,name:"Single quote",description:"Single quoted values",formatter:e=>{const t=new RegExp("'","g");if((0,fe.isArray)(e))return(0,fe.map)(e,(e=>`'${(0,fe.replace)(e,t,"\\'")}'`)).join(",");let n="string"==typeof e?e:String(e);return`'${(0,fe.replace)(n,t,"\\'")}'`}},{id:me.DoubleQuote,name:"Double quote",description:"Double quoted values",formatter:e=>{const t=new RegExp('"',"g");if((0,fe.isArray)(e))return(0,fe.map)(e,(e=>`"${(0,fe.replace)(e,t,'\\"')}"`)).join(",");let n="string"==typeof e?e:String(e);return`"${(0,fe.replace)(n,t,'\\"')}"`}},{id:me.SQLString,name:"SQL string",description:"SQL string quoting and commas for use in IN statements and other scenarios",formatter:Je},{id:me.Date,name:"Date",description:"Format date in different ways",formatter:(e,t)=>{var n;let r=NaN;if("number"==typeof e?r=e:"string"==typeof e&&(r=parseInt(e,10)),isNaN(r))return"NaN";const o=null!=(n=t[0])?n:"iso";switch(o){case"ms":return String(e);case"seconds":return`${Math.round(r/1e3)}`;case"iso":return(0,c.dateTime)(r).toISOString();default:return(t||[]).length>1?(0,c.dateTime)(r).format(t.join(":")):(0,c.dateTime)(r).format(o)}}},{id:me.Glob,name:"Glob",description:"Format multi-valued variables using glob syntax, example {value1,value2}",formatter:e=>(0,fe.isArray)(e)&&e.length>1?"{"+e.join(",")+"}":String(e)},{id:me.Text,name:"Text",description:"Format variables in their text representation. Example in multi-variable scenario A + B + C.",formatter:(e,t,n)=>n.getValueText?n.getValueText():String(e)},{id:me.QueryParam,name:"Query parameter",description:"Format variables as URL parameters. Example in multi-variable scenario A + B + C => var-foo=A&var-foo=B&var-foo=C.",formatter:(e,t,n)=>{if(n.urlSync){const e=n.urlSync.getUrlState();return c.urlUtil.toUrlParams(e)}return Array.isArray(e)?e.map((e=>Ke(n.state.name,e))).join("&"):Ke(n.state.name,e)}},{id:me.UriEncode,name:"Percent encode as URI",description:"Useful for URL escaping values, taking into URI syntax characters",formatter:e=>(0,fe.isArray)(e)?Ye("{"+e.join(",")+"}"):Ye(e)}];return e}));function We(e){return!1===isNaN(+e)?e:e.replace(/([\!\*\+\-\=<>\s\&\|\(\)\[\]\{\}\^\~\?\:\\/"])/g,"\\$1")}function Qe(e){return"object"==typeof e&&(e=String(e)),Xe(encodeURIComponent(e))}const Ye=e=>Xe(encodeURI(String(e))),Xe=e=>e.replace(/[!'()*]/g,(e=>"%"+e.charCodeAt(0).toString(16).toUpperCase()));function Ke(e,t){return`var-${e}=${Qe(t)}`}const Ze={"'":"''",'"':'\\"'};function Je(e){const t=new RegExp("'|\"","g");if((0,fe.isArray)(e))return(0,fe.map)(e,(e=>`'${(0,fe.replace)(e,t,(e=>{var t;return null!=(t=Ze[e])?t:""}))}'`)).join(",");let n="string"==typeof e?e:String(e);return`'${(0,fe.replace)(n,t,(e=>{var t;return null!=(t=Ze[e])?t:""}))}'`}const et="All",tt="$__all",nt="$__auto",rt=/\$(\w+)|\[\[(\w+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::([^\}]+))?}/g;class ot{constructor(e){this._value=e}formatter(){return this._value}}class at{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=Be(this._sceneObject);return"__from"===this.state.name?e.state.value.from.valueOf():e.state.value.to.valueOf()}getValueText(){const e=Be(this._sceneObject);return"__from"===this.state.name?(0,c.dateTimeFormat)(e.state.value.from,{timeZone:e.getTimeZone()}):(0,c.dateTimeFormat)(e.state.value.to,{timeZone:e.getTimeZone()})}}class it{constructor(e,t,n){this.state={name:e,type:"time_macro",match:n},this._sceneObject=t}getValue(){var e;const t=fs(this._sceneObject);if(t){const n=null==(e=t.state.data)?void 0:e.request;return n?"__interval_ms"===this.state.name?n.intervalMs:n.interval:this.state.match}return this.state.match}}function st(e,t){e.setState(t)}function lt(){return u.useLocationService?(0,u.useLocationService)():u.locationService}class ct extends J{constructor(){super(...arguments),this._urlSync=new ut(this)}validateAndUpdate(){return this.getValueOptions({}).pipe((0,A.map)((e=>(this.updateValueGivenNewOptions(e),{}))))}onCancel(){this.setStateHelper({loading:!1});const e=this.parent;null==e||e.cancel(this)}updateValueGivenNewOptions(e){const{value:t,text:n,options:r}=this.state,o=this.getStateUpdateGivenNewOptions(e,t,n);this.interceptStateUpdateAfterValidation(o),this.setStateHelper(o),(o.value!==t||o.text!==n||this.hasAllValue()&&!(0,fe.isEqual)(e,r))&&this.publishEvent(new Ve(this),!0)}getStateUpdateGivenNewOptions(e,t,n){const r={options:e,loading:!1,value:t,text:n};if(0===e.length)return this.state.defaultToAll||this.state.includeAll?(r.value=tt,r.text=et):this.state.isMulti?(r.value=[],r.text=[]):(r.value="",r.text=""),r;if(this.hasAllValue())return this.state.includeAll||(r.value=e[0].value,r.text=e[0].label,this.state.isMulti&&(r.value=[r.value],r.text=[r.text])),r;if(this.state.isMulti){const o=(Array.isArray(t)?t:[t]).filter((t=>e.find((e=>e.value===t)))),a=o.map((t=>e.find((e=>e.value===t)).label));if(0===o.length){const t=this.getDefaultMultiState(e);r.value=t.value,r.text=t.text}else(0,fe.isEqual)(o,t)||(r.value=o),(0,fe.isEqual)(a,n)||(r.text=a);return r}let o=function(e,t,n){let r;for(const o of n){if(o.value===e)return o;o.label===t&&(r=o)}return r}(t,n,e);return o?(r.text=o.label,r.value=o.value):this.state.defaultToAll?(r.value=tt,r.text=et):(r.value=e[0].value,r.text=e[0].label),r}interceptStateUpdateAfterValidation(e){const t=e.value===tt&&this.state.text===et;this.skipNextValidation&&e.value!==this.state.value&&e.text!==this.state.text&&!t&&(e.value=this.state.value,e.text=this.state.text),this.skipNextValidation=!1}getValue(){return this.hasAllValue()?this.state.allValue?new dt(this.state.allValue,this):this.state.options.map((e=>e.value)):this.state.value}getValueText(){return this.hasAllValue()?et:Array.isArray(this.state.text)?this.state.text.join(" + "):String(this.state.text)}hasAllValue(){const e=this.state.value;return e===tt||Array.isArray(e)&&e[0]===tt}getDefaultMultiState(e){return this.state.defaultToAll?{value:[tt],text:[et]}:e.length>0?{value:[e[0].value],text:[e[0].label]}:{value:[],text:[]}}changeValueTo(e,t){if(e!==this.state.value||t!==this.state.text){if(t||(t=Array.isArray(e)?e.map((e=>this.findLabelTextForValue(e))):this.findLabelTextForValue(e)),Array.isArray(e)){if(0===e.length){const n=this.getDefaultMultiState(this.state.options);e=n.value,t=n.text}e[e.length-1]===tt?(e=[tt],t=[et]):e[0]===tt&&e.length>1&&(e.shift(),Array.isArray(t)&&t.shift())}(0,fe.isEqual)(e,this.state.value)&&(0,fe.isEqual)(t,this.state.text)||(this.setStateHelper({value:e,text:t,loading:!1}),this.publishEvent(new Ve(this),!0))}}findLabelTextForValue(e){if(e===tt)return et;const t=this.state.options.find((t=>t.value===e));if(t)return t.label;const n=this.state.options.find((t=>t.label===e));return n?n.label:e}setStateHelper(e){st(this,e)}getOptionsForSelect(){let e=this.state.options;return this.state.includeAll&&(e=[{value:tt,label:et},...e]),Array.isArray(this.state.value)||e.find((e=>e.value===this.state.value))||(e=[{value:this.state.value,label:String(this.state.text)},...e]),e}refreshOptions(){this.getValueOptions({}).subscribe((e=>{this.updateValueGivenNewOptions(e)}))}}class ut{constructor(e){this._sceneObject=e}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey()]}getUrlState(){if(this._sceneObject.state.skipUrlSync)return{};let e=null,t=this._sceneObject.state.value;return e=Array.isArray(t)?t.map(String):this._sceneObject.state.isMulti?[String(t)]:String(t),{[this.getKey()]:e}}updateFromUrl(e){let t=e[this.getKey()];var n;null!=t&&(this._sceneObject.state.includeAll&&(n=t,t=(0,fe.isArray)(n)&&n[0]===et?[tt]:n===et?tt:n),this._sceneObject.state.allValue&&this._sceneObject.state.allValue===t&&(t=tt),this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0),this._sceneObject.changeValueTo(t))}}class dt{constructor(e,t){this._value=e,this._variable=t}formatter(e){return e===me.Text?et:e===me.PercentEncode?Ge.get(me.PercentEncode).formatter(this._value,[],this._variable):e===me.QueryParam?Ge.get(me.QueryParam).formatter(et,[],this._variable):this._value}}function pt(e,t={}){if(e.state.$variables)for(const n of e.state.$variables.state.variables)n.state.skipUrlSync||t[n.state.name]||(t[n.state.name]=n);return e.parent&&pt(e.parent,t),t}var ft=Object.defineProperty,ht=Object.defineProperties,gt=Object.getOwnPropertyDescriptors,mt=Object.getOwnPropertySymbols,bt=Object.prototype.hasOwnProperty,vt=Object.prototype.propertyIsEnumerable,yt=(e,t,n)=>t in e?ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const wt=(0,c.getDisplayProcessor)();class Et{constructor(e){this._urlQueryParams=e}formatter(e){if(!e)return this._urlQueryParams;const t=e.split(":");if("exclude"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams);for(const n of t[1].split(","))e.delete(n);return`?${e}`}if("include"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams),n=t[1].split(",");for(const t of e.keys())n.includes(t)||e.delete(t);return`?${e}`}return this._urlQueryParams}}const St=new Map([[c.DataLinkBuiltInVars.includeVars,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){const e=pt(this._sceneObject),t=Ge.get(me.QueryParam),n=[];for(const r of Object.keys(e)){const o=e[r];if(o instanceof ct&&o.hasAllValue()&&!o.state.allValue){n.push(t.formatter(tt,[],o));continue}const a=o.getValue();a&&(ze(a)?n.push(a.formatter(me.QueryParam)):n.push(t.formatter(a,[],o)))}return new ot(n.join("&"))}getValueText(){return""}}],[c.DataLinkBuiltInVars.keepTime,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){var e;const t=null==(e=Be(this._sceneObject).urlSync)?void 0:e.getUrlState();return new ot(c.urlUtil.toUrlParams(t))}getValueText(){return""}}],["__value",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__value"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r)return this._match;const{frame:o,rowIndex:a,field:i,calculatedValue:s}=r.value;if(s)switch(e){case"numeric":case"raw":return s.numeric;case"time":return"";default:return(0,c.formattedValueToString)(s)}if(null==a)return this._match;if("time"===e){const e=o.fields.find((e=>e.type===c.FieldType.time));return e?e.values.get(a):void 0}if(!i)return this._match;const l=i.values.get(a);if("raw"===e)return l;const u=(null!=(n=i.display)?n:wt)(l);return"numeric"===e?u.numeric:(0,c.formattedValueToString)(u)}getValueText(){return""}}],["__data",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__data"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r||!e)return this._match;const{frame:o,rowIndex:a}=r.value;if(void 0===a||void 0===e)return this._match;const i={name:o.name,refId:o.refId,fields:(0,c.getFieldDisplayValuesProxy)({frame:o,rowIndex:a})};return null!=(n=He(e)(i))?n:""}getValueText(){return""}}],["__series",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__series"}}getValue(e){var t;const n=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!n||!e)return this._match;if("name"!==e)return this._match;const{frame:r,frameIndex:o}=n.value;return(0,c.getFrameDisplayName)(r,o)}getValueText(){return""}}],["__field",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__field"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r||!e)return this._match;if(void 0===e||""===e)return this._match;const{frame:o,field:a,data:i}=r.value,s=function(e,t,n){return new Proxy({},{get:(r,o)=>{return"name"===o?e.name:"displayName"===o?(0,c.getFieldDisplayName)(e,t,n):"labels"===o||"formattedLabels"===o?e.labels?(a=((e,t)=>{for(var n in t||(t={}))bt.call(t,n)&&yt(e,n,t[n]);if(mt)for(var n of mt(t))vt.call(t,n)&&yt(e,n,t[n]);return e})({},e.labels),i={__values:Object.values(e.labels).sort().join(", "),toString:()=>(0,c.formatLabels)(e.labels,"",!0)},ht(a,gt(i))):"":void 0;var a,i}})}(a,o,i);return null!=(n=He(e)(s))?n:""}getValueText(){return""}}],["__url",class{constructor(e,t){this.state={name:e,type:"url_macro"}}getValue(e){var t;const n=u.locationService.getLocation(),r=null!=(t=u.config.appSubUrl)?t:"";switch(null!=e?e:""){case"params":return new Et(n.search);case"path":return r+n.pathname;default:return r+n.pathname+n.search}}getValueText(){return""}}],["__from",at],["__to",at],["__timezone",class{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=Be(this._sceneObject).getTimeZone();return"browser"===e?Intl.DateTimeFormat().resolvedOptions().timeZone:e}getValueText(){return this.getValue()}}],["__user",class{constructor(e,t){this.state={name:e,type:"user_macro"}}getValue(e){const t=u.config.bootData.user;switch(e){case"login":return t.login;case"email":return t.email;default:return String(t.id)}}getValueText(){return""}}],["__org",class{constructor(e,t){this.state={name:e,type:"org_macro"}}getValue(e){const t=u.config.bootData.user;return"name"===e?t.orgName:String(t.orgId)}getValueText(){return""}}],["__interval",it],["__interval_ms",it]]);function Ct(e,t,n,r,o){return t&&"string"==typeof t?(rt.lastIndex=0,t.replace(rt,((t,a,i,s,l,c,u)=>{const d=a||i||l,p=s||u||r,f=function(e,t,n,r){if(n&&n.hasOwnProperty(e)){const t=n[e];if(t)return function(e,t){return $e?($e.state.name=e,$e.state.value=t):$e=new qe(e,t),$e}(e,t)}const o=he(e,r);if(o)return o;const a=St.get(e);return a?new a(e,r,t,n):null}(d,t,n,e);if(!f)return o&&o.push({match:t,variableName:d,fieldPath:c,format:p,value:t,found:!1}),t;const h=function(e,t,n,r){if(null==n)return"";if(ze(n))return Ct(e,n.formatter(r));if(Array.isArray(n)||"object"!=typeof n||(n=`${n}`),"function"==typeof r)return r(n,{name:t.state.name,type:t.state.type,multi:t.state.isMulti,includeAll:t.state.includeAll});let o=[];r?(o=r.split(":"),o.length>1?(r=o[0],o=o.slice(1)):o=[]):r=me.Glob;let a=Ge.getIfExists(r);return a||(console.error(`Variable format ${r} not found. Using glob format as fallback.`),a=Ge.get(me.Glob)),a.formatter(n,o,t)}(e,f,f.getValue(c),p);return o&&o.push({match:t,variableName:d,fieldPath:c,format:p,value:h,found:h!==t}),h}))):null!=t?t:""}function xt(e){return void 0!==e.useState}function Ot(e){return"enrichDataRequest"in e}function At(e){return"enrichFiltersRequest"in e}function Dt(e){return"isDataLayer"in e}var Rt,_t=(e,t,n)=>(((e,t)=>{if(!t.has(e))throw TypeError("Cannot read from private field")})(e,t),n?n.call(e):t.get(e));class kt extends J{constructor(){super({isRunning:!1}),this.isQueryController=!0,((e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)})(this,Rt,new Set),this.addActivationHandler((()=>()=>_t(this,Rt).clear()))}queryStarted(e){_t(this,Rt).add(e),this.changeRunningQueryCount(1),this.state.isRunning||this.setState({isRunning:!0})}queryCompleted(e){_t(this,Rt).has(e)&&(_t(this,Rt).delete(e),this.changeRunningQueryCount(-1),0===_t(this,Rt).size&&this.setState({isRunning:!1}))}changeRunningQueryCount(e){var t;window.__grafanaRunningQueryCount=(null!=(t=window.__grafanaRunningQueryCount)?t:0)+e}cancelAll(){var e;for(const t of _t(this,Rt).values())null==(e=t.cancel)||e.call(t)}}function Pt(e,t,...n){let r=!1;"undefined"!=typeof window&&(r="true"===localStorage.getItem("grafana.debug.scenes")),r&&console.log(`${e}: `,t,...n)}async function Tt(e,t){if(null==e?void 0:e.uid){const t=de.get(e.uid);if(t)return t}return e&&e.query?e:await(0,u.getDataSourceSrv)().get(e,t)}Rt=new WeakMap;class It{constructor(){this._values=new Map}recordCurrentDependencyValuesForSceneObject(e){if(this.clearValues(),e.variableDependency)for(const t of e.variableDependency.getNames()){const n=vs.lookupVariable(t,e);n&&this._values.set(n.state.name,n.getValue())}}cloneAndRecordCurrentValuesForSceneObject(e){const t=new It;return t.recordCurrentDependencyValuesForSceneObject(e),t}clearValues(){this._values.clear()}hasValues(){return!!this._values}recordCurrentValue(e){this._values.set(e.state.name,e.getValue())}hasRecordedValue(e){return this._values.has(e.state.name)}hasValueChanged(e){return!(!this._values.has(e.state.name)||_i(this._values.get(e.state.name),e.getValue()))}hasDependenciesChanged(e){if(!this._values)return!1;if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){const n=vs.lookupVariable(t,e);if(!n)continue;const r=n.state.name;if(n&&this._values.has(r)&&!_i(this._values.get(r),n.getValue()))return!0}return!1}}function jt(e){return"object"==typeof e&&"getExtraQueries"in e}var Ft=Object.defineProperty,Mt=Object.defineProperties,Lt=Object.getOwnPropertyDescriptors,Nt=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,zt=(e,t,n)=>t in e?Ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $t=(e,t)=>(0,A.of)(t);var Ut=Object.defineProperty,Ht=Object.defineProperties,qt=Object.getOwnPropertyDescriptors,Gt=Object.getOwnPropertySymbols,Wt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable,Yt=(e,t,n)=>t in e?Ut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xt=(e,t)=>{for(var n in t||(t={}))Wt.call(t,n)&&Yt(e,n,t[n]);if(Gt)for(var n of Gt(t))Qt.call(t,n)&&Yt(e,n,t[n]);return e},Kt=(e,t)=>Ht(e,qt(t));function Zt(e){const t=e.getRoot();return Ot(t)?t.enrichDataRequest(e):null}let Jt,en=new Set;function tn(e){return t=>{const n=vs.getQueryController(e.origin);return n?new A.Observable((r=>{e.cancel||(e.cancel=()=>r.complete()),n.queryStarted(e);let o=!1;const a=t.subscribe({next:t=>{o||t.state===be.Loading||(o=!0,n.queryCompleted(e)),r.next(t)},error:e=>r.error(e),complete:()=>{r.complete()}});return()=>{a.unsubscribe(),o||n.queryCompleted(e)}})):t}}const nn=new Set;var rn=n(2007);const on={RadioButton:{container:"data-testid radio-button"},Breadcrumbs:{breadcrumb:e=>`data-testid ${e} breadcrumb`},TimePicker:{openButton:"data-testid TimePicker Open Button",overlayContent:"data-testid TimePicker Overlay Content",fromField:"data-testid Time Range from field",toField:"data-testid Time Range to field",applyTimeRange:"data-testid TimePicker submit button",copyTimeRange:"data-testid TimePicker copy button",pasteTimeRange:"data-testid TimePicker paste button",calendar:{label:"data-testid Time Range calendar",openButton:"data-testid Open time range calendar",closeButton:"data-testid Close time range Calendar"},absoluteTimeRangeTitle:"data-testid-absolute-time-range-narrow"},DataSourcePermissions:{form:()=>'form[name="addPermission"]',roleType:"Role to add new permission to",rolePicker:"Built-in role picker",permissionLevel:"Permission Level"},DateTimePicker:{input:"data-testid date-time-input"},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:"Test Data Query scenario select container",scenarioSelect:"Test Data Query scenario select",max:"TestData max",min:"TestData min",noise:"TestData noise",seriesCount:"TestData series count",spread:"TestData spread",startValue:"TestData start value",drop:"TestData drop values"}},DataSourceHttpSettings:{urlInput:"data-testid Datasource HTTP settings url"},Jaeger:{traceIDInput:"Trace ID"},Prometheus:{configPage:{connectionSettings:"Data source connection URL",manageAlerts:"prometheus-alerts-manager",scrapeInterval:"data-testid scrape interval",queryTimeout:"data-testid query timeout",defaultEditor:"data-testid default editor",disableMetricLookup:"disable-metric-lookup",prometheusType:"data-testid prometheus type",prometheusVersion:"data-testid prometheus version",cacheLevel:"data-testid cache level",incrementalQuerying:"prometheus-incremental-querying",queryOverlapWindow:"data-testid query overlap window",disableRecordingRules:"disable-recording-rules",customQueryParameters:"data-testid custom query parameters",httpMethod:"data-testid http method",exemplarsAddButton:"data-testid Add exemplar config button",internalLinkSwitch:"data-testid Internal link switch",codeModeMetricNamesSuggestionLimit:"data-testid code mode metric names suggestion limit"},queryEditor:{explain:"data-testid prometheus explain switch wrapper",editorToggle:"data-testid QueryEditorModeToggle",options:"data-testid prometheus options",legend:"data-testid prometheus legend wrapper",format:"data-testid prometheus format",step:"prometheus-step",type:"data-testid prometheus type",exemplars:"prometheus-exemplars",builder:{metricSelect:"data-testid metric select",hints:"data-testid prometheus hints",metricsExplorer:"data-testid metrics explorer",queryAdvisor:"data-testid query advisor"},code:{queryField:"data-testid prometheus query field",metricsCountInfo:"data-testid metrics count disclaimer",metricsBrowser:{openButton:"data-testid open metrics browser",selectMetric:"data-testid select a metric",seriesLimit:"data-testid series limit",metricList:"data-testid metric list",labelNamesFilter:"data-testid label names filter",labelValuesFilter:"data-testid label values filter",useQuery:"data-testid use query",useAsRateQuery:"data-testid use as rate query",validateSelector:"data-testid validate selector",clear:"data-testid clear"}}},exemplarMarker:"data-testid Exemplar marker",variableQueryEditor:{queryType:"data-testid query type",labelnames:{metricRegex:"data-testid label names metric regex"},labelValues:{labelSelect:"data-testid label values label select"},metricNames:{metricRegex:"data-testid metric names metric regex"},varQueryResult:"data-testid variable query result",seriesQuery:"data-testid prometheus series query",classicQuery:"data-testid prometheus classic query"},annotations:{minStep:"prometheus-annotation-min-step",title:"data-testid prometheus annotation title",tags:"data-testid prometheus annotation tags",text:"data-testid prometheus annotation text",seriesValueAsTimestamp:"data-testid prometheus annotation series value as timestamp"}}},Menu:{MenuComponent:e=>`${e} menu`,MenuGroup:e=>`${e} menu group`,MenuItem:e=>`${e} menu item`,SubMenu:{container:"data-testid SubMenu container",icon:"data-testid SubMenu icon"}},Panels:{Panel:{title:e=>`data-testid Panel header ${e}`,content:"data-testid panel content",headerItems:e=>`data-testid Panel header item ${e}`,menuItems:e=>`data-testid Panel menu item ${e}`,menu:e=>`data-testid Panel menu ${e}`,containerByTitle:e=>`${e} panel`,headerCornerInfo:e=>`Panel header ${e}`,status:e=>`data-testid Panel status ${e}`,loadingBar:()=>"Panel loading bar",HoverWidget:{container:"data-testid hover-header-container",dragIcon:"data-testid drag-icon"},PanelDataErrorMessage:"data-testid Panel data error message"},Visualization:{Graph:{container:"Graph container",VisualizationTab:{legendSection:"Legend section"},Legend:{legendItemAlias:e=>`gpl alias ${e}`,showLegendSwitch:"gpl show legend"},xAxis:{labels:()=>"div.flot-x-axis > div.flot-tick-label"}},BarGauge:{value:"Bar gauge value",valueV2:"data-testid Bar gauge value"},PieChart:{svgSlice:"data testid Pie Chart Slice"},Text:{container:()=>".markdown-html"},Table:{header:"table header",footer:"table-footer",body:"data-testid table body"}}},VizLegend:{seriesName:e=>`data-testid VizLegend series ${e}`},Drawer:{General:{title:e=>`Drawer title ${e}`,expand:"Drawer expand",contract:"Drawer contract",close:"data-testid Drawer close",rcContentWrapper:()=>".rc-drawer-content-wrapper",subtitle:"data-testid drawer subtitle"},DashboardSaveDrawer:{saveButton:"data-testid Save dashboard drawer button",saveAsButton:"data-testid Save as dashboard drawer button",saveAsTitleInput:"Save dashboard title field"}},PanelEditor:{General:{content:"data-testid Panel editor content"},OptionsPane:{content:"data-testid Panel editor option pane content",select:"Panel editor option pane select",fieldLabel:e=>`${e} field property editor`,fieldInput:e=>`data-testid Panel editor option pane field input ${e}`},DataPane:{content:"data-testid Panel editor data pane content"},applyButton:"data-testid Apply changes and go back to dashboard",toggleVizPicker:"data-testid toggle-viz-picker",toggleVizOptions:"data-testid toggle-viz-options",toggleTableView:"data-testid toggle-table-view",showZoomField:"Map controls Show zoom control field property editor",showAttributionField:"Map controls Show attribution field property editor",showScaleField:"Map controls Show scale field property editor",showMeasureField:"Map controls Show measure tools field property editor",showDebugField:"Map controls Show debug field property editor",measureButton:"show measure tools"},PanelInspector:{Data:{content:"Panel inspector Data content"},Stats:{content:"Panel inspector Stats content"},Json:{content:"data-testid Panel inspector Json content"},Query:{content:"Panel inspector Query content",refreshButton:"Panel inspector Query refresh button",jsonObjectKeys:()=>".json-formatter-key"}},Tab:{title:e=>`data-testid Tab ${e}`,active:()=>'[class*="-activeTabStyle"]'},RefreshPicker:{runButton:"RefreshPicker run button",intervalButton:"RefreshPicker interval button",runButtonV2:"data-testid RefreshPicker run button",intervalButtonV2:"data-testid RefreshPicker interval button"},QueryTab:{content:"Query editor tab content",queryInspectorButton:"Query inspector button",queryHistoryButton:"data-testid query-history-button",addQuery:"data-testid query-tab-add-query",queryGroupTopSection:"data-testid query group top section",addExpression:"data-testid query-tab-add-expression"},QueryHistory:{queryText:"Query text"},QueryEditorRows:{rows:"Query editor row"},QueryEditorRow:{actionButton:e=>`data-testid ${e}`,title:e=>`Query editor row title ${e}`,container:e=>`Query editor row ${e}`},AlertTab:{content:"data-testid Alert editor tab content"},AlertRules:{groupToggle:"data-testid group-collapse-toggle",toggle:"data-testid collapse-toggle",expandedContent:"data-testid expanded-content",previewButton:"data-testid alert-rule preview-button",ruleNameField:"data-testid alert-rule name-field",newFolderButton:"data-testid alert-rule new-folder-button",newFolderNameField:"data-testid alert-rule name-folder-name-field",newFolderNameCreateButton:"data-testid alert-rule name-folder-name-create-button",newEvaluationGroupButton:"data-testid alert-rule new-evaluation-group-button",newEvaluationGroupName:"data-testid alert-rule new-evaluation-group-name",newEvaluationGroupInterval:"data-testid alert-rule new-evaluation-group-interval",newEvaluationGroupCreate:"data-testid alert-rule new-evaluation-group-create-button"},Alert:{alert:e=>`Alert ${e}`,alertV2:e=>`data-testid Alert ${e}`},TransformTab:{content:"data-testid Transform editor tab content",newTransform:e=>`data-testid New transform ${e}`,transformationEditor:e=>`data-testid Transformation editor ${e}`,transformationEditorDebugger:e=>`data-testid Transformation editor debugger ${e}`},Transforms:{card:e=>`data-testid New transform ${e}`,disableTransformationButton:"data-testid Disable transformation button",Reduce:{modeLabel:"data-testid Transform mode label",calculationsLabel:"data-testid Transform calculations label"},SpatialOperations:{actionLabel:"root Action field property editor",locationLabel:"root Location Mode field property editor",location:{autoOption:"Auto location option",coords:{option:"Coords location option",latitudeFieldLabel:"root Latitude field field property editor",longitudeFieldLabel:"root Longitude field field property editor"},geohash:{option:"Geohash location option",geohashFieldLabel:"root Geohash field field property editor"},lookup:{option:"Lookup location option",lookupFieldLabel:"root Lookup field field property editor",gazetteerFieldLabel:"root Gazetteer field property editor"}}},searchInput:"data-testid search transformations",noTransformationsMessage:"data-testid no transformations message",addTransformationButton:"data-testid add transformation button",removeAllTransformationsButton:"data-testid remove all transformations button"},NavBar:{Configuration:{button:"Configuration"},Toggle:{button:"data-testid Toggle menu"},Reporting:{button:"Reporting"}},NavMenu:{Menu:"data-testid navigation mega-menu",item:"data-testid Nav menu item"},NavToolbar:{container:"data-testid Nav toolbar",shareDashboard:"data-testid Share dashboard",markAsFavorite:"data-testid Mark as favorite",editDashboard:{editButton:"data-testid Edit dashboard button",saveButton:"data-testid Save dashboard button",exitButton:"data-testid Exit edit mode button",settingsButton:"data-testid Dashboard settings",addRowButton:"data-testid Add row button",addLibraryPanelButton:"data-testid Add a panel from the panel library button",addVisualizationButton:"data-testid Add new visualization menu item",pastePanelButton:"data-testid Paste panel button",discardChangesButton:"data-testid Discard changes button",discardLibraryPanelButton:"data-testid Discard library panel button",unlinkLibraryPanelButton:"data-testid Unlink library panel button",saveLibraryPanelButton:"data-testid Save library panel button",backToDashboardButton:"data-testid Back to dashboard button"}},PageToolbar:{container:()=>".page-toolbar",item:e=>`${e}`,itemButton:e=>`data-testid ${e}`},QueryEditorToolbarItem:{button:e=>`QueryEditor toolbar item button ${e}`},BackButton:{backArrow:"data-testid Go Back"},OptionsGroup:{group:e=>e?`data-testid Options group ${e}`:"data-testid Options group",toggle:e=>e?`data-testid Options group ${e} toggle`:"data-testid Options group toggle"},PluginVisualization:{item:e=>`Plugin visualization item ${e}`,current:()=>'[class*="-currentVisualizationItem"]'},Select:{option:"data-testid Select option",toggleAllOptions:"data-testid toggle all options",input:()=>'input[id*="time-options-input"]',singleValue:()=>'div[class*="-singleValue"]'},FieldConfigEditor:{content:"Field config editor content"},OverridesConfigEditor:{content:"Field overrides editor content"},FolderPicker:{container:"Folder picker select container",containerV2:"data-testid Folder picker select container",input:"data-testid folder-picker-input"},ReadonlyFolderPicker:{container:"data-testid Readonly folder picker select container"},DataSourcePicker:{container:"data-testid Data source picker select container",input:()=>'input[id="data-source-picker"]',inputV2:"data-testid Select a data source",dataSourceList:"data-testid Data source list dropdown",advancedModal:{dataSourceList:"data-testid Data source list",builtInDataSourceList:"data-testid Built in data source list"}},TimeZonePicker:{container:"Time zone picker select container",containerV2:"data-testid Time zone picker select container",changeTimeSettingsButton:"data-testid Time zone picker Change time settings button"},WeekStartPicker:{container:"Choose starting day of the week",containerV2:"data-testid Choose starting day of the week",placeholder:"Choose starting day of the week"},TraceViewer:{spanBar:"data-testid SpanBar--wrapper"},QueryField:{container:"data-testid Query field"},QueryBuilder:{queryPatterns:"data-testid Query patterns",labelSelect:"data-testid Select label",inputSelect:"data-testid Select label-input",valueSelect:"data-testid Select value",matchOperatorSelect:"data-testid Select match operator"},ValuePicker:{button:e=>`data-testid Value picker button ${e}`,select:e=>`data-testid Value picker select ${e}`},Search:{section:"Search section",sectionV2:"data-testid Search section",items:"Search items",itemsV2:"data-testid Search items",cards:"data-testid Search cards",collapseFolder:e=>`data-testid Collapse folder ${e}`,expandFolder:e=>`data-testid Expand folder ${e}`,dashboardItem:e=>`${on.Search.dashboardItems} ${e}`,dashboardCard:e=>`data-testid Search card ${e}`,folderHeader:e=>`data-testid Folder header ${e}`,folderContent:e=>`data-testid Folder content ${e}`,dashboardItems:"data-testid Dashboard search item"},DashboardLinks:{container:"data-testid Dashboard link container",dropDown:"data-testid Dashboard link dropdown",link:"data-testid Dashboard link"},LoadingIndicator:{icon:"data-testid Loading indicator"},CallToActionCard:{button:e=>`Call to action button ${e}`,buttonV2:e=>`data-testid Call to action button ${e}`},DataLinksContextMenu:{singleLink:"data-testid Data link"},CodeEditor:{container:"data-testid Code editor container"},ReactMonacoEditor:{editorLazy:"data-testid ReactMonacoEditor editorLazy"},DashboardImportPage:{textarea:"data-testid-import-dashboard-textarea",submit:"data-testid-load-dashboard"},ImportDashboardForm:{name:"data-testid-import-dashboard-title",submit:"data-testid-import-dashboard-submit"},PanelAlertTabContent:{content:"data-testid Unified alert editor tab content"},VisualizationPreview:{card:e=>`data-testid suggestion-${e}`},ColorSwatch:{name:"data-testid-colorswatch"},DashboardRow:{title:e=>`data-testid dashboard-row-title-${e}`},UserProfile:{profileSaveButton:"data-testid-user-profile-save",preferencesSaveButton:"data-testid-shared-prefs-save",orgsTable:"data-testid-user-orgs-table",sessionsTable:"data-testid-user-sessions-table",extensionPointTabs:"data-testid-extension-point-tabs",extensionPointTab:e=>`data-testid-extension-point-tab-${e}`},FileUpload:{inputField:"data-testid-file-upload-input-field",fileNameSpan:"data-testid-file-upload-file-name"},DebugOverlay:{wrapper:"debug-overlay"},OrgRolePicker:{input:"Role"},AnalyticsToolbarButton:{button:"Dashboard insights"},Variables:{variableOption:"data-testid variable-option",variableLinkWrapper:"data-testid variable-link-wrapper"},Annotations:{annotationsTypeInput:"data-testid annotations-type-input",annotationsChoosePanelInput:"data-testid choose-panels-input",editor:{testButton:"data-testid annotations-test-button",resultContainer:"data-testid annotations-query-result-container"}},Tooltip:{container:"data-testid tooltip"},ReturnToPrevious:{buttonGroup:"data-testid dismissable button group",backButton:"data-testid back",dismissButton:"data-testid dismiss"},SQLQueryEditor:{selectColumn:"data-testid select-column",selectAggregation:"data-testid select-aggregation",selectAlias:"data-testid select-alias",filterConjunction:"data-testid filter-conjunction",filterField:"data-testid filter-field",filterOperator:"data-testid filter-operator",headerTableSelector:"data-testid header-table-selector",headerFilterSwitch:"data-testid header-filter-switch",headerGroupSwitch:"data-testid header-group-switch",headerOrderSwitch:"data-testid header-order-switch",headerPreviewSwitch:"data-testid header-preview-switch"},EntityNotFound:{container:"data-testid entity-not-found"}},an={pages:{Login:{url:"/login",username:"data-testid Username input field",password:"data-testid Password input field",submit:"data-testid Login button",skip:"data-testid Skip change password button"},Home:{url:"/"},DataSource:{name:"data-testid Data source settings page name input field",delete:"Data source settings page Delete button",readOnly:"data-testid Data source settings page read only message",saveAndTest:"data-testid Data source settings page Save and Test button",alert:"data-testid Data source settings page Alert"},DataSources:{url:"/datasources",dataSources:e=>`Data source list item ${e}`},EditDataSource:{url:e=>`/datasources/edit/${e}`,settings:"Datasource settings page basic settings"},AddDataSource:{url:"/datasources/new",dataSourcePlugins:e=>`Data source plugin item ${e}`,dataSourcePluginsV2:e=>`Add new data source ${e}`},ConfirmModal:{delete:"data-testid Confirm Modal Danger Button"},AddDashboard:{url:"/dashboard/new",itemButton:e=>`data-testid ${e}`,addNewPanel:"data-testid Add new panel",addNewRow:"data-testid Add new row",addNewPanelLibrary:"data-testid Add new panel from panel library"},Dashboard:{url:e=>`/d/${e}`,DashNav:{nav:"Dashboard navigation",navV2:"data-testid Dashboard navigation",publicDashboardTag:"data-testid public dashboard tag",shareButton:"data-testid share-button",scrollContainer:"data-testid Dashboard canvas scroll container",newShareButton:{container:"data-testid new share button",shareLink:"data-testid new share link-button",arrowMenu:"data-testid new share button arrow menu",menu:{container:"data-testid new share button menu",shareInternally:"data-testid new share button share internally",shareExternally:"data-testid new share button share externally",shareSnapshot:"data-testid new share button share snapshot"}},NewExportButton:{container:"data-testid new export button",arrowMenu:"data-testid new export button arrow menu",Menu:{container:"data-testid new export button menu",exportAsJson:"data-testid new export button export as json"}},playlistControls:{prev:"data-testid playlist previous dashboard button",stop:"data-testid playlist stop dashboard button",next:"data-testid playlist next dashboard button"}},Controls:"data-testid dashboard controls",SubMenu:{submenu:"Dashboard submenu",submenuItem:"data-testid template variable",submenuItemLabels:e=>`data-testid Dashboard template variables submenu Label ${e}`,submenuItemValueDropDownValueLinkTexts:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`,submenuItemValueDropDownDropDown:"Variable options",submenuItemValueDropDownOptionTexts:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`,Annotations:{annotationsWrapper:"data-testid annotation-wrapper",annotationLabel:e=>`data-testid Dashboard annotations submenu Label ${e}`,annotationToggle:e=>`data-testid Dashboard annotations submenu Toggle ${e}`}},Settings:{Actions:{close:"data-testid dashboard-settings-close"},General:{deleteDashBoard:"data-testid Dashboard settings page delete dashboard button",sectionItems:e=>`Dashboard settings section item ${e}`,saveDashBoard:"Dashboard settings aside actions Save button",saveAsDashBoard:"Dashboard settings aside actions Save As button",timezone:"Time zone picker select container",title:"General"},Annotations:{List:{addAnnotationCTA:on.CallToActionCard.button("Add annotation query"),addAnnotationCTAV2:on.CallToActionCard.buttonV2("Add annotation query"),annotations:"data-testid list-annotations"},Settings:{name:"data-testid Annotations settings name input"},NewAnnotation:{panelFilterSelect:"data-testid annotations-panel-filter",showInLabel:"data-testid show-in-label",previewInDashboard:"data-testid annotations-preview",delete:"data-testid annotations-delete",apply:"data-testid annotations-apply",enable:"data-testid annotation-enable",hide:"data-testid annotation-hide"}},Variables:{List:{addVariableCTA:on.CallToActionCard.button("Add variable"),addVariableCTAV2:on.CallToActionCard.buttonV2("Add variable"),newButton:"Variable editor New variable button",table:"Variable editor Table",tableRowNameFields:e=>`Variable editor Table Name field ${e}`,tableRowDefinitionFields:e=>`Variable editor Table Definition field ${e}`,tableRowArrowUpButtons:e=>`Variable editor Table ArrowUp button ${e}`,tableRowArrowDownButtons:e=>`Variable editor Table ArrowDown button ${e}`,tableRowDuplicateButtons:e=>`Variable editor Table Duplicate button ${e}`,tableRowRemoveButtons:e=>`Variable editor Table Remove button ${e}`},Edit:{General:{headerLink:"Variable editor Header link",modeLabelNew:"Variable editor Header mode New",modeLabelEdit:"Variable editor Header mode Edit",generalNameInput:"Variable editor Form Name field",generalNameInputV2:"data-testid Variable editor Form Name field",generalTypeSelect:"Variable editor Form Type select",generalTypeSelectV2:"data-testid Variable editor Form Type select",generalLabelInput:"Variable editor Form Label field",generalLabelInputV2:"data-testid Variable editor Form Label field",generalHideSelect:"Variable editor Form Hide select",generalHideSelectV2:"data-testid Variable editor Form Hide select",selectionOptionsMultiSwitch:"data-testid Variable editor Form Multi switch",selectionOptionsIncludeAllSwitch:"data-testid Variable editor Form IncludeAll switch",selectionOptionsCustomAllInput:"data-testid Variable editor Form IncludeAll field",previewOfValuesOption:"data-testid Variable editor Preview of Values option",submitButton:"data-testid Variable editor Run Query button",applyButton:"data-testid Variable editor Apply button"},QueryVariable:{queryOptionsDataSourceSelect:on.DataSourcePicker.inputV2,queryOptionsRefreshSelect:"Variable editor Form Query Refresh select",queryOptionsRefreshSelectV2:"data-testid Variable editor Form Query Refresh select",queryOptionsRegExInput:"Variable editor Form Query RegEx field",queryOptionsRegExInputV2:"data-testid Variable editor Form Query RegEx field",queryOptionsSortSelect:"Variable editor Form Query Sort select",queryOptionsSortSelectV2:"data-testid Variable editor Form Query Sort select",queryOptionsQueryInput:"data-testid Variable editor Form Default Variable Query Editor textarea",valueGroupsTagsEnabledSwitch:"Variable editor Form Query UseTags switch",valueGroupsTagsTagsQueryInput:"Variable editor Form Query TagsQuery field",valueGroupsTagsTagsValuesQueryInput:"Variable editor Form Query TagsValuesQuery field"},ConstantVariable:{constantOptionsQueryInput:"Variable editor Form Constant Query field",constantOptionsQueryInputV2:"data-testid Variable editor Form Constant Query field"},DatasourceVariable:{datasourceSelect:"data-testid datasource variable datasource type"},TextBoxVariable:{textBoxOptionsQueryInput:"Variable editor Form TextBox Query field",textBoxOptionsQueryInputV2:"data-testid Variable editor Form TextBox Query field"},CustomVariable:{customValueInput:"data-testid custom-variable-input"},IntervalVariable:{intervalsValueInput:"data-testid interval variable intervals input",autoEnabledCheckbox:"data-testid interval variable auto value checkbox",stepCountIntervalSelect:"data-testid interval variable step count input",minIntervalInput:"data-testid interval variable mininum interval input"},GroupByVariable:{dataSourceSelect:on.DataSourcePicker.inputV2,infoText:"data-testid group by variable info text",modeToggle:"data-testid group by variable mode toggle"},AdHocFiltersVariable:{datasourceSelect:on.DataSourcePicker.inputV2,infoText:"data-testid ad-hoc filters variable info text",modeToggle:"data-testid ad-hoc filters variable mode toggle"}}}},Annotations:{marker:"data-testid annotation-marker"},Rows:{Repeated:{ConfigSection:{warningMessage:"data-testid Repeated rows warning message"}}}},Dashboards:{url:"/dashboards",dashboards:e=>`Dashboard search item ${e}`},SaveDashboardAsModal:{newName:"Save dashboard title field",save:"Save dashboard button"},SaveDashboardModal:{save:"Dashboard settings Save Dashboard Modal Save button",saveVariables:"Dashboard settings Save Dashboard Modal Save variables checkbox",saveTimerange:"Dashboard settings Save Dashboard Modal Save timerange checkbox",saveRefresh:"Dashboard settings Save Dashboard Modal Save refresh checkbox"},SharePanelModal:{linkToRenderedImage:"Link to rendered image"},ShareDashboardModal:{PublicDashboard:{WillBePublicCheckbox:"data-testid public dashboard will be public checkbox",LimitedDSCheckbox:"data-testid public dashboard limited datasources checkbox",CostIncreaseCheckbox:"data-testid public dashboard cost may increase checkbox",PauseSwitch:"data-testid public dashboard pause switch",EnableAnnotationsSwitch:"data-testid public dashboard on off switch for annotations",CreateButton:"data-testid public dashboard create button",DeleteButton:"data-testid public dashboard delete button",CopyUrlInput:"data-testid public dashboard copy url input",CopyUrlButton:"data-testid public dashboard copy url button",SettingsDropdown:"data-testid public dashboard settings dropdown",TemplateVariablesWarningAlert:"data-testid public dashboard disabled template variables alert",UnsupportedDataSourcesWarningAlert:"data-testid public dashboard unsupported data sources alert",NoUpsertPermissionsWarningAlert:"data-testid public dashboard no upsert permissions alert",EnableTimeRangeSwitch:"data-testid public dashboard on off switch for time range",EmailSharingConfiguration:{Container:"data-testid email sharing config container",ShareType:"data-testid public dashboard share type",EmailSharingInput:"data-testid public dashboard email sharing input",EmailSharingInviteButton:"data-testid public dashboard email sharing invite button",EmailSharingList:"data-testid public dashboard email sharing list",DeleteEmail:"data-testid public dashboard delete email button",ReshareLink:"data-testid public dashboard reshare link button"}},SnapshotScene:{url:e=>`/dashboard/snapshot/${e}`,PublishSnapshot:"data-testid publish snapshot button",CopyUrlButton:"data-testid snapshot copy url button",CopyUrlInput:"data-testid snapshot copy url input"}},ShareDashboardDrawer:{ShareInternally:{container:"data-testid share internally drawer container",lockTimeRangeSwitch:"data-testid share internally lock time range switch",shortenUrlSwitch:"data-testid share internally shorten url switch",copyUrlButton:"data-testid share internally copy url button"},ShareExternally:{container:"data-testid share externally drawer container",publicAlert:"data-testid public share alert",emailSharingAlert:"data-testid email share alert",shareTypeSelect:"data-testid share externally share type select",Creation:{PublicShare:{createButton:"data-testid public share dashboard create button",cancelButton:"data-testid public share dashboard cancel button"},EmailShare:{createButton:"data-testid email share dashboard create button",cancelButton:"data-testid email share dashboard cancel button"},willBePublicCheckbox:"data-testid share dashboard will be public checkbox"},Configuration:{enableTimeRangeSwitch:"data-testid share externally enable time range switch",enableAnnotationsSwitch:"data-testid share externally enable annotations switch",copyUrlButton:"data-testid share externally copy url button",revokeAccessButton:"data-testid share externally revoke access button",toggleAccessButton:"data-testid share externally pause or resume access button"}},ShareSnapshot:{url:e=>`/dashboard/snapshot/${e}`,container:"data-testid share snapshot drawer container",publishSnapshot:"data-testid share snapshot publish button",copyUrlButton:"data-testid share snapshot copy url button"}},ExportDashboardDrawer:{ExportAsJson:{container:"data-testid export as json drawer container",codeEditor:"data-testid export as json code editor",exportExternallyToggle:"data-testid export as json externally switch",saveToFileButton:"data-testid export as json save to file button",copyToClipboardButton:"data-testid export as json copy to clipboard button",cancelButton:"data-testid export as json cancel button"}},PublicDashboard:{page:"public-dashboard-page",NotAvailable:{container:"public-dashboard-not-available",title:"public-dashboard-title",pausedDescription:"public-dashboard-paused-description"},footer:"public-dashboard-footer"},PublicDashboardScene:{loadingPage:"public-dashboard-scene-loading-page",page:"public-dashboard-scene-page",controls:"public-dashboard-controls"},RequestViewAccess:{form:"request-view-access-form",recipientInput:"request-view-access-recipient-input",submitButton:"request-view-access-submit-button"},PublicDashboardConfirmAccess:{submitButton:"data-testid confirm-access-submit-button"},Explore:{url:"/explore",General:{container:"data-testid Explore",graph:"Explore Graph",table:"Explore Table",scrollView:"data-testid explorer scroll view"},QueryHistory:{container:"data-testid QueryHistory"}},SoloPanel:{url:e=>`/d-solo/${e}`},PluginsList:{page:"Plugins list page",list:"Plugins list",listItem:"Plugins list item",signatureErrorNotice:"data-testid Unsigned plugins notice"},PluginPage:{page:"Plugin page",signatureInfo:"data-testid Plugin signature info",disabledInfo:"data-testid Plugin disabled info"},PlaylistForm:{name:"Playlist name",interval:"Playlist interval",itemDelete:"data-testid playlist-form-delete-item"},BrowseDashboards:{table:{body:"data-testid browse-dashboards-table",row:e=>`data-testid browse dashboards row ${e}`,checkbox:e=>`data-testid ${e} checkbox`},NewFolderForm:{form:"data-testid new folder form",nameInput:"data-testid new-folder-name-input",createButton:"data-testid new-folder-create-button"}},Search:{url:"/?search=openn",FolderView:{url:"/?search=open&layout=folders"}},PublicDashboards:{ListItem:{linkButton:"public-dashboard-link-button",configButton:"public-dashboard-configuration-button",trashcanButton:"public-dashboard-remove-button",pauseSwitch:"data-testid public dashboard pause switch"}},UserListPage:{tabs:{allUsers:"data-testid all-users-tab",orgUsers:"data-testid org-users-tab",anonUserDevices:"data-testid anon-user-devices-tab",publicDashboardsUsers:"data-testid public-dashboards-users-tab",users:"data-testid users-tab"},org:{url:"/org/users"},admin:{url:"/admin/users"},publicDashboards:{container:"data-testid public-dashboards-users-list"},UserListAdminPage:{container:"data-testid user-list-admin-page"},UsersListPage:{container:"data-testid users-list-page"},UserAnonListPage:{container:"data-testid user-anon-list-page"},UsersListPublicDashboardsPage:{container:"data-testid users-list-public-dashboards-page",DashboardsListModal:{listItem:e=>`data-testid dashboards-list-item-${e}`}}},ProfilePage:{url:"/profile"}},components:on};var sn=n(6089);const ln=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,cn=1/0,un=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),dn="eexxaacctt",pn=(e,t,n)=>e.replace("A-Z",t).replace("a-z",n),fn={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:cn,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,cn],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,sort:(e,t,n)=>{let{idx:r,chars:o,terms:a,interLft2:i,interLft1:s,start:l,intraIns:c,interIns:u}=e;return r.map(((e,t)=>t)).sort(((e,n)=>o[n]-o[e]||c[e]-c[n]||a[n]+i[n]+.5*s[n]-(a[e]+i[e]+.5*s[e])||u[e]-u[n]||l[e]-l[n]||ln(t[r[e]],t[r[n]])))}},hn=(e,t)=>0==t?"":1==t?e+"??":t==cn?e+"*?":e+`{0,${t}}?`,gn="(?:\\b|_)";function mn(e){e=Object.assign({},fn,e);let{unicode:t,interLft:n,interRgt:r,intraMode:o,intraSlice:a,intraIns:i,intraSub:s,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:p,intraBound:f,intraChars:h}=e;i??=o,s??=o,l??=o,c??=o;let g=e.letters??e.alpha;if(null!=g){let e=g.toLocaleUpperCase(),t=g.toLocaleLowerCase();p=pn(p,e,t),d=pn(d,e,t),f=pn(f,e,t),h=pn(h,e,t),u=pn(u,e,t)}let m=t?"u":"";const b='".+?"',v=new RegExp(b,"gi"+m),y=new RegExp(`(?:\\s+|^)-(?:${h}+|${b})`,"gi"+m);let{intraRules:w}=e;null==w&&(w=e=>{let t=fn.intraSlice,n=0,r=0,o=0,u=0;if(/[^\d]/.test(e)){let d=e.length;d<=4?d>=3&&(o=Math.min(l,1),4==d&&(n=Math.min(i,1))):(t=a,n=i,r=s,o=l,u=c)}return{intraSlice:t,intraIns:n,intraSub:r,intraTrn:o,intraDel:u}});let E=!!d,S=new RegExp(d,"g"+m),C=new RegExp(p,"g"+m),x=new RegExp("^"+p+"|"+p+"$","g"+m),O=new RegExp(u,"gi"+m);const A=e=>{let t=[];e=(e=e.replace(v,(e=>(t.push(e),dn)))).replace(x,"").toLocaleLowerCase(),E&&(e=e.replace(S,(e=>e[0]+" "+e[1])));let n=0;return e.split(C).filter((e=>""!=e)).map((e=>e===dn?t[n++]:e))},D=/[^\d]+|\d+/g,R=(t,a=0,s=!1)=>{let l=A(t);if(0==l.length)return[];let c,u=Array(l.length).fill("");if(l=l.map(((e,t)=>e.replace(O,(e=>(u[t]=e,""))))),1==o)c=l.map(((e,t)=>{if('"'===e[0])return un(e.slice(1,-1));let n="";for(let r of e.matchAll(D)){let e=r[0],{intraSlice:o,intraIns:a,intraSub:i,intraTrn:s,intraDel:l}=w(e);if(a+i+s+l==0)n+=e+u[t];else{let[r,c]=o,d=e.slice(0,r),p=e.slice(c),f=e.slice(r,c);1==a&&1==d.length&&d!=f[0]&&(d+="(?!"+d+")");let g=f.length,m=[e];if(i)for(let e=0;e<g;e++)m.push(d+f.slice(0,e)+h+f.slice(e+1)+p);if(s)for(let e=0;e<g-1;e++)f[e]!=f[e+1]&&m.push(d+f.slice(0,e)+f[e+1]+f[e]+f.slice(e+2)+p);if(l)for(let e=0;e<g;e++)m.push(d+f.slice(0,e+1)+"?"+f.slice(e+1)+p);if(a){let e=hn(h,1);for(let t=0;t<g;t++)m.push(d+f.slice(0,t)+e+f.slice(t)+p)}n+="(?:"+m.join("|")+")"+u[t]}}return n}));else{let e=hn(h,i);2==a&&i>0&&(e=")("+e+")("),c=l.map(((t,n)=>'"'===t[0]?un(t.slice(1,-1)):t.split("").map(((e,t,n)=>(1==i&&0==t&&n.length>1&&e!=n[t+1]&&(e+="(?!"+e+")"),e))).join(e)+u[n]))}let d=2==n?gn:"",p=2==r?gn:"",f=p+hn(e.interChars,e.interIns)+d;return a>0?s?c=d+"("+c.join(")"+p+"|"+d+"(")+")"+p:(c="("+c.join(")("+f+")(")+")",c="(.??"+d+")"+c+"("+p+".*)"):(c=c.join(f),c=d+c+p),[new RegExp(c,"i"+m),l,u]},_=(e,t,n)=>{let[r]=R(t);if(null==r)return null;let o=[];if(null!=n)for(let t=0;t<n.length;t++){let a=n[t];r.test(e[a])&&o.push(a)}else for(let t=0;t<e.length;t++)r.test(e[t])&&o.push(t);return o};let k=!!f,P=new RegExp(p,m),T=new RegExp(f,m);const I=(t,o,a)=>{let[i,s,l]=R(a,1),[c]=R(a,2),u=s.length,d=t.length,p=Array(d).fill(0),f={idx:Array(d),start:p.slice(),chars:p.slice(),terms:p.slice(),interIns:p.slice(),intraIns:p.slice(),interLft2:p.slice(),interRgt2:p.slice(),interLft1:p.slice(),interRgt1:p.slice(),ranges:Array(d)},h=1==n||1==r,g=0;for(let a=0;a<t.length;a++){let d=o[t[a]],p=d.match(i),b=p.index+p[1].length,v=b,y=!1,w=0,E=0,S=0,C=0,x=0,O=0,A=0,D=0,R=[];for(let t=0,o=2;t<u;t++,o+=2){let a=p[o].toLocaleLowerCase(),i=s[t],c='"'==i[0]?i.slice(1,-1):i+l[t],f=c.length,g=a.length,_=a==c;if(!_&&p[o+1].length>=f){let e=p[o+1].toLocaleLowerCase().indexOf(c);e>-1&&(R.push(v,g,e,f),v+=j(p,o,e,f),a=c,g=f,_=!0,0==t&&(b=v))}if(h||_){let e=v-1,i=v+g,s=!1,l=!1;if(-1==e||P.test(d[e]))_&&w++,s=!0;else{if(2==n){y=!0;break}if(k&&T.test(d[e]+d[e+1]))_&&E++,s=!0;else if(1==n){let e=p[o+1],n=v+g;if(e.length>=f){let r,i=0,l=!1,u=new RegExp(c,"ig"+m);for(;r=u.exec(e);){i=r.index;let e=n+i,t=e-1;if(-1==t||P.test(d[t])){w++,l=!0;break}if(T.test(d[t]+d[e])){E++,l=!0;break}}l&&(s=!0,R.push(v,g,i,f),v+=j(p,o,i,f),a=c,g=f,_=!0,0==t&&(b=v))}if(!s){y=!0;break}}}if(i==d.length||P.test(d[i]))_&&S++,l=!0;else{if(2==r){y=!0;break}if(k&&T.test(d[i-1]+d[i]))_&&C++,l=!0;else if(1==r){y=!0;break}}_&&(x+=f,s&&l&&O++)}if(g>f&&(D+=g-f),t>0&&(A+=p[o-1].length),!e.intraFilt(c,a,v)){y=!0;break}t<u-1&&(v+=g+p[o+1].length)}if(!y){f.idx[g]=t[a],f.interLft2[g]=w,f.interLft1[g]=E,f.interRgt2[g]=S,f.interRgt1[g]=C,f.chars[g]=x,f.terms[g]=O,f.interIns[g]=A,f.intraIns[g]=D,f.start[g]=b;let e=d.match(c),n=e.index+e[1].length,r=R.length,o=r>0?0:1/0,i=r-4;for(let t=2;t<e.length;){let r=e[t].length;if(o<=i&&R[o]==n){let r=R[o+1],a=R[o+2],i=R[o+3],s=t,l="";for(let t=0;t<r;s++)l+=e[s],t+=e[s].length;e.splice(t,s-t,l),n+=j(e,t,a,i),o+=4}else n+=r,t++}n=e.index+e[1].length;let s=f.ranges[g]=[],l=n,u=n;for(let t=2;t<e.length;t++){let r=e[t].length;n+=r,t%2==0?u=n:r>0&&(s.push(l,u),l=u=n)}u>l&&s.push(l,u),g++}}if(g<t.length)for(let e in f)f[e]=f[e].slice(0,g);return f},j=(e,t,n,r)=>{let o=e[t]+e[t+1].slice(0,n);return e[t-1]+=o,e[t]=e[t+1].slice(n,n+r),e[t+1]=e[t+1].slice(n+r),o.length};return{search:(...t)=>{let n=((t,n,r,o=1e3,a)=>{r=r?!0===r?5:r:0;let i=null,s=null,l=[];n=n.replace(y,(e=>{let t=e.trim().slice(1);return'"'===t[0]&&(t=un(t.slice(1,-1))),l.push(t),""}));let c,u=A(n);if(l.length>0){if(c=new RegExp(l.join("|"),"i"+m),0==u.length){let e=[];for(let n=0;n<t.length;n++)c.test(t[n])||e.push(n);return[e,null,null]}}else if(0==u.length)return[null,null,null];if(r>0){let e=A(n);if(e.length>1){let n=e.slice().sort(((e,t)=>t.length-e.length));for(let e=0;e<n.length;e++){if(0==a?.length)return[[],null,null];a=_(t,n[e],a)}if(e.length>r)return[a,null,null];i=vn(e).map((e=>e.join(" "))),s=[];let o=new Set;for(let e=0;e<i.length;e++)if(o.size<a.length){let n=a.filter((e=>!o.has(e))),r=_(t,i[e],n);for(let e=0;e<r.length;e++)o.add(r[e]);s.push(r)}else s.push([])}}null==i&&(i=[n],s=[a?.length>0?a:_(t,n)]);let d=null,p=null;if(l.length>0&&(s=s.map((e=>e.filter((e=>!c.test(t[e])))))),s.reduce(((e,t)=>e+t.length),0)<=o){d={},p=[];for(let n=0;n<s.length;n++){let r=s[n];if(null==r||0==r.length)continue;let o=i[n],a=I(r,t,o),l=e.sort(a,t,o);if(n>0)for(let e=0;e<l.length;e++)l[e]+=p.length;for(let e in a)d[e]=(d[e]??[]).concat(a[e]);p=p.concat(l)}}return[[].concat(...s),d,p]})(...t);return n},split:A,filter:_,info:I,sort:e.sort}}const bn=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,n="";for(let r in e)e[r].split("").forEach((e=>{n+=e,t.set(e,r)}));let r=new RegExp(`[${n}]`,"g"),o=e=>t.get(e);return e=>{if("string"==typeof e)return e.replace(r,o);let t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].replace(r,o);return t}})();function vn(e){let t,n,r=(e=e.slice()).length,o=[e.slice()],a=new Array(r).fill(0),i=1;for(;i<r;)a[i]<i?(t=i%2&&a[i],n=e[i],e[i]=e[t],e[t]=n,++a[i],i=1,o.push(e.slice())):(a[i]=0,++i);return o}const yn=(e,t)=>t?`<mark>${e}</mark>`:e,wn=(e,t)=>e+t;function En(e,t){const n=new mn;let r=e;const o=[],a=1e4;return t&&(r=[{value:tt,label:et},...r]),e=>{if(""===e)return r.length>a?r.slice(0,a):r;if(0===o.length)for(let e=0;e<r.length;e++)o.push(r[e].label);const[t,i,s]=n.search(o,e),l=[];if(t){for(let e=0;e<t.length;e++){if(i&&s){const n=s[e];l.push(r[t[n]])}else l.push(r[t[e]]);if(l.length>a)return l}return l}return r.length>a?r.slice(0,a):r}}mn.latinize=bn,mn.permute=e=>vn([...Array(e.length).keys()]).sort(((e,t)=>{for(let n=0;n<e.length;n++)if(e[n]!=t[n])return e[n]-t[n];return 0})).map((t=>t.map((t=>e[t])))),mn.highlight=function(e,t,n=yn,r="",o=wn){r=o(r,n(e.substring(0,t[0]),!1))??r;for(let a=0;a<t.length;a+=2){let i=t[a],s=t[a+1];r=o(r,n(e.substring(i,s),!0))??r,a<t.length-3&&(r=o(r,n(e.substring(t[a+1],t[a+2]),!1))??r)}return o(r,n(e.substring(t[t.length-1]),!1))??r};var Sn=Object.defineProperty,Cn=Object.defineProperties,xn=Object.getOwnPropertyDescriptors,On=Object.getOwnPropertySymbols,An=Object.prototype.hasOwnProperty,Dn=Object.prototype.propertyIsEnumerable,Rn=(e,t,n)=>t in e?Sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const _n=()=>!0,kn=e=>"$__all"!==e.value,Pn=(e,t)=>e.length===t.filter(kn).length?rn.ToggleAllState.allSelected:0===e.length||1===e.length&&e[0]&&"$__all"===e[0].value?rn.ToggleAllState.noneSelected:rn.ToggleAllState.indeterminate;function Tn({model:e}){const{value:t,text:n,key:r,options:o,includeAll:i,isReadOnly:l}=e.useState(),[c,u]=(0,a.useState)(""),[d,p]=(0,a.useState)(!1),f=function(e,t){return{value:e,label:null!=t?t:String(e)}}(t,String(n)),h=(0,a.useMemo)((()=>En(o,i)),[o,i])(c);return s().createElement(rn.Select,{id:r,isValidNewOption:e=>e.trim().length>0,placeholder:"Select value",width:"auto",disabled:l,value:f,inputValue:c,allowCustomValue:!0,virtualized:!0,filterOption:_n,tabSelectsValue:!1,onInputChange:(t,{action:n})=>"input-change"===n?(u(t),e.onSearchChange&&e.onSearchChange(t),t):t,onOpenMenu:()=>{d&&u(String(n))},onCloseMenu:()=>{u("")},options:h,"data-testid":an.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${t}`),onChange:t=>{e.changeValueTo(t.value,t.label),d!==t.__isNew__&&p(t.__isNew__)}})}function In({model:e}){const{value:t,options:n,key:r,maxVisibleValues:o,noValueOnClear:i,includeAll:l,isReadOnly:c}=e.useState(),u=(0,a.useMemo)((()=>(0,fe.isArray)(t)?t:[t]),[t]),[d,p]=(0,a.useState)(u),[f,h]=(0,a.useState)(""),g=(0,a.useMemo)((()=>En(n,l)),[n,l]);(0,a.useEffect)((()=>{p(u)}),[u]);const m=n.length>0?"Select value":"",b=g(f);return s().createElement(rn.MultiSelect,{id:r,placeholder:m,width:"auto",inputValue:f,disabled:c,value:d,noMultiValueWrap:!0,maxVisibleValues:null!=o?o:5,tabSelectsValue:!1,virtualized:!0,allowCustomValue:!0,toggleAllOptions:{enabled:!0,optionsFilter:kn,determineToggleAllState:Pn},options:b,closeMenuOnSelect:!1,components:{Option:jn},isClearable:!0,hideSelectedOptions:!1,onInputChange:(t,{action:n})=>"input-change"===n?(h(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===n?(h(""),""):f,onBlur:()=>{e.changeValueTo(d)},filterOption:_n,"data-testid":an.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${d}`),onChange:(t,n)=>{"clear"===n.action&&i&&e.changeValueTo([]),p(t.map((e=>e.value)))}})}const jn=({children:e,data:t,innerProps:n,innerRef:r,isFocused:o,isSelected:a,indeterminate:i,renderOptionLabel:l})=>{var c;const u=((e,t)=>{var n={};for(var r in e)An.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&On)for(var r of On(e))t.indexOf(r)<0&&Dn.call(e,r)&&(n[r]=e[r]);return n})(n,["onMouseMove","onMouseOver"]),d=(0,rn.useTheme2)(),p=(0,rn.getSelectStyles)(d),f=(0,rn.useStyles2)(Fn);return s().createElement("div",(h=((e,t)=>{for(var n in t||(t={}))An.call(t,n)&&Rn(e,n,t[n]);if(On)for(var n of On(t))Dn.call(t,n)&&Rn(e,n,t[n]);return e})({ref:r,className:(0,sn.cx)(p.option,o&&p.optionFocused)},u),g={"data-testid":"data-testid Select option",title:t.title},Cn(h,xn(g))),s().createElement("div",{className:f.checkbox},s().createElement(rn.Checkbox,{indeterminate:i,value:a})),s().createElement("div",{className:p.optionBody,"data-testid":an.pages.Dashboard.SubMenu.submenuItemValueDropDownOptionTexts(null!=(c=t.label)?c:String(t.value))},s().createElement("span",null,e)));var h,g};jn.displayName="SelectMenuOptions";const Fn=e=>({checkbox:(0,sn.css)({marginRight:e.spacing(2)})});function Mn(e){return e.state.isMulti?s().createElement(In,{model:e}):s().createElement(Tn,{model:e})}class Ln{constructor(e){this._sceneObject=e}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey()]}getUrlState(){return this._sceneObject.state.skipUrlSync?{}:{[this.getKey()]:(e=this._sceneObject.state.value,t=this._sceneObject.state.text,e=Array.isArray(e)?e:[e],t=Array.isArray(t)?t:[t],e.map(((e,n)=>{if(null==e)return"";e=String(e);let r=t[n];return r=null==r?e:String(r),Bi(e,r)})))};var e,t}updateFromUrl(e){let t=e[this.getKey()];if(null!=t){this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0);const{values:e,texts:r}=(n=t,(n=Array.isArray(n)?n:[n]).reduce(((e,t)=>{const[n,r]=(null!=t?t:"").split(",");return e.values.push(Ni(n)),e.texts.push(Ni(null!=r?r:n)),e}),{values:[],texts:[]}));this._sceneObject.changeValueTo(e,r)}var n}}function Nn(e){const t=e.getRoot();return At(t)?t.enrichFiltersRequest(e):null}var Bn,Vn=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};class zn{constructor(e){((e,t)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,void 0)})(this,Bn),this.text="__sceneObject",this.valueOf=()=>{return Vn(this,e=Bn,"read from private field"),e.get(this);var e},((e,t,n)=>{Vn(e,t,"write to private field"),t.set(e,n)})(this,Bn,e)}toString(){}get value(){return this}}function $n(e){return function(e){const t=e.match(/^(\d+)\.(\d+)\.(\d+)/);if(!t)return!1;const n=parseInt(t[1],10),r=parseInt(t[2],10),o=parseInt(t[3],10);return 11===n?0===r&&o>=4||1===r&&o>=2||r>1:10===n?4===r&&o>=8||r>=5:n>11}(u.config.buildInfo.version)?new zn(e):{value:e,text:"__sceneObject"}}Bn=new WeakMap;var Un=Object.defineProperty,Hn=Object.defineProperties,qn=Object.getOwnPropertyDescriptors,Gn=Object.getOwnPropertySymbols,Wn=Object.prototype.hasOwnProperty,Qn=Object.prototype.propertyIsEnumerable,Yn=(e,t,n)=>t in e?Un(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xn=(e,t)=>{for(var n in t||(t={}))Wn.call(t,n)&&Yn(e,n,t[n]);if(Gn)for(var n of Gn(t))Qn.call(t,n)&&Yn(e,n,t[n]);return e};class Kn extends ct{constructor(e){var t;super((t=Xn({isMulti:!0,name:"",value:[],text:[],options:[],datasource:null,baseFilters:[],applyMode:"auto",layout:"horizontal",type:"groupby"},e),Hn(t,qn({noValueOnClear:!0})))),this.isLazy=!0,this._urlSync=new Ln(this),this._getKeys=async e=>{var t,n,r;const o=await(null==(n=(t=this.state).getTagKeysProvider)?void 0:n.call(t,this,null));if(o&&o.replace)return o.values;if(this.state.defaultOptions)return this.state.defaultOptions.concat(Vi(null!=(r=null==o?void 0:o.values)?r:[]));if(!e.getTagKeys)return[];const a=Fi(this),i=this.state.baseFilters||[],s=vs.getTimeRange(this).state.value,l=await e.getTagKeys(Xn({filters:i,queries:a,timeRange:s},Nn(this)));zi(l)&&this.setState({error:l.error.message});let c=Vi(l);o&&(c=c.concat(Vi(o.values)));const u=this.state.tagKeyRegexFilter;return u&&(c=c.filter((e=>e.text.match(u)))),c},this.addActivationHandler((()=>(nn.add(this),()=>nn.delete(this))))}validateAndUpdate(){return this.getValueOptions({}).pipe((0,A.map)((e=>(this._updateValueGivenNewOptions(e),{}))))}_updateValueGivenNewOptions(e){const{value:t,text:n}=this.state,r={options:e,loading:!1,value:null!=t?t:[],text:null!=n?n:[]};this.setState(r)}getValueOptions(e){return this.state.defaultOptions?(0,A.of)(this.state.defaultOptions.map((e=>({label:e.text,value:String(e.value),group:e.group})))):(this.setState({loading:!0,error:null}),(0,A.from)(Tt(this.state.datasource,{__sceneObject:$n(this)})).pipe((0,A.mergeMap)((e=>(0,A.from)(this._getKeys(e)).pipe((0,A.tap)((e=>{zi(e)&&this.setState({error:e.error.message})})),(0,A.map)((e=>Vi(e))),(0,A.take)(1),(0,A.mergeMap)((e=>{const t=e.map((e=>({label:e.text,value:e.value?String(e.value):e.text,group:e.group})));return(0,A.of)(t)})))))))}getDefaultMultiState(e){return{value:[],text:[]}}}Kn.Component=function({model:e}){const{value:t,text:n,key:r,maxVisibleValues:o,noValueOnClear:i,options:l,includeAll:c}=e.useState(),u=(0,a.useMemo)((()=>{const e=(0,fe.isArray)(t)?t:[t],r=(0,fe.isArray)(n)?n:[n];return e.map(((e,t)=>{var n;return{value:e,label:String(null!=(n=r[t])?n:e)}}))}),[t,n]),[d,p]=(0,a.useState)(!1),[f,h]=(0,a.useState)(!1),[g,m]=(0,a.useState)(""),[b,v]=(0,a.useState)(u),y=(0,a.useMemo)((()=>En(l,c)),[l,c]);(0,a.useEffect)((()=>{v(u)}),[u]);const w=(0,a.useMemo)((()=>$i(y(g).map(Jn))),[y,g]);return s().createElement(rn.MultiSelect,{"data-testid":`GroupBySelect-${r}`,id:r,placeholder:"Select value",width:"auto",inputValue:g,value:b,noMultiValueWrap:!0,maxVisibleValues:null!=o?o:5,tabSelectsValue:!1,virtualized:!0,options:w,filterOption:Zn,closeMenuOnSelect:!1,isOpen:f,isClearable:!0,hideSelectedOptions:!1,isLoading:d,components:{Option:jn},onInputChange:(t,{action:n})=>"input-change"===n?(m(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===n?(m(""),""):g,onBlur:()=>{e.changeValueTo(b.map((e=>e.value)),b.map((e=>e.label)))},onChange:(t,n)=>{"clear"===n.action&&i&&e.changeValueTo([]),v(t)},onOpenMenu:async()=>{p(!0),await(0,A.lastValueFrom)(e.validateAndUpdate()),p(!1),h(!0)},onCloseMenu:()=>{h(!1)}})};const Zn=()=>!0;function Jn(e){const{label:t,value:n,group:r}=e,o={label:t,value:n};return r&&(o.group=r),o}function er(e){return s().createElement(rn.Tooltip,{content:"Cancel query"},s().createElement(rn.Icon,{className:"spin-clockwise",name:"sync",size:"xs",role:"button",onMouseDown:t=>{e.onCancel(t)}}))}function tr(e){const t=(0,rn.useStyles2)(nr),n=(0,rn.useTheme2)(),r="vertical"===e.layout,o=Boolean(e.isLoading)?s().createElement("div",{style:{marginLeft:n.spacing(1),marginTop:"-1px"},"aria-label":an.components.LoadingIndicator.icon},s().createElement(er,{onCancel:t=>{var n;t.preventDefault(),t.stopPropagation(),null==(n=e.onCancel)||n.call(e)}})):null;let a=null;e.error&&(a=s().createElement(rn.Tooltip,{content:e.error,placement:"bottom"},s().createElement(rn.Icon,{className:t.errorIcon,name:"exclamation-triangle"})));let i=null;e.description&&(i=s().createElement(rn.Tooltip,{content:e.description,placement:r?"top":"bottom"},s().createElement(rn.Icon,{className:t.normalIcon,name:"info-circle"})));const l="string"==typeof e.label?an.pages.Dashboard.SubMenu.submenuItemLabels(e.label):"";let c;return c=r?s().createElement("label",{className:t.verticalLabel,"data-testid":l,htmlFor:e.htmlFor},e.label,i,a,e.icon&&s().createElement(rn.Icon,{name:e.icon,className:t.normalIcon}),o,e.onRemove&&s().createElement(rn.IconButton,{variant:"secondary",size:"xs",name:"times",onClick:e.onRemove,tooltip:"Remove"})):s().createElement("label",{className:t.horizontalLabel,"data-testid":l,htmlFor:e.htmlFor},a,e.icon&&s().createElement(rn.Icon,{name:e.icon,className:t.normalIcon}),e.label,i,o),c}const nr=e=>({horizontalLabel:(0,sn.css)({background:e.isDark?e.colors.background.primary:e.colors.background.secondary,display:"flex",alignItems:"center",padding:e.spacing(0,1),fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,height:e.spacing(e.components.height.md),lineHeight:e.spacing(e.components.height.md),borderRadius:e.shape.borderRadius(1),border:`1px solid ${e.components.input.borderColor}`,position:"relative",right:-1,whiteSpace:"nowrap",gap:e.spacing(.5)}),verticalLabel:(0,sn.css)({display:"flex",alignItems:"center",fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,lineHeight:e.typography.bodySmall.lineHeight,whiteSpace:"nowrap",marginBottom:e.spacing(.5),gap:e.spacing(1)}),errorIcon:(0,sn.css)({color:e.colors.error.text}),normalIcon:(0,sn.css)({color:e.colors.text.secondary})});var rr=Object.defineProperty,or=Object.getOwnPropertySymbols,ar=Object.prototype.hasOwnProperty,ir=Object.prototype.propertyIsEnumerable,sr=(e,t,n)=>t in e?rr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function lr(e,t){return""!==e?{value:e,label:t||e}:null}const cr=()=>!0;function ur({filter:e,model:t}){var n,r,o;const i=(0,rn.useStyles2)(dr),[l,c]=(0,a.useState)([]),[u,d]=(0,a.useState)([]),[p,f]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),[m,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),[w,E]=(0,a.useState)(!1),[S,C]=(0,a.useState)(""),[x,O]=(0,a.useState)(!1),[A,D]=(0,a.useState)(e.values?e.values.map(((t,n)=>{var r;return lr(t,null==(r=e.valueLabels)?void 0:r[n])})):[]),R=fi(e.operator),_=lr(e.key,e.keyLabel),k=lr(e.value,null==(n=e.valueLabels)?void 0:n[0]),P=(0,a.useMemo)((()=>function(e){const t=new mn,n=[],r=1e4;return o=>{var a;if(""===o)return e.length>r?e.slice(0,r):e;if(0===n.length)for(let t=0;t<e.length;t++)n.push(null!=(a=e[t].label)?a:String(e[t].value));const[i,s,l]=t.search(n,o),c=[];if(i){for(let t=0;t<i.length;t++){if(s&&l){const n=l[t];c.push(e[i[n]])}else c.push(e[i[t]]);if(c.length>r)return c}return c}return e.length>r?e.slice(0,r):e}}(u)),[u]),T=(0,a.useMemo)((()=>$i(P(S))),[P,S]),I={isMulti:!0,value:A,components:{Option:jn},hideSelectedOptions:!1,closeMenuOnSelect:!1,openMenuOnFocus:!1,onChange:e=>{D(e),e.some((e=>e.__isNew__))&&C("")},onBlur:()=>{var n,r;t._updateFilter(e,{value:null!=(r=null==(n=A[0])?void 0:n.value)?r:"",values:A.map((e=>e.value)),valueLabels:A.map((e=>e.label))})}},j=s().createElement(rn.Select,((e,t)=>{for(var n in t||(t={}))ar.call(t,n)&&sr(e,n,t[n]);if(or)for(var n of or(t))ir.call(t,n)&&sr(e,n,t[n]);return e})({virtualized:!0,allowCustomValue:!0,isValidNewOption:e=>e.trim().length>0,allowCreateWhileLoading:!0,formatCreateLabel:e=>`Use custom value: ${e}`,disabled:t.state.readOnly,className:(0,sn.cx)(i.value,v?i.widthWhenOpen:void 0),width:"auto",value:k,filterOption:cr,placeholder:"Select value",options:T,inputValue:S,onInputChange:(e,{action:t})=>("input-change"===t&&C(e),e),onChange:n=>{t._updateFilter(e,{value:n.value,valueLabels:n.label?[n.label]:[n.value]}),x!==n.__isNew__&&O(n.__isNew__)},isOpen:v&&!h,isLoading:h,openMenuOnFocus:!0,onOpenMenu:async()=>{var n;g(!0),y(!0);const r=await t._getValuesFor(e);g(!1),d(r),x&&C(null!=(n=null==k?void 0:k.label)?n:"")},onCloseMenu:()=>{y(!1),C("")}},R&&I)),F=s().createElement(rn.Select,{key:h?"loading":"loaded",disabled:t.state.readOnly,className:(0,sn.cx)(i.key,m?i.widthWhenOpen:void 0),width:"auto",allowCustomValue:!0,value:_,placeholder:"Select label",options:$i(l),onChange:n=>{t._updateFilter(e,{key:n.value,keyLabel:n.label,value:"",valueLabels:[""],values:void 0}),D([])},autoFocus:""===e.key,isOpen:m&&!p,isLoading:p,onOpenMenu:async()=>{b(!0),f(!0);const n=await t._getKeys(e.key);f(!1),c(n)},onCloseMenu:()=>{b(!1)},onBlur:()=>{""===e.key&&t._removeFilter(e)},openMenuOnFocus:!0}),M=s().createElement(rn.Select,{className:(0,sn.cx)(i.operator,{[i.widthWhenOpen]:w}),value:e.operator,disabled:t.state.readOnly,options:t._getOperators(),onChange:n=>{var r,o;const a=e.operator,i=n.value,s={operator:i};fi(a)&&!fi(i)?(s.value="",s.valueLabels=[""],s.values=void 0,D([])):!fi(a)&&fi(i)&&e.value&&(s.values=[e.value],D([{value:e.value,label:null!=(o=null==(r=e.valueLabels)?void 0:r[0])?o:e.value}])),t._updateFilter(e,s)},onOpenMenu:()=>{E(!0)},onCloseMenu:()=>{E(!1)}});if("vertical"===t.state.layout){if(e.key){const n=s().createElement(tr,{layout:"vertical",label:null!=(r=e.key)?r:"",onRemove:()=>t._removeFilter(e)});return s().createElement(rn.Field,{label:n,"data-testid":`AdHocFilter-${e.key}`,className:i.field},s().createElement("div",{className:i.wrapper},M,j))}return s().createElement(rn.Field,{label:"Select label","data-testid":`AdHocFilter-${e.key}`,className:i.field},F)}return s().createElement("div",{className:i.wrapper,"data-testid":`AdHocFilter-${e.key}`},F,M,j,s().createElement(rn.Button,{variant:"secondary","aria-label":"Remove filter",title:"Remove filter",className:i.removeButton,icon:"times","data-testid":`AdHocFilter-remove-${null!=(o=e.key)?o:""}`,onClick:()=>t._removeFilter(e)}))}const dr=e=>({field:(0,sn.css)({marginBottom:0}),wrapper:(0,sn.css)({display:"flex","> *":{"&:not(:first-child)":{marginLeft:-1},"&:first-child":{borderTopRightRadius:0,borderBottomRightRadius:0},"&:last-child":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:first-child):not(:last-child)":{borderRadius:0},position:"relative",zIndex:0,"&:hover":{zIndex:1},"&:focus-within":{zIndex:2}}}),widthWhenOpen:(0,sn.css)({minWidth:e.spacing(16)}),value:(0,sn.css)({flexBasis:"content",flexShrink:1,minWidth:"90px"}),key:(0,sn.css)({flexBasis:"content",minWidth:"90px",flexShrink:1}),operator:(0,sn.css)({flexShrink:0,flexBasis:"content"}),removeButton:(0,sn.css)({paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5),borderLeft:"none",width:e.spacing(3),marginRight:e.spacing(1),boxSizing:"border-box",position:"relative",left:"1px"})});function pr({model:e,addFilterButtonText:t}){const{_wip:n}=e.useState();return n?s().createElement(ur,{filter:n,model:e}):s().createElement(rn.Button,{variant:"secondary",icon:"plus",title:"Add filter","aria-label":"Add filter","data-testid":"AdHocFilter-add",onClick:()=>e._addWip()},t)}class fr{constructor(e){this._variable=e}getKey(){return`var-${this._variable.state.name}`}getKeys(){return[this.getKey()]}getUrlState(){const e=this._variable.state.filters;if(0===e.length)return{[this.getKey()]:[""]};const t=e.filter(pi).map((e=>function(e){var t;const n=[Bi(e.key,e.keyLabel),e.operator];return fi(e.operator)?e.values.forEach(((t,r)=>{var o;n.push(Bi(t,null==(o=e.valueLabels)?void 0:o[r]))})):n.push(Bi(e.value,null==(t=e.valueLabels)?void 0:t[0])),n}(e).map(Mi).join("|")));return{[this.getKey()]:t}}updateFromUrl(e){const t=e[this.getKey()];if(null==t)return;const n=function(e){if(Array.isArray(e))return e.map(hr).filter(gr);const t=hr(e);return null===t?[]:[t]}(t);this._variable.setState({filters:n})}}function hr(e){if("string"!=typeof e||0===e.length)return null;const[t,n,r,o,...a]=e.split("|").reduce(((e,t)=>{const[n,r]=t.split(",");return e.push(n,null!=r?r:n),e}),[]).map(Ni);return{key:t,keyLabel:n,operator:r,value:a[0],values:fi(r)?a.filter(((e,t)=>t%2==0)):void 0,valueLabels:a.filter(((e,t)=>t%2==1)),condition:""}}function gr(e){return null!==e&&"string"==typeof e.key&&"string"==typeof e.value}var mr=n(977);function br(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function vr(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&(0,mr.Ng)(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function yr(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function wr(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function Er(e){return!(0!==e.mozInputSource||!e.isTrusted)||(xr()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function Sr(e){return!wr().includes("jsdom/")&&(!xr()&&0===e.width&&0===e.height||xr()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function Cr(){return/apple/i.test(navigator.vendor)}function xr(){const e=/android/i;return e.test(yr())||e.test(wr())}function Or(e){return(null==e?void 0:e.ownerDocument)||document}function Ar(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function Dr(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Rr(e){e.preventDefault(),e.stopPropagation()}function _r(e){return!!e&&"combobox"===e.getAttribute("role")&&function(e){return(0,mr.sb)(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}(e)}var kr=n(8015),Pr=n(4621),Tr=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),Ir="undefined"==typeof Element,jr=Ir?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Fr=!Ir&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},Mr=function e(t,n){var r;void 0===n&&(n=!0);var o=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===o||"true"===o||n&&t&&e(t.parentNode)},Lr=function e(t,n,r){for(var o=[],a=Array.from(t);a.length;){var i=a.shift();if(!Mr(i,!1))if("SLOT"===i.tagName){var s=i.assignedElements(),l=e(s.length?s:i.children,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:i,candidates:l})}else{jr.call(i,Tr)&&r.filter(i)&&(n||!t.includes(i))&&o.push(i);var c=i.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(i),u=!Mr(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(c&&u){var d=e(!0===c?i.children:c.children,!0,r);r.flatten?o.push.apply(o,d):o.push({scopeParent:i,candidates:d})}else a.unshift.apply(a,i.children)}}return o},Nr=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Br=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!Nr(e)?0:e.tabIndex},Vr=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},zr=function(e){return"INPUT"===e.tagName},$r=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},Ur=function(e,t){return!(t.disabled||Mr(t)||function(e){return zr(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var o=jr.call(e,"details>summary:first-of-type")?e.parentElement:e;if(jr.call(o,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return $r(e)}else{if("function"==typeof r){for(var a=e;e;){var i=e.parentElement,s=Fr(e);if(i&&!i.shadowRoot&&!0===r(i))return $r(e);e=e.assignedSlot?e.assignedSlot:i||s===e.ownerDocument?i:s.host}e=a}if(function(e){var t,n,r,o,a=e&&Fr(e),i=null===(t=a)||void 0===t?void 0:t.host,s=!1;if(a&&a!==e)for(s=!!(null!==(n=i)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(i)||null!=e&&null!==(o=e.ownerDocument)&&void 0!==o&&o.contains(e));!s&&i;){var l,c,u;s=!(null===(c=i=null===(l=a=Fr(i))||void 0===l?void 0:l.host)||void 0===c||null===(u=c.ownerDocument)||void 0===u||!u.contains(i))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!jr.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},Hr=function(e,t){return!(function(e){return function(e){return zr(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||Fr(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!o||o===e}(e)}(t)||Br(t)<0||!Ur(e,t))},qr=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Gr=function e(t){var n=[],r=[];return t.forEach((function(t,o){var a=!!t.scopeParent,i=a?t.scopeParent:t,s=function(e,t){var n=Br(e);return n<0&&t&&!Nr(e)?0:n}(i,a),l=a?e(t.candidates):i;0===s?a?n.push.apply(n,l):n.push(i):r.push({documentOrder:o,tabIndex:s,item:t,isScope:a,content:l})})),r.sort(Vr).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},Wr=function(e,t){var n;return n=(t=t||{}).getShadowRoot?Lr([e],t.includeContainer,{filter:Hr.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:qr}):function(e,t,n){if(Mr(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(Tr));return t&&jr.call(e,Tr)&&r.unshift(e),r.filter(n)}(e,t.includeContainer,Hr.bind(null,t)),Gr(n)},Qr=n(8398);const Yr={...i},Xr=Yr.useInsertionEffect||(e=>e());function Kr(e){const t=a.useRef((()=>{}));return Xr((()=>{t.current=e})),a.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const Zr="ArrowUp",Jr="ArrowDown",eo="ArrowLeft",to="ArrowRight";function no(e,t,n){return Math.floor(e/t)!==n}function ro(e,t){return t<0||t>=e.current.length}function oo(e,t){return io(e,{disabledIndices:t})}function ao(e,t){return io(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function io(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:a=1}=void 0===t?{}:t;const i=e.current;let s=n;do{s+=r?-a:a}while(s>=0&&s<=i.length-1&&co(i,s,o));return s}function so(e,t,n,r,o){if(-1===e)return-1;const a=n.indexOf(e),i=t[e];switch(o){case"tl":return a;case"tr":return i?a+i.width-1:a;case"bl":return i?a+(i.height-1)*r:a;case"br":return n.lastIndexOf(e)}}function lo(e,t){return t.flatMap(((t,n)=>e.includes(t)?[n]:[]))}function co(e,t,n){if(n)return n.includes(t);const r=e[t];return null==r||r.hasAttribute("disabled")||"true"===r.getAttribute("aria-disabled")}let uo=0;function po(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(uo);const a=()=>null==e?void 0:e.focus({preventScroll:n});o?a():uo=requestAnimationFrame(a)}var fo="undefined"!=typeof document?a.useLayoutEffect:a.useEffect;function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ho.apply(this,arguments)}let go=!1,mo=0;const bo=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+mo++,vo=Yr.useId||function(){const[e,t]=a.useState((()=>go?bo():void 0));return fo((()=>{null==e&&t(bo())}),[]),a.useEffect((()=>{go=!0}),[]),e};const yo=a.createContext(null),wo=a.createContext(null),Eo=()=>{var e;return(null==(e=a.useContext(yo))?void 0:e.id)||null},So=()=>a.useContext(wo);function Co(e){return"data-floating-ui-"+e}function xo(e){const t=(0,a.useRef)(e);return fo((()=>{t.current=e})),t}function Oo(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(r);return n}let Ao=new WeakMap,Do=new WeakSet,Ro={},_o=0;const ko=e=>e&&(e.host||ko(e.parentNode));function Po(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=Or(e[0]).body;return function(e,t,n,r){const o="data-floating-ui-inert",a=r?"inert":n?"aria-hidden":null,i=(s=t,e.map((e=>{if(s.contains(e))return e;const t=ko(e);return s.contains(t)?t:null})).filter((e=>null!=e)));var s;const l=new Set,c=new Set(i),u=[];Ro[o]||(Ro[o]=new WeakMap);const d=Ro[o];return i.forEach((function e(t){t&&!l.has(t)&&(l.add(t),t.parentNode&&e(t.parentNode))})),function e(t){t&&!c.has(t)&&[].forEach.call(t.children,(t=>{if("script"!==(0,mr.mq)(t))if(l.has(t))e(t);else{const e=a?t.getAttribute(a):null,n=null!==e&&"false"!==e,r=(Ao.get(t)||0)+1,i=(d.get(t)||0)+1;Ao.set(t,r),d.set(t,i),u.push(t),1===r&&n&&Do.add(t),1===i&&t.setAttribute(o,""),!n&&a&&t.setAttribute(a,"true")}}))}(t),l.clear(),_o++,()=>{u.forEach((e=>{const t=(Ao.get(e)||0)-1,n=(d.get(e)||0)-1;Ao.set(e,t),d.set(e,n),t||(!Do.has(e)&&a&&e.removeAttribute(a),Do.delete(e)),n||e.removeAttribute(o)})),_o--,_o||(Ao=new WeakMap,Ao=new WeakMap,Do=new WeakSet,Ro={})}}(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const To=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Io(e,t){const n=Wr(e,To());"prev"===t&&n.reverse();const r=n.indexOf(br(Or(e)));return n.slice(r+1)[0]}function jo(){return Io(document.body,"next")}function Fo(){return Io(document.body,"prev")}function Mo(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!vr(n,r)}function Lo(e){Wr(e,To()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function No(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const Bo={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function Vo(e){"Tab"===e.key&&(e.target,clearTimeout(void 0))}const zo=a.forwardRef((function(e,t){const[n,r]=a.useState();fo((()=>(Cr()&&r("button"),document.addEventListener("keydown",Vo),()=>{document.removeEventListener("keydown",Vo)})),[]);const o={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[Co("focus-guard")]:"",style:Bo};return a.createElement("span",ho({},e,o))})),$o=a.createContext(null),Uo=Co("portal");function Ho(e){const{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e,i=function(e){void 0===e&&(e={});const{id:t,root:n}=e,r=vo(),o=qo(),[i,s]=a.useState(null),l=a.useRef(null);return fo((()=>()=>{null==i||i.remove(),queueMicrotask((()=>{l.current=null}))}),[i]),fo((()=>{if(!r)return;if(l.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(Uo,""),e.appendChild(n),l.current=n,s(n)}),[t,r]),fo((()=>{if(!r)return;if(l.current)return;let e=n||(null==o?void 0:o.portalNode);e&&!(0,mr.vq)(e)&&(e=e.current),e=e||document.body;let a=null;t&&(a=document.createElement("div"),a.id=t,e.appendChild(a));const i=document.createElement("div");i.id=r,i.setAttribute(Uo,""),e=a||e,e.appendChild(i),l.current=i,s(i)}),[t,n,r,o]),i}({id:n,root:r}),[s,l]=a.useState(null),c=a.useRef(null),u=a.useRef(null),d=a.useRef(null),p=a.useRef(null),f=!!s&&!s.modal&&s.open&&o&&!(!r&&!i);return a.useEffect((()=>{if(i&&o&&(null==s||!s.modal))return i.addEventListener("focusin",e,!0),i.addEventListener("focusout",e,!0),()=>{i.removeEventListener("focusin",e,!0),i.removeEventListener("focusout",e,!0)};function e(e){i&&Mo(e)&&("focusin"===e.type?No:Lo)(i)}}),[i,o,null==s?void 0:s.modal]),a.createElement($o.Provider,{value:a.useMemo((()=>({preserveTabOrder:o,beforeOutsideRef:c,afterOutsideRef:u,beforeInsideRef:d,afterInsideRef:p,portalNode:i,setFocusManagerState:l})),[o,i])},f&&i&&a.createElement(zo,{"data-type":"outside",ref:c,onFocus:e=>{if(Mo(e,i)){var t;null==(t=d.current)||t.focus()}else{const e=Fo()||(null==s?void 0:s.refs.domReference.current);null==e||e.focus()}}}),f&&i&&a.createElement("span",{"aria-owns":i.id,style:Bo}),i&&(0,Qr.createPortal)(t,i),f&&i&&a.createElement(zo,{"data-type":"outside",ref:u,onFocus:e=>{if(Mo(e,i)){var t;null==(t=p.current)||t.focus()}else{const t=jo()||(null==s?void 0:s.refs.domReference.current);null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent))}}}))}const qo=()=>a.useContext($o);let Go=[];function Wo(e){Go=Go.filter((e=>e.isConnected));let t=e;if(t&&"body"!==(0,mr.mq)(t)){if(!function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==jr.call(e,Tr)&&Hr(t,e)}(t,To())){const e=Wr(t,To())[0];e&&(t=e)}Go.push(t),Go.length>20&&(Go=Go.slice(-20))}}function Qo(){return Go.slice().reverse().find((e=>e.isConnected))}const Yo=a.forwardRef((function(e,t){return a.createElement("button",ho({},e,{type:"button",ref:t,tabIndex:-1,style:Bo}))}));function Xo(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:l=!0,modal:c=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:d=!0}=e,{open:p,refs:f,nodeId:h,onOpenChange:g,events:m,dataRef:b,elements:{domReference:v,floating:y}}=t,w="number"==typeof s&&s<0,E=_r(v)&&w,S="undefined"==typeof HTMLElement||!("inert"in HTMLElement.prototype)||i,C=xo(o),x=xo(s),O=xo(l),A=So(),D=qo(),R=a.useRef(null),_=a.useRef(null),k=a.useRef(!1),P=a.useRef(!1),T=null!=D,I=a.useCallback((function(e){return void 0===e&&(e=y),e?Wr(e,To()):[]}),[y]),j=a.useCallback((e=>{const t=I(e);return C.current.map((e=>v&&"reference"===e?v:y&&"floating"===e?y:t)).filter(Boolean).flat()}),[v,y,C,I]);function F(e){return!r&&u&&c?a.createElement(Yo,{ref:"start"===e?R:_,onClick:e=>g(!1,e.nativeEvent)},"string"==typeof u?u:"Dismiss"):null}a.useEffect((()=>{if(r||!c)return;function e(e){if("Tab"===e.key){vr(y,br(Or(y)))&&0===I().length&&!E&&Rr(e);const t=j(),n=Dr(e);"reference"===C.current[0]&&n===v&&(Rr(e),e.shiftKey?po(t[t.length-1]):po(t[1])),"floating"===C.current[1]&&n===y&&e.shiftKey&&(Rr(e),po(t[0]))}}const t=Or(y);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[r,v,y,c,C,E,I,j]),a.useEffect((()=>{if(!r&&d)return y&&(0,mr.sb)(v)?(v.addEventListener("focusout",t),v.addEventListener("pointerdown",e),!c&&y.addEventListener("focusout",t),()=>{v.removeEventListener("focusout",t),v.removeEventListener("pointerdown",e),!c&&y.removeEventListener("focusout",t)}):void 0;function e(){P.current=!0,setTimeout((()=>{P.current=!1}))}function t(e){const t=e.relatedTarget;queueMicrotask((()=>{const n=!(vr(v,t)||vr(y,t)||vr(t,y)||vr(null==D?void 0:D.portalNode,t)||null!=t&&t.hasAttribute(Co("focus-guard"))||A&&(Oo(A.nodesRef.current,h).find((e=>{var n,r;return vr(null==(n=e.context)?void 0:n.elements.floating,t)||vr(null==(r=e.context)?void 0:r.elements.domReference,t)}))||function(e,t){var n;let r=[],o=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;o;){const t=e.find((e=>e.id===o));o=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(A.nodesRef.current,h).find((e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t}))));t&&n&&!P.current&&t!==Qo()&&(k.current=!0,g(!1,e))}))}}),[r,v,y,c,h,A,D,g,d]),a.useEffect((()=>{var e;if(r)return;const t=Array.from((null==D||null==(e=D.portalNode)?void 0:e.querySelectorAll("["+Co("portal")+"]"))||[]);if(y){const e=[y,...t,R.current,_.current,C.current.includes("reference")||E?v:null].filter((e=>null!=e)),n=c||E?Po(e,S,!S):Po(e);return()=>{n()}}}),[r,v,y,c,C,D,E,S]),fo((()=>{if(r||!y)return;const e=br(Or(y));queueMicrotask((()=>{const t=j(y),n=x.current,r=("number"==typeof n?t[n]:n.current)||y,o=vr(y,e);w||o||!p||po(r,{preventScroll:r===y})}))}),[r,p,y,w,j,x]),fo((()=>{if(r||!y)return;let e=!1;const t=Or(y),n=br(t);let o=b.current.openEvent;function a(t){let{open:n,reason:r,event:a,nested:i}=t;n&&(o=a),"escape-key"===r&&f.domReference.current&&Wo(f.domReference.current),"hover"===r&&"mouseleave"===a.type&&(k.current=!0),"outside-press"===r&&(i?(k.current=!1,e=!0):k.current=!(Er(a)||Sr(a)))}return Wo(n),m.on("openchange",a),()=>{m.off("openchange",a);const n=br(t),r=vr(y,n)||A&&Oo(A.nodesRef.current,h).some((e=>{var t;return vr(null==(t=e.context)?void 0:t.elements.floating,n)}));(r||o&&["click","mousedown"].includes(o.type))&&f.domReference.current&&Wo(f.domReference.current);const i=Qo();O.current&&!k.current&&(0,mr.sb)(i)&&(i===n||n===t.body||r)&&po(i,{cancelPrevious:!1,preventScroll:e})}}),[r,y,O,b,f,m,A,h]),fo((()=>{if(!r&&D)return D.setFocusManagerState({modal:c,closeOnFocusOut:d,open:p,onOpenChange:g,refs:f}),()=>{D.setFocusManagerState(null)}}),[r,D,c,p,g,f,d]),fo((()=>{if(r||!y||"function"!=typeof MutationObserver||w)return;const e=()=>{const e=y.getAttribute("tabindex");C.current.includes("floating")||br(Or(y))!==f.domReference.current&&0===I().length?"0"!==e&&y.setAttribute("tabindex","0"):"-1"!==e&&y.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(y,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}}),[r,y,f,C,I,w]);const M=!r&&S&&(T||c);return a.createElement(a.Fragment,null,M&&a.createElement(zo,{"data-type":"inside",ref:null==D?void 0:D.beforeInsideRef,onFocus:e=>{if(c){const e=j();po("reference"===o[0]?e[0]:e[e.length-1])}else if(null!=D&&D.preserveTabOrder&&D.portalNode)if(k.current=!1,Mo(e,D.portalNode)){const e=jo()||v;null==e||e.focus()}else{var t;null==(t=D.beforeOutsideRef.current)||t.focus()}}}),!E&&F("start"),n,F("end"),M&&a.createElement(zo,{"data-type":"inside",ref:null==D?void 0:D.afterInsideRef,onFocus:e=>{if(c)po(j()[0]);else if(null!=D&&D.preserveTabOrder&&D.portalNode)if(d&&(k.current=!0),Mo(e,D.portalNode)){const e=Fo()||v;null==e||e.focus()}else{var t;null==(t=D.afterOutsideRef.current)||t.focus()}}}))}const Ko={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Zo={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Jo=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function ea(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=vo(),i=a.useRef({}),[s]=a.useState((()=>function(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}())),l=null!=Eo(),[c,u]=a.useState(r.reference),d=Kr(((e,t,r)=>{i.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)})),p=a.useMemo((()=>({setPositionReference:u})),[]),f=a.useMemo((()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference})),[c,r.reference,r.floating]);return a.useMemo((()=>({dataRef:i,open:t,onOpenChange:d,elements:f,events:s,floatingId:o,refs:p})),[t,d,f,s,o,p])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,s]=a.useState(null),[l,c]=a.useState(null),u=(null==o?void 0:o.reference)||i,d=a.useRef(null),p=So();fo((()=>{u&&(d.current=u)}),[u]);const f=(0,Pr.we)({...e,elements:{...o,...l&&{reference:l}}}),h=a.useCallback((e=>{const t=(0,mr.vq)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;c(t),f.refs.setReference(t)}),[f.refs]),g=a.useCallback((e=>{((0,mr.vq)(e)||null===e)&&(d.current=e,s(e)),((0,mr.vq)(f.refs.reference.current)||null===f.refs.reference.current||null!==e&&!(0,mr.vq)(e))&&f.refs.setReference(e)}),[f.refs]),m=a.useMemo((()=>({...f.refs,setReference:g,setPositionReference:h,domReference:d})),[f.refs,g,h]),b=a.useMemo((()=>({...f.elements,domReference:u})),[f.elements,u]),v=a.useMemo((()=>({...f,...r,refs:m,elements:b,nodeId:t})),[f,m,b,t,r]);return fo((()=>{r.dataRef.current.floatingContext=v;const e=null==p?void 0:p.nodesRef.current.find((e=>e.id===t));e&&(e.context=v)})),a.useMemo((()=>({...f,context:v,refs:m,elements:b})),[f,m,b,v])}const ta="active",na="selected";function ra(e,t,n){const r=new Map,o="item"===n;let a=e;if(o&&e){const{[ta]:t,[na]:n,...r}=e;a=r}return{..."floating"===n&&{tabIndex:-1},...a,...t.map((t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,a]=t;var i;o&&[ta,na].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof a&&(null==(i=r.get(n))||i.push(a),e[n]=function(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return null==(e=r.get(n))?void 0:e.map((e=>e(...o))).find((e=>void 0!==e))})):e[n]=a)})),e):e),{})}}let oa=!1;function aa(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function ia(e,t){return aa(t,e===Zr||e===Jr,e===eo||e===to)}function sa(e,t,n){return aa(t,e===Jr,n?e===eo:e===to)||"Enter"===e||" "===e||""===e}function la(e,t,n){return aa(t,n?e===to:e===eo,e===Zr)}function ca(e,t){const{open:n,onOpenChange:r,elements:{domReference:o,floating:i}}=e,{listRef:s,activeIndex:l,onNavigate:c=()=>{},enabled:u=!0,selectedIndex:d=null,allowEscape:p=!1,loop:f=!1,nested:h=!1,rtl:g=!1,virtual:m=!1,focusItemOnOpen:b="auto",focusItemOnHover:v=!0,openOnArrowKeyDown:y=!0,disabledIndices:w,orientation:E="vertical",cols:S=1,scrollItemIntoView:C=!0,virtualItemRef:x,itemSizes:O,dense:A=!1}=t,D=Eo(),R=So(),_=Kr(c),k=a.useRef(b),P=a.useRef(null!=d?d:-1),T=a.useRef(null),I=a.useRef(!0),j=a.useRef(_),F=a.useRef(!!i),M=a.useRef(!1),L=a.useRef(!1),N=xo(w),B=xo(n),V=xo(C),z=xo(i),$=xo(d),[U,H]=a.useState(),[q,G]=a.useState(),W=Kr((function(e,t,n){function r(e){m?(H(e.id),null==R||R.events.emit("virtualfocus",e),x&&(x.current=e)):po(e,{preventScroll:!0,sync:!(!yr().toLowerCase().startsWith("mac")||navigator.maxTouchPoints||!Cr())&&(oa||M.current)})}void 0===n&&(n=!1);const o=e.current[t.current];o&&r(o),requestAnimationFrame((()=>{const a=e.current[t.current]||o;if(!a)return;o||r(a);const i=V.current;i&&Y&&(n||!I.current)&&(null==a.scrollIntoView||a.scrollIntoView("boolean"==typeof i?{block:"nearest",inline:"nearest"}:i))}))}));fo((()=>{document.createElement("div").focus({get preventScroll(){return oa=!0,!1}})}),[]),fo((()=>{u&&(n&&i?k.current&&null!=d&&(L.current=!0,P.current=d,_(d)):F.current&&(P.current=-1,j.current(null)))}),[u,n,i,d,_]),fo((()=>{if(u&&n&&i)if(null==l){if(M.current=!1,null!=$.current)return;if(F.current&&(P.current=-1,W(s,P)),!F.current&&k.current&&(null!=T.current||!0===k.current&&null==T.current)){let e=0;const t=()=>{null==s.current[0]?(e<2&&(e?requestAnimationFrame:queueMicrotask)(t),e++):(P.current=null==T.current||sa(T.current,E,g)||h?oo(s,N.current):ao(s,N.current),T.current=null,_(P.current))};t()}}else ro(s,l)||(P.current=l,W(s,P,L.current),L.current=!1)}),[u,n,i,l,$,h,s,E,g,_,W,N]),fo((()=>{var e;if(!u||i||!R||m||!F.current)return;const t=R.nodesRef.current,n=null==(e=t.find((e=>e.id===D)))||null==(e=e.context)?void 0:e.elements.floating,r=br(Or(i)),o=t.some((e=>e.context&&vr(e.context.elements.floating,r)));n&&!o&&I.current&&n.focus({preventScroll:!0})}),[u,i,R,D,m]),fo((()=>{if(u&&R&&m&&!D)return R.events.on("virtualfocus",e),()=>{R.events.off("virtualfocus",e)};function e(e){G(e.id),x&&(x.current=e)}}),[u,R,m,D,x]),fo((()=>{j.current=_,F.current=!!i})),fo((()=>{n||(T.current=null)}),[n]);const Q=null!=l,Y=a.useMemo((()=>{function e(e){if(!n)return;const t=s.current.indexOf(e);-1!==t&&_(t)}const t={onFocus(t){let{currentTarget:n}=t;e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...v&&{onMouseMove(t){let{currentTarget:n}=t;e(n)},onPointerLeave(e){let{pointerType:t}=e;I.current&&"touch"!==t&&(P.current=-1,W(s,P),_(null),m||po(z.current,{preventScroll:!0}))}}};return t}),[n,z,W,v,s,_,m]);return a.useMemo((()=>{if(!u)return{};const e=N.current;function t(t){if(I.current=!1,M.current=!0,!B.current&&t.currentTarget===z.current)return;if(h&&la(t.key,E,g))return Rr(t),r(!1,t.nativeEvent,"list-navigation"),void((0,mr.sb)(o)&&!m&&o.focus());const a=P.current,i=oo(s,e),l=ao(s,e);if("Home"===t.key&&(Rr(t),P.current=i,_(P.current)),"End"===t.key&&(Rr(t),P.current=l,_(P.current)),S>1){const n=O||Array.from({length:s.current.length},(()=>({width:1,height:1}))),r=function(e,t,n){const r=[];let o=0;return e.forEach(((e,a)=>{let{width:i,height:s}=e,l=!1;for(n&&(o=0);!l;){const e=[];for(let n=0;n<i;n++)for(let r=0;r<s;r++)e.push(o+n+r*t);o%t+i<=t&&e.every((e=>null==r[e]))?(e.forEach((e=>{r[e]=a})),l=!0):o++}})),[...r]}(n,S,A),o=r.findIndex((t=>null!=t&&!co(s.current,t,e))),a=r.reduce(((t,n,r)=>null==n||co(s.current,n,e)?t:r),-1);if(P.current=r[function(e,t){let{event:n,orientation:r,loop:o,cols:a,disabledIndices:i,minIndex:s,maxIndex:l,prevIndex:c,stopEvent:u=!1}=t,d=c;if(n.key===Zr){if(u&&Rr(n),-1===c)d=l;else if(d=io(e,{startingIndex:d,amount:a,decrement:!0,disabledIndices:i}),o&&(c-a<s||d<0)){const e=c%a,t=l%a,n=l-(t-e);d=t===e?l:t>e?n:n-a}ro(e,d)&&(d=c)}if(n.key===Jr&&(u&&Rr(n),-1===c?d=s:(d=io(e,{startingIndex:c,amount:a,disabledIndices:i}),o&&c+a>l&&(d=io(e,{startingIndex:c%a-a,amount:a,disabledIndices:i}))),ro(e,d)&&(d=c)),"both"===r){const t=(0,kr.RI)(c/a);n.key===to&&(u&&Rr(n),c%a!=a-1?(d=io(e,{startingIndex:c,disabledIndices:i}),o&&no(d,a,t)&&(d=io(e,{startingIndex:c-c%a-1,disabledIndices:i}))):o&&(d=io(e,{startingIndex:c-c%a-1,disabledIndices:i})),no(d,a,t)&&(d=c)),n.key===eo&&(u&&Rr(n),c%a!=0?(d=io(e,{startingIndex:c,decrement:!0,disabledIndices:i}),o&&no(d,a,t)&&(d=io(e,{startingIndex:c+(a-c%a),decrement:!0,disabledIndices:i}))):o&&(d=io(e,{startingIndex:c+(a-c%a),decrement:!0,disabledIndices:i})),no(d,a,t)&&(d=c));const r=(0,kr.RI)(l/a)===t;ro(e,d)&&(d=o&&r?n.key===eo?l:io(e,{startingIndex:c-c%a-1,disabledIndices:i}):c)}return d}({current:r.map((e=>null!=e?s.current[e]:null))},{event:t,orientation:E,loop:f,cols:S,disabledIndices:lo([...e||s.current.map(((e,t)=>co(s.current,t)?t:void 0)),void 0],r),minIndex:o,maxIndex:a,prevIndex:so(P.current>l?i:P.current,n,r,S,t.key===Jr?"bl":t.key===to?"tr":"tl"),stopEvent:!0})],_(P.current),"both"===E)return}if(ia(t.key,E)){if(Rr(t),n&&!m&&br(t.currentTarget.ownerDocument)===t.currentTarget)return P.current=sa(t.key,E,g)?i:l,void _(P.current);sa(t.key,E,g)?P.current=f?a>=l?p&&a!==s.current.length?-1:i:io(s,{startingIndex:a,disabledIndices:e}):Math.min(l,io(s,{startingIndex:a,disabledIndices:e})):P.current=f?a<=i?p&&-1!==a?s.current.length:l:io(s,{startingIndex:a,decrement:!0,disabledIndices:e}):Math.max(i,io(s,{startingIndex:a,decrement:!0,disabledIndices:e})),ro(s,P.current)?_(null):_(P.current)}}function a(e){"auto"===b&&Er(e.nativeEvent)&&(k.current=!0)}const i=m&&n&&Q&&{"aria-activedescendant":q||U},l=s.current.find((e=>(null==e?void 0:e.id)===U));return{reference:{...i,onKeyDown(o){I.current=!1;const a=0===o.key.indexOf("Arrow"),i=function(e,t,n){return aa(t,n?e===eo:e===to,e===Jr)}(o.key,E,g),c=la(o.key,E,g),u=ia(o.key,E),p=(h?i:u)||"Enter"===o.key||""===o.key.trim();if(m&&n){const e=null==R?void 0:R.nodesRef.current.find((e=>null==e.parentId)),n=R&&e?function(e,t){let n,r=-1;return function t(o,a){a>r&&(n=o,r=a),Oo(e,o).forEach((e=>{t(e.id,a+1)}))}(t,0),e.find((e=>e.id===n))}(R.nodesRef.current,e.id):null;if(a&&n&&x){const e=new KeyboardEvent("keydown",{key:o.key,bubbles:!0});if(i||c){var f,b;const t=(null==(f=n.context)?void 0:f.elements.domReference)===o.currentTarget,r=c&&!t?null==(b=n.context)?void 0:b.elements.domReference:i?l:null;r&&(Rr(o),r.dispatchEvent(e),G(void 0))}var v;if(u&&n.context&&n.context.open&&n.parentId&&o.currentTarget!==n.context.elements.domReference)return Rr(o),void(null==(v=n.context.elements.domReference)||v.dispatchEvent(e))}return t(o)}(n||y||!a)&&(p&&(T.current=h&&u?null:o.key),h?i&&(Rr(o),n?(P.current=oo(s,e),_(P.current)):r(!0,o.nativeEvent,"list-navigation")):u&&(null!=d&&(P.current=d),Rr(o),!n&&y?r(!0,o.nativeEvent,"list-navigation"):t(o),n&&_(P.current)))},onFocus(){n&&!m&&_(null)},onPointerDown:function(e){k.current=b,"auto"===b&&Sr(e.nativeEvent)&&(k.current=!0)},onMouseDown:a,onClick:a},floating:{"aria-orientation":"both"===E?void 0:E,...!_r(o)&&i,onKeyDown:t,onPointerMove(){I.current=!0}},item:Y}}),[o,z,U,q,N,B,s,u,E,g,m,n,Q,h,d,y,p,S,f,b,_,r,Y,R,x,O,A])}const ua=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);var da=n(5007),pa=Object.defineProperty,fa=Object.getOwnPropertySymbols,ha=Object.prototype.hasOwnProperty,ga=Object.prototype.propertyIsEnumerable,ma=(e,t,n)=>t in e?pa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ba=(0,a.forwardRef)((function(e,t){var n=e,{children:r,active:o,addGroupBottomBorder:i,isMultiValueEdit:l,checked:c}=n,u=((e,t)=>{var n={};for(var r in e)ha.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&fa)for(var r of fa(e))t.indexOf(r)<0&&ga.call(e,r)&&(n[r]=e[r]);return n})(n,["children","active","addGroupBottomBorder","isMultiValueEdit","checked"]);const d=(0,rn.useStyles2)(va),p=(0,a.useId)();return s().createElement("div",((e,t)=>{for(var n in t||(t={}))ha.call(t,n)&&ma(e,n,t[n]);if(fa)for(var n of fa(t))ga.call(t,n)&&ma(e,n,t[n]);return e})({ref:t,role:"option",id:p,"aria-selected":o,className:(0,sn.cx)(d.option,o&&d.optionFocused,i&&d.groupBottomBorder)},u),s().createElement("div",{className:d.optionBody,"data-testid":`data-testid ad hoc filter option value ${r}`},s().createElement("span",null,l?s().createElement(rn.Checkbox,{tabIndex:-1,checked:c,className:d.checkbox}):null,r)))})),va=e=>({option:(0,sn.css)({label:"grafana-select-option",top:0,left:0,width:"100%",position:"absolute",padding:e.spacing(1),display:"flex",alignItems:"center",flexDirection:"row",flexShrink:0,whiteSpace:"nowrap",cursor:"pointer","&:hover":{background:e.colors.action.hover,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${e.colors.primary.border}`}}}),optionFocused:(0,sn.css)({label:"grafana-select-option-focused",background:e.colors.action.focus,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${e.colors.primary.border}`}}),optionBody:(0,sn.css)({label:"grafana-select-option-body",display:"flex",fontWeight:e.typography.fontWeightMedium,flexDirection:"column",flexGrow:1}),groupBottomBorder:(0,sn.css)({borderBottom:`1px solid ${e.colors.border.weak}`}),checkbox:(0,sn.css)({paddingRight:e.spacing(.5)}),multiValueApplyWrapper:(0,sn.css)({position:"fixed",top:0,left:0,display:"flex",backgroundColor:e.colors.background.primary,color:e.colors.text.primary,boxShadow:e.shadows.z2,overflowY:"auto",zIndex:e.zIndex.dropdown,gap:e.spacing(1.5),padding:`${e.spacing(1.5)} ${e.spacing(1)}`})}),ya=()=>s().createElement(ba,{onClick:e=>e.stopPropagation()},"Loading options..."),wa=()=>s().createElement(ba,{onClick:e=>e.stopPropagation()},"No options found"),Ea=({handleFetchOptions:e})=>s().createElement(ba,{onClick:e},"An error has occurred fetching labels. Click to retry"),Sa=({onApply:e,floatingElement:t,maxOptionWidth:n,menuHeight:r})=>{const o=(0,rn.useStyles2)(va),a=null==t?void 0:t.getBoundingClientRect();return s().createElement("div",{className:o.multiValueApplyWrapper,style:{width:`${n}px`,transform:`translate(${null==a?void 0:a.left}px,${a?a.top+r:0}px)`}},s().createElement(rn.Button,{onClick:e,size:"sm",tabIndex:-1},"Apply"))},Ca={key:"operator",operator:"value",value:"key"},xa=(e,t,n,r)=>Oa(Ca[e],t,"value"===e?n:void 0,r),Oa=(e,t,n,r)=>{t(e),null==n||n(),setTimeout((()=>null==r?void 0:r.focus()))},Aa=({filterInputType:e,item:t,filter:n,setFilterMultiValues:r})=>{var o,a,i,s,l;if("key"===e)return{key:t.value,keyLabel:t.label?t.label:t.value};if("value"===e)return{value:t.value,valueLabels:[t.label?t.label:t.value]};if("operator"===e){if(fi(n.operator)&&!fi(t.value))return r([]),{operator:t.value,valueLabels:[(null==(o=n.valueLabels)?void 0:o[0])||(null==(a=n.values)?void 0:a[0])||n.value],values:void 0};if(fi(t.value)&&!fi(n.operator)){const e=[(null==(i=n.valueLabels)?void 0:i[0])||(null==(s=n.values)?void 0:s[0])||n.value],o=[n.value];return o[0]&&r([{value:o[0],label:null!=(l=null==e?void 0:e[0])?l:o[0]}]),{operator:t.value,valueLabels:e,values:o}}}return{[e]:t.value}},Da="Filter by label values",Ra=(e,t,n,r)=>{var o;return"key"===t?Da:"value"===t?n?"Edit values":(null==(o=e.valueLabels)?void 0:o[0])||"":e[t]&&!r?`${e[t]}`:Da};var _a=n(8083);var ka=Object.defineProperty,Pa=Object.defineProperties,Ta=Object.getOwnPropertyDescriptors,Ia=Object.getOwnPropertySymbols,ja=Object.prototype.hasOwnProperty,Fa=Object.prototype.propertyIsEnumerable,Ma=(e,t,n)=>t in e?ka(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,La=(e,t)=>{for(var n in t||(t={}))ja.call(t,n)&&Ma(e,n,t[n]);if(Ia)for(var n of Ia(t))Fa.call(t,n)&&Ma(e,n,t[n]);return e},Na=(e,t)=>Pa(e,Ta(t));const Ba=(0,a.forwardRef)((function({filter:e,model:t,isAlwaysWip:n,handleChangeViewMode:r},o){var i,l,c;const[u,d]=(0,a.useState)(!1),[p,f]=(0,a.useState)([]),[h,g]=(0,a.useState)(!1),[m,b]=(0,a.useState)(!1),[v,y]=(0,a.useState)(""),[w,E]=(0,a.useState)(null),[S,C]=(0,a.useState)(n?"key":"value"),x=(0,rn.useStyles2)(za),[O,A]=(0,a.useState)([]),[D,R]=(0,a.useState)({}),_=(0,a.useRef)(null),k=fi((null==e?void 0:e.operator)||""),P=k&&"value"===S,T=(0,a.useId)(),I=(0,a.useRef)([]),j=(0,a.useRef)([]),F=(0,a.useMemo)((()=>function(e){const t=new mn,n=[],r=1e4;return(o,a)=>{var i;if(""===o)return e.length>r?e.slice(0,r):e;if("operator"===a){const t=[];for(let n=0;n<e.length;n++)if((null==(i=e[n].label||e[n].value)?void 0:i.includes(o))&&(t.push(e[n]),t.length>r))return t;return t}if(0===n.length)for(let t=0;t<e.length;t++)n.push(e[t].label||e[t].value);const[s,l,c]=t.search(n,o),u=[];if(s){for(let t=0;t<s.length;t++){if(l&&c){const n=c[t];u.push(e[s[n]])}else u.push(e[s[t]]);if(u.length>r)return u}return u}return e.length>r?e.slice(0,r):e}}(p)),[p]),M=(0,a.useCallback)((()=>{n&&(t._addWip(),C("key"),y(""))}),[t,n]),L=(0,a.useCallback)(((e,t,n,r)=>{if(n.length){const r=[],o=[];n.forEach((e=>{var t;r.push(null!=(t=e.label)?t:e.value),o.push(e.value)})),e._updateFilter(t,{valueLabels:r,values:o,value:o[0]}),A([])}r||setTimeout((()=>{var e;return null==(e=z.domReference.current)?void 0:e.focus()}))}),[]),N=(0,a.useCallback)((e=>{A((t=>t.some((t=>t.value===e.value))?t.filter((t=>t.value!==e.value)):[...t,e]))}),[]),B=(0,a.useCallback)(((n,o,a)=>{d(n),a&&["outside-press","escape-key"].includes(a)&&(P&&L(t,e,O),M(),null==r||r())}),[e,O,r,L,M,P,t]),V=(0,a.useMemo)((()=>[T,...O.map(((e,t)=>`${e.value}-${t}`))]),[T,O]),{refs:z,floatingStyles:$,context:U,getReferenceProps:H,getFloatingProps:q,getItemProps:G}=(({open:e,onOpenChange:t,activeIndex:n,setActiveIndex:r,outsidePressIdsToIgnore:o,listRef:i,disabledIndicesRef:s})=>{const{refs:l,floatingStyles:c,context:u}=ea({whileElementsMounted:_a.ll,open:e,onOpenChange:t,placement:"bottom-start",middleware:[(0,Pr.cY)(10),(0,Pr.UU)({padding:10}),(0,Pr.Ej)({apply({availableHeight:e,availableWidth:t,elements:n}){n.floating.style.maxHeight=`${Math.min(300,e)}px`,n.floating.style.maxWidth=`${t}px`},padding:10})],strategy:"fixed"}),d=function(e,t){var n;void 0===t&&(t={});const{open:r,floatingId:o}=e,{enabled:i=!0,role:s="dialog"}=t,l=null!=(n=ua.get(s))?n:s,c=vo(),u=null!=Eo();return a.useMemo((()=>{if(!i)return{};const e={id:o,...l&&{role:l}};return"tooltip"===l||"label"===s?{reference:{["aria-"+("label"===s?"labelledby":"describedby")]:r?o:void 0},floating:e}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===l?"dialog":l,"aria-controls":r?o:void 0,..."listbox"===l&&{role:"combobox"},..."menu"===l&&{id:c},..."menu"===l&&u&&{role:"menuitem"},..."select"===s&&{"aria-autocomplete":"none"},..."combobox"===s&&{"aria-autocomplete":"list"}},floating:{...e,..."menu"===l&&{"aria-labelledby":c}},item(e){let{active:t,selected:n}=e;const r={role:"option",...t&&{id:o+"-option"}};switch(s){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,...t&&{"aria-selected":!0}}}return{}}}}),[i,s,l,r,o,c,u])}(u,{role:"listbox"}),p=function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:{reference:o,domReference:i,floating:s},dataRef:l}=e,{enabled:c=!0,escapeKey:u=!0,outsidePress:d=!0,outsidePressEvent:p="pointerdown",referencePress:f=!1,referencePressEvent:h="pointerdown",ancestorScroll:g=!1,bubbles:m,capture:b}=t,v=So(),y=Kr("function"==typeof d?d:()=>!1),w="function"==typeof d?y:d,E=a.useRef(!1),S=a.useRef(!1),{escapeKey:C,outsidePress:x}=Jo(m),{escapeKey:O,outsidePress:A}=Jo(b),D=Kr((e=>{var t;if(!n||!c||!u||"Escape"!==e.key)return;const o=null==(t=l.current.floatingContext)?void 0:t.nodeId,a=v?Oo(v.nodesRef.current,o):[];if(!C&&(e.stopPropagation(),a.length>0)){let e=!0;if(a.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")})),R=Kr((e=>{var t;const n=()=>{var t;D(e),null==(t=Dr(e))||t.removeEventListener("keydown",n)};null==(t=Dr(e))||t.addEventListener("keydown",n)})),_=Kr((e=>{var t;const n=E.current;E.current=!1;const o=S.current;if(S.current=!1,"click"===p&&o)return;if(n)return;if("function"==typeof w&&!w(e))return;const a=Dr(e),c="["+Co("inert")+"]",u=Or(s).querySelectorAll(c);let d=(0,mr.vq)(a)?a:null;for(;d&&!(0,mr.eu)(d);){const e=(0,mr.$4)(d);if((0,mr.eu)(e)||!(0,mr.vq)(e))break;d=e}if(u.length&&(0,mr.vq)(a)&&!a.matches("html,body")&&!vr(a,s)&&Array.from(u).every((e=>!vr(d,e))))return;if((0,mr.sb)(a)&&s){const t=a.clientWidth>0&&a.scrollWidth>a.clientWidth,n=a.clientHeight>0&&a.scrollHeight>a.clientHeight;let r=n&&e.offsetX>a.clientWidth;if(n&&"rtl"===(0,mr.L9)(a).direction&&(r=e.offsetX<=a.offsetWidth-a.clientWidth),r||t&&e.offsetY>a.clientHeight)return}const f=null==(t=l.current.floatingContext)?void 0:t.nodeId,h=v&&Oo(v.nodesRef.current,f).some((t=>{var n;return Ar(e,null==(n=t.context)?void 0:n.elements.floating)}));if(Ar(e,s)||Ar(e,i)||h)return;const g=v?Oo(v.nodesRef.current,f):[];if(g.length>0){let e=!0;if(g.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}r(!1,e,"outside-press")})),k=Kr((e=>{var t;const n=()=>{var t;_(e),null==(t=Dr(e))||t.removeEventListener(p,n)};null==(t=Dr(e))||t.addEventListener(p,n)}));return a.useEffect((()=>{if(!n||!c)return;function e(e){r(!1,e,"ancestor-scroll")}l.current.__escapeKeyBubbles=C,l.current.__outsidePressBubbles=x;const t=Or(s);u&&t.addEventListener("keydown",O?R:D,O),w&&t.addEventListener(p,A?k:_,A);let a=[];return g&&((0,mr.vq)(i)&&(a=(0,mr.v9)(i)),(0,mr.vq)(s)&&(a=a.concat((0,mr.v9)(s))),!(0,mr.vq)(o)&&o&&o.contextElement&&(a=a.concat((0,mr.v9)(o.contextElement)))),a=a.filter((e=>{var n;return e!==(null==(n=t.defaultView)?void 0:n.visualViewport)})),a.forEach((t=>{t.addEventListener("scroll",e,{passive:!0})})),()=>{u&&t.removeEventListener("keydown",O?R:D,O),w&&t.removeEventListener(p,A?k:_,A),a.forEach((t=>{t.removeEventListener("scroll",e)}))}}),[l,s,i,o,u,w,p,n,r,g,c,C,x,D,O,R,_,A,k]),a.useEffect((()=>{E.current=!1}),[w,p]),a.useMemo((()=>c?{reference:{onKeyDown:D,[Ko[h]]:e=>{f&&r(!1,e.nativeEvent,"reference-press")}},floating:{onKeyDown:D,onMouseDown(){S.current=!0},onMouseUp(){S.current=!0},[Zo[p]]:()=>{E.current=!0}}}:{}),[c,f,p,h,r,D])}(u,{outsidePress:e=>{var t;if(e.currentTarget instanceof Element){const n=e.currentTarget;let r=n.id;if("path"===n.nodeName&&(r=(null==(t=n.parentElement)?void 0:t.id)||""),o.includes(r))return!1}return!0}}),f=ca(u,{listRef:i,activeIndex:n,onNavigate:r,virtual:!0,loop:!0,disabledIndices:s.current}),{getReferenceProps:h,getFloatingProps:g,getItemProps:m}=function(e){void 0===e&&(e=[]);const t=e,n=a.useCallback((t=>ra(t,e,"reference")),t),r=a.useCallback((t=>ra(t,e,"floating")),t),o=a.useCallback((t=>ra(t,e,"item")),e.map((e=>null==e?void 0:e.item)));return a.useMemo((()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o})),[n,r,o])}([d,p,f]);return{refs:l,floatingStyles:c,context:u,getReferenceProps:h,getFloatingProps:g,getItemProps:m}})({open:u,onOpenChange:B,activeIndex:w,setActiveIndex:E,outsidePressIdsToIgnore:V,listRef:I,disabledIndicesRef:j});(0,a.useImperativeHandle)(o,(()=>()=>{var e;return null==(e=z.domReference.current)?void 0:e.focus()}),[z.domReference]);const W=(0,a.useCallback)((e=>{A((t=>t.filter((t=>t.value!==e.value)))),setTimeout((()=>{var e;return null==(e=z.domReference.current)?void 0:e.focus()}))}),[z.domReference]),Q=(e=>e.flatMap((e=>e.options?[e,...e.options]:[e])))($i(F(v,S)));"operator"!==S&&v&&Q.push({value:v.trim(),label:v.trim(),isCustom:!0});const Y=((e,t,n)=>{var r,o,a,i;let s=182;const l=[],c=[];for(let t=0;t<e.length;t++){l.push(null),(null==(r=e[t])?void 0:r.options)&&c.push(t);let n=null!=(a=null!=(o=e[t].label)?o:e[t].value)?a:"",u=8;8*n.length<6*((null==(i=e[t].description)?void 0:i.length)||0)&&(n=e[t].description,u=6);const d=(e[t].isCustom?n.length+18:n.length)*u+16;d>s&&(s=d)}return t.current=[...l],n.current=[...c],s})(Q,I,j),X=(0,a.useCallback)((async n=>{var r;b(!1),g(!0),f([]);let o=[];try{"key"===n?o=await t._getKeys(null):"operator"===n?o=t._getOperators():"value"===n&&(o=await t._getValuesFor(e)),f(o),(null==(r=o[0])?void 0:r.group)&&E(1)}catch(e){b(!0)}g(!1)}),[e,t]),K=(0,da.Te)({count:Q.length,getScrollElement:()=>z.floating.current,estimateSize:e=>Q[e].description?60:38,overscan:5}),Z=(0,a.useCallback)(((e,n)=>{"Backspace"!==e.key||v||(n?A((e=>{const t=[...e];return t.splice(-1,1),t})):"key"===S&&(t._removeLastFilter(),X(S)))}),[v,S,t,X]),J=(0,a.useCallback)(((n,o)=>{var a;"Tab"!==n.key||n.shiftKey||(o&&(n.preventDefault(),L(t,e,O),null==(a=z.domReference.current)||a.focus()),null==r||r(),M())}),[e,O,r,L,M,t,z.domReference]),ee=(0,a.useCallback)(((n,o)=>{"Tab"===n.key&&n.shiftKey&&(o&&(n.preventDefault(),L(t,e,O,!0)),null==r||r(),M())}),[e,O,r,L,M,t]),te=(0,a.useCallback)(((n,o)=>{if("Enter"===n.key&&null!=w){if(!Q[w])return;const n=Q[w];o?N(n):(t._updateFilter(e,Aa({filterInputType:S,item:n,filter:e,setFilterMultiValues:A})),xa(S,C,r,z.domReference.current),E(0)),y("")}}),[w,e,S,Q,N,r,t,z.domReference]);(0,a.useEffect)((()=>{u&&X(S)}),[u,S]),(0,a.useEffect)((()=>{var t,r;if(!n){if(C("value"),y(""),k&&(null==(t=null==e?void 0:e.values)?void 0:t.length)){const t=e.values.reduce(((t,n,r)=>{var o;return[...t,{label:(null==(o=e.valueLabels)?void 0:o[r])||n,value:n}]}),[]);A(t)}null==(r=z.domReference.current)||r.focus()}}),[]),(0,a.useEffect)((()=>{P&&O&&setTimeout((()=>R({})))}),[O,P]),(0,a.useLayoutEffect)((()=>{var e,t;null!==w&&K.range&&(w>(null==(e=K.range)?void 0:e.endIndex)||w<(null==(t=K.range)?void 0:t.startIndex))&&K.scrollToIndex(w)}),[w,K]);const ne=null!=(i=null==e?void 0:e.keyLabel)?i:null==e?void 0:e.key;return s().createElement("div",{className:x.comboboxWrapper},e?s().createElement("div",{className:x.pillWrapper},(null==e?void 0:e.key)?s().createElement("div",{className:(0,sn.cx)(x.basePill,x.keyPill)},ne):null,(null==e?void 0:e.key)&&(null==e?void 0:e.operator)&&"operator"!==S?s().createElement("div",{id:T,className:(0,sn.cx)(x.basePill,x.operatorPill,T),role:"button","aria-label":"Edit filter operator",tabIndex:0,onClick:e=>{e.stopPropagation(),Oa("operator",C,void 0,z.domReference.current)},onKeyDown:e=>{ee(e,k),"Enter"===e.key&&Oa("operator",C,void 0,z.domReference.current)}},e.operator):null,s().createElement("div",{ref:_}),P?O.map(((e,t)=>s().createElement(Va,{key:`${e.value}-${t}`,item:e,index:t,handleRemoveMultiValue:W}))):null):null,s().createElement("input",Na(La({},H({ref:z.setReference,onChange:function(e){const t=e.target.value;y(t),E(0)},value:v,placeholder:Ra(e,S,P,n),"aria-autocomplete":"list",onKeyDown(e){u?("operator"===S&&ee(e),Z(e,P),J(e,P),te(e,P)):d(!0)}})),{className:(0,sn.cx)(x.inputStyle,{[x.loadingInputPadding]:!h}),onClick:e=>{e.stopPropagation(),d(!0)},onFocus:()=>{E(0),d(!0)}})),h?s().createElement(rn.Spinner,{className:x.loadingIndicator,inline:!0}):null,s().createElement(Ho,null,u&&s().createElement(Xo,{context:U,initialFocus:-1,visuallyHiddenDismiss:!0,modal:!1},s().createElement(s().Fragment,null,s().createElement("div",{style:Na(La({},$),{width:`${m?366:Y}px`,transform:P?`translate(${(null==(l=_.current)?void 0:l.getBoundingClientRect().left)||0}px, ${((null==(c=z.domReference.current)?void 0:c.getBoundingClientRect().bottom)||0)+10}px )`:$.transform}),ref:z.setFloating,className:x.dropdownWrapper,tabIndex:-1},s().createElement("div",Na(La({style:{height:`${K.getTotalSize()||38}px`}},q()),{tabIndex:-1}),h?s().createElement(ya,null):m?s().createElement(Ea,{handleFetchOptions:()=>X(S)}):Q.length||"operator"!==S&&v?K.getVirtualItems().map((n=>{var o;const a=Q[n.index],i=n.index;if(a.options)return s().createElement("div",{key:`${a.label}+${i}`,className:(0,sn.cx)(x.optionGroupLabel,x.groupTopBorder),style:{height:`${n.size}px`,transform:`translateY(${n.start}px)`}},s().createElement(rn.Text,{weight:"bold",variant:"bodySmall",color:"secondary"},a.label));const l=Q[n.index+1],c=l&&!l.group&&!l.options&&a.group;return s().createElement(ba,Na(La({},G({key:`${a.value}-${i}`,ref(e){I.current[i]=e},onClick(n){var o;"value"!==S&&n.stopPropagation(),P?(n.preventDefault(),n.stopPropagation(),N(a),null==(o=z.domReference.current)||o.focus()):(t._updateFilter(e,Aa({filterInputType:S,item:a,filter:e,setFilterMultiValues:A})),y(""),xa(S,C,r,z.domReference.current))}})),{active:w===i,addGroupBottomBorder:c,style:{height:`${n.size}px`,transform:`translateY(${n.start}px)`},"aria-setsize":Q.length,"aria-posinset":n.index+1,isMultiValueEdit:P,checked:O.some((e=>e.value===a.value))}),s().createElement("span",null,a.isCustom?"Use custom value: ":""," ",null!=(o=a.label)?o:a.value),a.description?s().createElement("div",{className:x.descriptionText},a.description):null)})):s().createElement(wa,null))),P&&!h&&!m&&Q.length?s().createElement(Sa,{onApply:()=>{L(t,e,O)},floatingElement:z.floating.current,maxOptionWidth:Y,menuHeight:Math.min(K.getTotalSize(),300)}):null))))})),Va=({item:e,handleRemoveMultiValue:t,index:n})=>{var r,o;const a=(0,rn.useStyles2)(za);return s().createElement("div",{className:(0,sn.cx)(a.basePill,a.valuePill)},s().createElement("span",null," ",null!=(r=e.label)?r:e.value),s().createElement(rn.Button,{onClick:n=>{n.stopPropagation(),n.preventDefault(),t(e)},onKeyDownCapture:n=>{"Enter"===n.key&&(n.preventDefault(),n.stopPropagation(),t(e))},fill:"text",size:"sm",variant:"secondary",className:a.removeButton,tooltip:`Remove filter value - ${null!=(o=e.label)?o:e.value}`},s().createElement(rn.Icon,{name:"times",size:"md",id:`${e.value}-${n}`})))},za=e=>({comboboxWrapper:(0,sn.css)({display:"flex",flexWrap:"wrap"}),pillWrapper:(0,sn.css)({display:"flex",alignItems:"center",flexWrap:"wrap"}),basePill:(0,sn.css)(Na(La({display:"flex",alignItems:"center",background:e.colors.action.disabledBackground,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,1,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75)},e.typography.bodySmall),{cursor:"pointer"})),keyPill:(0,sn.css)({fontWeight:e.typography.fontWeightBold,cursor:"default"}),operatorPill:(0,sn.css)({"&:hover":{background:e.colors.action.hover}}),valuePill:(0,sn.css)({background:e.colors.action.selected,padding:e.spacing(.125,0,.125,1)}),dropdownWrapper:(0,sn.css)({backgroundColor:e.colors.background.primary,color:e.colors.text.primary,boxShadow:e.shadows.z2,overflowY:"auto",zIndex:e.zIndex.dropdown}),inputStyle:(0,sn.css)({paddingBlock:0,"&:focus":{outline:"none"}}),loadingIndicator:(0,sn.css)({color:e.colors.text.secondary,marginLeft:e.spacing(.5)}),loadingInputPadding:(0,sn.css)({paddingRight:e.spacing(2.5)}),optionGroupLabel:(0,sn.css)({padding:e.spacing(1),position:"absolute",top:0,left:0,width:"100%"}),groupTopBorder:(0,sn.css)({"&:not(:first-child)":{borderTop:`1px solid ${e.colors.border.weak}`}}),removeButton:(0,sn.css)({marginInline:e.spacing(.5),height:"100%",padding:0,cursor:"pointer","&:hover":{color:e.colors.text.primary}}),descriptionText:(0,sn.css)(Na(La({},e.typography.bodySmall),{color:e.colors.text.secondary,paddingTop:e.spacing(.5)})),multiValueApply:(0,sn.css)({position:"absolute",top:0,left:0,display:"flex"})});var $a=Object.defineProperty,Ua=Object.defineProperties,Ha=Object.getOwnPropertyDescriptors,qa=Object.getOwnPropertySymbols,Ga=Object.prototype.hasOwnProperty,Wa=Object.prototype.propertyIsEnumerable,Qa=(e,t,n)=>t in e?$a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ya=(e,t)=>{for(var n in t||(t={}))Ga.call(t,n)&&Qa(e,n,t[n]);if(qa)for(var n of qa(t))Wa.call(t,n)&&Qa(e,n,t[n]);return e};function Xa({filter:e,model:t,readOnly:n,focusOnInputRef:r}){var o,i,l;const c=(0,rn.useStyles2)(Ka),[u,d]=(0,a.useState)(!0),[p,f]=(0,a.useState)(!1),h=(0,a.useRef)(null),g=null!=(o=e.keyLabel)?o:e.key,m=(null==(i=e.valueLabels)?void 0:i.join(", "))||(null==(l=e.values)?void 0:l.join(", "))||e.value,b=(0,a.useCallback)((e=>{null==e||e.stopPropagation(),n||(f(!u),d(!u))}),[n,u]);if((0,a.useEffect)((()=>{var e;p&&(null==(e=h.current)||e.focus(),f(!1))}),[p]),u){const o=s().createElement("span",{className:c.pillText},g," ",e.operator," ",m);return s().createElement("div",{className:(0,sn.cx)(c.combinedFilterPill,{[c.readOnlyCombinedFilter]:n}),onClick:b,onKeyDown:e=>{"Enter"===e.key&&b()},role:"button","aria-label":`Edit filter with key ${g}`,tabIndex:0,ref:h},m.length<20?o:s().createElement(rn.Tooltip,{content:s().createElement("div",{className:c.tooltipText},m),placement:"top"},o),n?null:s().createElement(rn.IconButton,{onClick:n=>{n.stopPropagation(),t._removeFilter(e),setTimeout((()=>null==r?void 0:r()))},onKeyDownCapture:n=>{"Enter"===n.key&&(n.preventDefault(),n.stopPropagation(),t._removeFilter(e),setTimeout((()=>null==r?void 0:r())))},name:"times",size:"md",className:c.removeButton,tooltip:`Remove filter with key ${g}`}))}return s().createElement(Ba,{filter:e,model:t,handleChangeViewMode:b})}const Ka=e=>{return{combinedFilterPill:(0,sn.css)((t=Ya({display:"flex",alignItems:"center",background:e.colors.action.selected,borderRadius:e.shape.radius.default,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,0,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75)},e.typography.bodySmall),n={fontWeight:e.typography.fontWeightBold,cursor:"pointer","&:hover":{background:e.colors.action.hover}},Ua(t,Ha(n)))),readOnlyCombinedFilter:(0,sn.css)({paddingRight:e.spacing(1),cursor:"text","&:hover":{background:e.colors.action.selected}}),removeButton:(0,sn.css)({marginInline:e.spacing(.5),cursor:"pointer","&:hover":{color:e.colors.text.primary}}),pillText:(0,sn.css)({maxWidth:"200px",width:"100%",textOverflow:"ellipsis",overflow:"hidden"}),tooltipText:(0,sn.css)({textAlign:"center"})};var t,n},Za=(0,a.forwardRef)((function({model:e},t){const{_wip:n}=e.useState();return(0,a.useLayoutEffect)((()=>{n||e._addWip()}),[n]),s().createElement(Ba,{model:e,filter:n,isAlwaysWip:!0,ref:t})})),Ja=(0,a.memo)((function({model:e}){const{filters:t,readOnly:n}=e.useState(),r=(0,rn.useStyles2)(ei),o=(0,a.useRef)();return s().createElement("div",{className:(0,sn.cx)(r.comboboxWrapper,{[r.comboboxFocusOutline]:!n}),onClick:()=>{var e;null==(e=o.current)||e.call(o)}},s().createElement(rn.Icon,{name:"filter",className:r.filterIcon,size:"lg"}),t.map(((t,r)=>s().createElement(Xa,{key:r,filter:t,model:e,readOnly:n,focusOnInputRef:o.current}))),n?null:s().createElement(Za,{model:e,ref:o}))})),ei=e=>({comboboxWrapper:(0,sn.css)({display:"flex",flexWrap:"wrap",alignItems:"center",columnGap:e.spacing(1),rowGap:e.spacing(.5),minHeight:e.spacing(4),backgroundColor:e.components.input.background,border:`1px solid ${e.colors.border.strong}`,borderRadius:e.shape.radius.default,paddingInline:e.spacing(1),paddingBlock:e.spacing(.5),flexGrow:1}),comboboxFocusOutline:(0,sn.css)({"&:focus-within":{outline:"2px dotted transparent",outlineOffset:"2px",boxShadow:`0 0 0 2px ${e.colors.background.canvas}, 0 0 0px 4px ${e.colors.primary.main}`,transitionTimingFunction:"cubic-bezier(0.19, 1, 0.22, 1)",transitionDuration:"0.2s",transitionProperty:"outline, outline-offset, box-shadow",zIndex:2}}),filterIcon:(0,sn.css)({color:e.colors.text.secondary,alignSelf:"center"})});var ti=Object.defineProperty,ni=Object.getOwnPropertySymbols,ri=Object.prototype.hasOwnProperty,oi=Object.prototype.propertyIsEnumerable,ai=(e,t,n)=>t in e?ti(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ii=(e,t)=>{for(var n in t||(t={}))ri.call(t,n)&&ai(e,n,t[n]);if(ni)for(var n of ni(t))oi.call(t,n)&&ai(e,n,t[n]);return e};const si=[{value:"=",description:"Equals"},{value:"!=",description:"Not equal"},{value:"=|",description:"One of. Use to filter on multiple values.",isMulti:!0},{value:"!=|",description:"Not one of. Use to exclude multiple values.",isMulti:!0},{value:"=~",description:"Matches regex"},{value:"!~",description:"Does not match regex"},{value:"<",description:"Less than"},{value:">",description:"Greater than"}];class li extends J{constructor(e){var t,n;super(ii({type:"adhoc",name:null!=(t=e.name)?t:"Filters",filters:[],datasource:null,applyMode:"auto",filterExpression:null!=(n=e.filterExpression)?n:ci(e.expressionBuilder,e.filters)},e)),this._scopedVars={__sceneObject:$n(this)},this._dataSourceSrv=(0,u.getDataSourceSrv)(),this._urlSync=new fr(this),"auto"===this.state.applyMode&&function(e){if(e.addActivationHandler((()=>(en.add(e),()=>en.delete(e)))),Jt)return;const t=(0,u.getTemplateSrv)();(null==t?void 0:t.getAdhocFilters)?(Jt=t.getAdhocFilters,t.getAdhocFilters=function(e){var n;if(0===en.size)return Jt.call(t);const r=(0,u.getDataSourceSrv)().getInstanceSettings(e);if(!r)return[];for(const e of en.values())if((null==(n=e.state.datasource)?void 0:n.uid)===r.uid)return e.state.filters;return[]}.bind(t)):console.log("Failed to patch getAdhocFilters")}(this)}setState(e){let t=!1;e.filters&&e.filters!==this.state.filters&&!e.filterExpression&&(e.filterExpression=ci(this.state.expressionBuilder,e.filters),t=e.filterExpression!==this.state.filterExpression),super.setState(e),t&&this.publishEvent(new Ve(this),!0)}getValue(){return this.state.filterExpression}_updateFilter(e,t){const{filters:n,_wip:r}=this.state;if(e===r)return void("value"in t&&""!==t.value?this.setState({filters:[...n,ii(ii({},r),t)],_wip:void 0}):this.setState({_wip:ii(ii({},e),t)}));const o=this.state.filters.map((n=>n===e?ii(ii({},n),t):n));this.setState({filters:o})}_removeFilter(e){e!==this.state._wip?this.setState({filters:this.state.filters.filter((t=>t!==e))}):this.setState({_wip:void 0})}_removeLastFilter(){const e=this.state.filters.at(-1);e&&this._removeFilter(e)}async _getKeys(e){var t,n,r;const o=await(null==(n=(t=this.state).getTagKeysProvider)?void 0:n.call(t,this,e));if(o&&o.replace)return Vi(o.values).map(di);if(this.state.defaultKeys)return this.state.defaultKeys.map(di);const a=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!a||!a.getTagKeys)return[];const i=this.state.filters.filter((t=>t.key!==e)).concat(null!=(r=this.state.baseFilters)?r:[]),s=vs.getTimeRange(this).state.value,l=this.state.useQueriesAsFilterForOptions?Fi(this):void 0,c=await a.getTagKeys(ii({filters:i,queries:l,timeRange:s},Nn(this)));zi(c)&&this.setState({error:c.error.message});let u=Vi(c);o&&(u=u.concat(Vi(o.values)));const d=this.state.tagKeyRegexFilter;return d&&(u=u.filter((e=>e.text.match(d)))),u.map(di)}async _getValuesFor(e){var t,n,r;const o=await(null==(n=(t=this.state).getTagValuesProvider)?void 0:n.call(t,this,e));if(o&&o.replace)return Vi(o.values).map(di);const a=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!a||!a.getTagValues)return[];const i=this.state.filters.filter((t=>t.key!==e.key)).concat(null!=(r=this.state.baseFilters)?r:[]),s=vs.getTimeRange(this).state.value,l=this.state.useQueriesAsFilterForOptions?Fi(this):void 0,c=await a.getTagValues(ii({key:e.key,filters:i,timeRange:s,queries:l},Nn(this)));zi(c)&&this.setState({error:c.error.message});let u=Vi(c);return o&&(u=u.concat(Vi(o.values))),u.map(di)}_addWip(){this.setState({_wip:{key:"",value:"",operator:"=",condition:""}})}_getOperators(){return(this.state.supportsMultiValueOperators?si:si.filter((e=>!e.isMulti))).map((({value:e,description:t})=>({label:e,value:e,description:t})))}}function ci(e,t){return(null!=e?e:Pi)(null!=t?t:[])}li.Component=function({model:e}){const{filters:t,readOnly:n,addFilterButtonText:r}=e.useState(),o=(0,rn.useStyles2)(ui);return"combobox"===e.state.layout?s().createElement(Ja,{model:e}):s().createElement("div",{className:o.wrapper},t.map(((t,n)=>s().createElement(s().Fragment,{key:n},s().createElement(ur,{filter:t,model:e})))),!n&&s().createElement(pr,{model:e,key:"'builder",addFilterButtonText:r}))};const ui=e=>({wrapper:(0,sn.css)({display:"flex",flexWrap:"wrap",alignItems:"flex-end",columnGap:e.spacing(2),rowGap:e.spacing(1)})});function di(e){const{text:t,value:n}=e,r={label:t,value:String(null!=n?n:t)};return"group"in e&&(r.group=e.group),r}function pi(e){return""!==e.key&&""!==e.operator&&""!==e.value}function fi(e){const t=si.find((t=>t.value===e));return!!t&&Boolean(t.isMulti)}class hi{constructor(){this._resultsMap=new Map,this._prevLayers=[]}getMergedStream(e){(function(e,t){if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1})(e,this._prevLayers)&&(this._resultsMap=new Map,this._prevLayers=e);const t=e.map((e=>e.getResultsStream())),n=[];for(const t of e)n.push(t.activate());return(0,A.merge)(t).pipe((0,A.mergeAll)(),(0,A.filter)((e=>this._resultsMap.get(e.origin.state.key)!==e)),(0,A.map)((e=>(this._resultsMap.set(e.origin.state.key,e),this._resultsMap.values()))),(0,A.finalize)((()=>{n.forEach((e=>e()))})))}}var gi=Object.defineProperty,mi=Object.defineProperties,bi=Object.getOwnPropertyDescriptors,vi=Object.getOwnPropertySymbols,yi=Object.prototype.hasOwnProperty,wi=Object.prototype.propertyIsEnumerable,Ei=(e,t,n)=>t in e?gi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Si=(e,t)=>{for(var n in t||(t={}))yi.call(t,n)&&Ei(e,n,t[n]);if(vi)for(var n of vi(t))wi.call(t,n)&&Ei(e,n,t[n]);return e},Ci=(e,t)=>mi(e,bi(t));let xi=100;function Oi(){return"SQR"+xi++}class Ai extends J{constructor(e){super(e),this._dataLayersMerger=new hi,this._variableValueRecorder=new It,this._results=new A.ReplaySubject(1),this._scopedVars={__sceneObject:$n(this)},this._variableDependency=new Ui(this,{statePaths:["queries","datasource"],onVariableUpdateCompleted:this.onVariableUpdatesCompleted.bind(this),onAnyVariableChanged:this.onAnyVariableChanged.bind(this)}),this.onDataReceived=e=>{const t=(0,c.preProcessPanelData)(e,this.state.data);this._resultAnnotations=e.annotations;const n=this._combineDataLayers(t);let r=this.state._hasFetchedData;r||t.state===be.Loading||(r=!0),this.setState({data:n,_hasFetchedData:r}),this._results.next({origin:this,data:n})},this.addActivationHandler((()=>this._onActivate()))}getResultsStream(){return this._results}_onActivate(){if(this.isQueryModeAuto()){const e=vs.getTimeRange(this),t=this.getClosestExtraQueryProviders();for(const e of t)this._subs.add(e.subscribeToState(((t,n)=>{e.shouldRerun(n,t,this.state.queries)&&this.runQueries()})));this.subscribeToTimeRangeChanges(e),this.shouldRunQueriesOnActivate()&&this.runQueries()}return this._dataLayersSub||this._handleDataLayers(),()=>this._onDeactivate()}_handleDataLayers(){const e=vs.getDataLayers(this);0!==e.length&&(this._dataLayersSub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayersReceived.bind(this)))}_onLayersReceived(e){var t,n,r,o,a;const i=vs.getTimeRange(this),{dataLayerFilter:s}=this.state;let l,u=[],d=[];for(const r of e)for(let e of r.data.series)(null==(t=e.meta)?void 0:t.dataTopic)===c.DataTopic.Annotations&&(u=u.concat(e)),(null==(n=e.meta)?void 0:n.dataTopic)===c.DataTopic.AlertStates&&(d=d.concat(e));if((null==s?void 0:s.panelId)&&(u.length>0&&(u=function(e,t){var n;if(!Array.isArray(e)||0===e.length)return e;const r=Array.from({length:e.length},(()=>new Set));let o=0;for(const a of e){for(let e=0;e<a.length;e++){if(r[o].has(e))continue;let i=!0;const s=a.fields.find((e=>"panelId"===e.name)),l=a.fields.find((e=>"source"===e.name));if(l){s&&"dashboard"===l.values[e].type&&(i=s.values[e]===t.panelId);const r=l.values[e].filter;if(r){const e=(null!=(n=r.ids)?n:[]).includes(t.panelId);r.exclude?e&&(i=!1):e||(i=!1)}}i&&r[o].add(e)}o++}const a=[];o=0;for(const t of e){const e=r[o].size,n=[];for(const e of t.fields){const a=[];for(let n=0;n<t.length;n++)r[o].has(n)&&a.push(e.values[n]);n.push(Kt(Xt({},e),{values:a}))}a.push(Kt(Xt({},t),{fields:n,length:e})),o++}return a}(u,s)),d.length>0))for(const e of d){const t=new c.DataFrameView(e);for(const e of t)if(e.panelId===s.panelId){l=e;break}}if(Ri(u)&&Ri(this._layerAnnotations)&&(0,fe.isEqual)(l,null==(r=this.state.data)?void 0:r.alertState))return;this._layerAnnotations=u;const p=this.state.data?this.state.data:Ci(Si({},xe),{timeRange:i.state.value});this.setState({data:Ci(Si({},p),{annotations:[...null!=(o=this._resultAnnotations)?o:[],...u],alertState:null!=l?l:null==(a=this.state.data)?void 0:a.alertState})})}onVariableUpdatesCompleted(){this.isQueryModeAuto()&&this.runQueries()}onAnyVariableChanged(e){this._adhocFiltersVar!==e&&this._groupByVar!==e&&this.isQueryModeAuto()&&(e instanceof li&&this._isRelevantAutoVariable(e)&&this.runQueries(),e instanceof Kn&&this._isRelevantAutoVariable(e)&&this.runQueries())}_isRelevantAutoVariable(e){var t,n;const r=null!=(t=this.state.datasource)?t:Di(this.state.queries);return"auto"===e.state.applyMode&&(null==r?void 0:r.uid)===(null==(n=e.state.datasource)?void 0:n.uid)}shouldRunQueriesOnActivate(){return this._variableValueRecorder.hasDependenciesChanged(this)?(Pt("SceneQueryRunner","Variable dependency changed while inactive, shouldRunQueriesOnActivate returns true"),!0):!this.state.data||!!this._isDataTimeRangeStale(this.state.data)}_isDataTimeRangeStale(e){const t=vs.getTimeRange(this).state.value,n=e.timeRange;return(t.from.unix()!==n.from.unix()||t.to.unix()!==n.to.unix())&&(Pt("SceneQueryRunner","Data time range is stale"),!0)}_onDeactivate(){var e;this._querySub&&(this._querySub.unsubscribe(),this._querySub=void 0),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),null==(e=this._timeSub)||e.unsubscribe(),this._timeSub=void 0,this._timeSubRange=void 0,this._adhocFiltersVar=void 0,this._groupByVar=void 0,this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this)}setContainerWidth(e){!this._containerWidth&&e>0?(this._containerWidth=e,this.state.maxDataPointsFromWidth&&!this.state.maxDataPoints&&setTimeout((()=>{this.isActive&&!this.state._hasFetchedData&&this.runQueries()}),0)):e>0&&(this._containerWidth=e)}isDataReadyToDisplay(){return Boolean(this.state._hasFetchedData)}subscribeToTimeRangeChanges(e){this._timeSubRange!==e&&(this._timeSub&&this._timeSub.unsubscribe(),this._timeSubRange=e,this._timeSub=e.subscribeToState((()=>{this.runWithTimeRange(e)})))}runQueries(){const e=vs.getTimeRange(this);this.isQueryModeAuto()&&this.subscribeToTimeRangeChanges(e),this.runWithTimeRange(e)}getMaxDataPoints(){var e;return this.state.maxDataPoints?this.state.maxDataPoints:this.state.maxDataPointsFromWidth&&null!=(e=this._containerWidth)?e:500}cancelQuery(){var e;null==(e=this._querySub)||e.unsubscribe(),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),this.setState({data:Ci(Si({},this.state.data),{state:be.Done})})}async runWithTimeRange(e){var t,n,r;if(!this.state.maxDataPoints&&this.state.maxDataPointsFromWidth&&!this._containerWidth)return;if(this._dataLayersSub||this._handleDataLayers(),null==(t=this._querySub)||t.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())return Pt("SceneQueryRunner","Variable dependency is in loading state, skipping query execution"),void this.setState({data:Ci(Si({},null!=(n=this.state.data)?n:xe),{state:be.Loading})});const{queries:o}=this.state;if(null==o?void 0:o.length)try{const t=null!=(r=this.state.datasource)?r:Di(o),n=await Tt(t,this._scopedVars);this.findAndSubscribeToAdHocFilters(null==t?void 0:t.uid);const a=(0,u.getRunRequest)(),{primary:i,secondaries:s,processors:l}=this.prepareRequests(e,n);Pt("SceneQueryRunner","Starting runRequest",this.state.key);let c=a(n,i);if(s.length>0){const e=s.map((e=>a(n,e))),t=(e=>t=>t.pipe((0,A.mergeMap)((([t,...n])=>{const r=n.flatMap((n=>{var r,o;return null!=(o=null==(r=e.get(n.request.requestId))?void 0:r(t,n))?o:(0,A.of)(n)}));return(0,A.forkJoin)([(0,A.of)(t),...r])})),(0,A.map)((([e,...t])=>{var n,r,o;return r=((e,t)=>{for(var n in t||(t={}))Bt.call(t,n)&&zt(e,n,t[n]);if(Nt)for(var n of Nt(t))Vt.call(t,n)&&zt(e,n,t[n]);return e})({},e),o={series:[...e.series,...t.flatMap((e=>e.series))],annotations:[...null!=(n=e.annotations)?n:[],...t.flatMap((e=>{var t;return null!=(t=e.annotations)?t:[]}))]},Mt(r,Lt(o))}))))(l);c=(0,A.forkJoin)([c,...e]).pipe(t)}c=c.pipe(tn({type:"data",request:i,origin:this,cancel:()=>this.cancelQuery()})),this._querySub=c.subscribe(this.onDataReceived)}catch(e){console.error("PanelQueryRunner Error",e),this.onDataReceived(Ci(Si(Si({},xe),this.state.data),{state:be.Error,errors:[(0,u.toDataQueryError)(e)]}))}else this._setNoDataState()}clone(e){var t;const n=super.clone(e);return this._resultAnnotations&&(n._resultAnnotations=this._resultAnnotations.map((e=>Si({},e)))),this._layerAnnotations&&(n._layerAnnotations=this._layerAnnotations.map((e=>Si({},e)))),n._variableValueRecorder=this._variableValueRecorder.cloneAndRecordCurrentValuesForSceneObject(this),n._containerWidth=this._containerWidth,n._results.next({origin:this,data:null!=(t=this.state.data)?t:xe}),n}prepareRequests(e,t){var n;const{minInterval:r,queries:o}=this.state;let a=Si({app:"scenes",requestId:Oi(),timezone:e.getTimeZone(),range:e.state.value,interval:"1s",intervalMs:1e3,targets:(0,fe.cloneDeep)(o),maxDataPoints:this.getMaxDataPoints(),scopedVars:this._scopedVars,startTime:Date.now(),liveStreaming:this.state.liveStreaming,rangeRaw:{from:e.state.from,to:e.state.to},cacheTimeout:this.state.cacheTimeout,queryCachingTTL:this.state.queryCachingTTL},Zt(this));this._adhocFiltersVar&&(a.filters=this._adhocFiltersVar.state.filters.filter(pi)),this._groupByVar&&(a.groupByKeys=this._groupByVar.state.value),a.targets=a.targets.map((e=>{var n;return e.datasource&&(e.datasource.uid===t.uid||(null==(n=t.meta)?void 0:n.mixed)||!u.isExpressionReference||(0,u.isExpressionReference)(e.datasource))||(e.datasource=t.getRef()),e}));const i=r?hs(this,r):t.interval,s=c.rangeUtil.calculateInterval(e.state.value,a.maxDataPoints,i);a.scopedVars=Object.assign({},a.scopedVars,{__interval:{text:s.interval,value:s.interval},__interval_ms:{text:s.intervalMs.toString(),value:s.intervalMs}}),a.interval=s.interval,a.intervalMs=s.intervalMs;const l=e.state.value;let d=[],p=new Map;for(const e of null!=(n=this.getClosestExtraQueryProviders())?n:[])for(const{req:t,processor:n}of e.getExtraQueries(a)){const e=Oi();d.push(Ci(Si({},t),{requestId:e})),p.set(e,null!=n?n:$t)}return a.range=l,{primary:a,secondaries:d,processors:p}}_combineDataLayers(e){return this._layerAnnotations&&this._layerAnnotations.length>0&&(e.annotations=(e.annotations||[]).concat(this._layerAnnotations)),this.state.data&&this.state.data.alertState&&(e.alertState=this.state.data.alertState),e}_setNoDataState(){this.state.data!==xe&&this.setState({data:xe})}getClosestExtraQueryProviders(){const e=new Map;return this.parent?(ce(this.parent,(t=>(jt(t)&&!e.has(t.constructor)&&e.set(t.constructor,t),t.forEachChild((t=>{jt(t)&&!e.has(t.constructor)&&e.set(t.constructor,t)})),null))),Array.from(e.values())):[]}findAndSubscribeToAdHocFilters(e){const t=function(e){var t;for(const n of en.values())if((null==(t=n.state.datasource)?void 0:t.uid)===e)return n}(e);this._adhocFiltersVar!==t&&(this._adhocFiltersVar=t,this._updateExplicitVariableDependencies());const n=function(e){var t;for(const n of nn.values())if((null==(t=n.state.datasource)?void 0:t.uid)===e)return n}(e);this._groupByVar!==n&&(this._groupByVar=n,this._updateExplicitVariableDependencies())}_updateExplicitVariableDependencies(){const e=[];this._adhocFiltersVar&&e.push(this._adhocFiltersVar.state.name),this._groupByVar&&e.push(this._groupByVar.state.name),this._variableDependency.setVariableNames(e)}isQueryModeAuto(){var e;return"auto"===(null!=(e=this.state.runQueriesMode)?e:"auto")}}function Di(e){var t,n;return null!=(n=null==(t=e.find((e=>null!==e.datasource)))?void 0:t.datasource)?n:void 0}function Ri(e){if(!e)return!0;for(let t=0;t<e.length;t++)if(e[t].length>0)return!1;return!0}function _i(e,t){return e===t||(0,fe.isEqual)(e,t)}function ki(e){try{return JSON.stringify(e,(()=>{const e=new WeakSet;return(t,n)=>{if("object"==typeof n&&null!==n){if(e.has(n))return;e.add(n)}return n}})())}catch(e){console.error(e)}return""}function Pi(e){return e.map((e=>function(e){var t,n;let r="",o=e.operator;return"=|"===o?(o="=~",r=null==(t=e.values)?void 0:t.map(Ii).join("|")):"!=|"===o?(o="!~",r=null==(n=e.values)?void 0:n.map(Ii).join("|")):r="=~"===o||"!~"===o?Ii(e.value):Ti(e.value),`${e.key}${o}"${r}"`}(e))).join(",")}function Ti(e){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/"/g,'\\"')}function Ii(e){return Ti(e.replace(ji,"\\$&"))}const ji=/[*+?()|\\.\[\]{}^$]/g;function Fi(e){const t=function(e){const t={};for(const n of e)n.state.key&&(n.state.key in t||(t[n.state.key]=[]),t[n.state.key].push(n));return Object.values(t).flatMap((e=>{const t=e.filter((e=>e.isActive));return 0===t.length&&1===e.length?e:t}))}(vs.findAllObjects(e.getRoot(),(e=>e instanceof Ai))).filter((t=>{var n,r;return(null==(n=t.state.datasource)?void 0:n.uid)===(null==(r=e.state.datasource)?void 0:r.uid)}));if(0===t.length)return[];const n=[];return t.forEach((e=>{n.push(...e.state.queries)})),n}function Mi(e){return null==e?"":/\|/g[Symbol.replace](e,"__gfp__")}function Li(e){return null==e?"":/,/g[Symbol.replace](e,"__gfc__")}function Ni(e){return null==e?"":(e=/__gfp__/g[Symbol.replace](e,"|"),e=/__gfc__/g[Symbol.replace](e,","))}function Bi(e,t){return t&&e!==t?[e,t].map(Li).join(","):Li(e)}function Vi(e){return Array.isArray(e)?e:e.data}function zi(e){return!Array.isArray(e)&&Boolean(e.error)}function $i(e){const t=[],n=new Map;for(const r of e){const e=r.group;if(e){let o=n.get(e);o||(o=[],n.set(e,o),t.push({label:e,options:o})),o.push(r)}else t.push(r)}return t}class Ui{constructor(e,t){this._sceneObject=e,this._options=t,this._dependencies=new Set,this._isWaitingForVariables=!1,this.scanCount=0,this._statePaths=t.statePaths}hasDependencyOn(e){return this.getNames().has(e)}variableUpdateCompleted(e,t){const n=this.getNames();let r=!1;(n.has(e.state.name)||n.has(c.DataLinkBuiltInVars.includeVars))&&t&&(r=!0),Pt("VariableDependencyConfig","variableUpdateCompleted",e.state.name,r,this._isWaitingForVariables),this._options.onAnyVariableChanged&&this._options.onAnyVariableChanged(e),this._options.onVariableUpdateCompleted&&(this._isWaitingForVariables||r)&&this._options.onVariableUpdateCompleted(),r&&(this._options.onReferencedVariableValueChanged&&this._options.onReferencedVariableValueChanged(e),this._options.onReferencedVariableValueChanged||this._options.onVariableUpdateCompleted||this._sceneObject.forceRender())}hasDependencyInLoadingState(){return vs.hasVariableDependencyInLoadingState(this._sceneObject)?(this._isWaitingForVariables=!0,!0):(this._isWaitingForVariables=!1,!1)}getNames(){const e=this._state,t=this._state=this._sceneObject.state;if(!e)return this.scanStateForDependencies(this._state),this._dependencies;if(t!==e)if(this._statePaths){for(const n of this._statePaths)if("*"===n||t[n]!==e[n]){this.scanStateForDependencies(t);break}}else this.scanStateForDependencies(t);return this._dependencies}setVariableNames(e){this._options.variableNames=e,this.scanStateForDependencies(this._state)}setPaths(e){this._statePaths=e}scanStateForDependencies(e){if(this._dependencies.clear(),this.scanCount+=1,this._options.variableNames)for(const e of this._options.variableNames)this._dependencies.add(e);if(this._statePaths)for(const t of this._statePaths){if("*"===t){this.extractVariablesFrom(e);break}{const n=e[t];n&&this.extractVariablesFrom(n)}}}extractVariablesFrom(e){rt.lastIndex=0;const t=("string"!=typeof e?ki(e):e).matchAll(rt);if(t)for(const e of t){const[,t,n,,r]=e,o=t||n||r;this._dependencies.add(o)}}}const Hi=e=>Boolean(e.metricFindQuery)&&!Boolean(e.variables),qi=e=>{if(!e.variables)return!1;if(e.variables.getType()!==c.VariableSupportType.Standard)return!1;const t=e.variables;return"toDataQuery"in t&&Boolean(t.toDataQuery)},Gi=e=>{if(!e.variables)return!1;if(e.variables.getType()!==c.VariableSupportType.Custom)return!1;const t=e.variables;return"query"in t&&"editor"in t&&Boolean(t.query)&&Boolean(t.editor)};var Wi=Object.defineProperty,Qi=Object.defineProperties,Yi=Object.getOwnPropertyDescriptors,Xi=Object.getOwnPropertySymbols,Ki=Object.prototype.hasOwnProperty,Zi=Object.prototype.propertyIsEnumerable,Ji=(e,t,n)=>t in e?Wi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,es=(e,t)=>{for(var n in t||(t={}))Ki.call(t,n)&&Ji(e,n,t[n]);if(Xi)for(var n of Xi(t))Zi.call(t,n)&&Ji(e,n,t[n]);return e},ts=(e,t)=>Qi(e,Yi(t));class ns{constructor(e,t=(0,u.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(qi(this.datasource))return this.datasource.variables.toDataQuery(function(e){var t;const n=null!=(t=e.state.query)?t:"";return"string"==typeof n?{query:n,refId:`variable-${e.state.name}`}:null==n.refId?ts(es({},n),{refId:`variable-${e.state.name}`}):e.state.query}(e));throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return qi(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):as()}}class rs{constructor(e){this.datasource=e}getTarget(e){if(Hi(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest({variable:e,searchFilter:t},n){return Hi(this.datasource)?(0,A.from)(this.datasource.metricFindQuery(e.state.query,ts(es({},n),{variable:{name:e.state.name,type:e.state.type},searchFilter:t}))).pipe((0,A.mergeMap)((e=>{if(!e||!e.length)return as();const t=e;return(0,A.of)({series:t,state:c.LoadingState.Done,timeRange:n.range})}))):as()}}class os{constructor(e,t=(0,u.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(Gi(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return Gi(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):as()}}function as(){return(0,A.of)({state:c.LoadingState.Done,series:[],timeRange:(0,c.getDefaultTimeRange)()})}const is=(e,t)=>{const n=[];let r=null;t.lastIndex=0;do{r=t.exec(e),r&&n.push(r)}while(t.global&&r&&""!==r[0]&&void 0!==r[0]);return n};var ss=Object.defineProperty,ls=Object.getOwnPropertySymbols,cs=Object.prototype.hasOwnProperty,us=Object.prototype.propertyIsEnumerable,ds=(e,t,n)=>t in e?ss(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class ps extends ct{constructor(e){super(((e,t)=>{for(var n in t||(t={}))cs.call(t,n)&&ds(e,n,t[n]);if(ls)for(var n of ls(t))us.call(t,n)&&ds(e,n,t[n]);return e})({type:"query",name:"",value:"",text:"",options:[],datasource:null,regex:"",query:"",refresh:c.VariableRefresh.onDashboardLoad,sort:c.VariableSort.disabled},e)),this._variableDependency=new Ui(this,{statePaths:["regex","query","datasource"]}),this.onSearchChange=e=>{ki(this.state.query).indexOf("__searchFilter")>-1&&this._updateOptionsBasedOnSearchFilter(e)},this._updateOptionsBasedOnSearchFilter=(0,fe.debounce)((async e=>{const t=await(0,A.lastValueFrom)(this.getValueOptions({searchFilter:e}));this.setState({options:t,loading:!1})}),400)}getValueOptions(e){return this.state.query?(this.setState({loading:!0,error:null}),(0,A.from)(Tt(this.state.datasource,{__sceneObject:$n(this)})).pipe((0,A.mergeMap)((t=>{const n=function(e){if(qi(e))return new ns(e,(0,u.getRunRequest)());if(Hi(e))return new rs(e);if(Gi(e))return new os(e);throw new Error(`Couldn't create a query runner for datasource ${e.type}`)}(t),r=n.getTarget(this),o=this.getRequest(r,e.searchFilter);return n.runRequest({variable:this,searchFilter:e.searchFilter},o).pipe(tn({type:"variable",request:o,origin:this}),(0,A.filter)((e=>e.state===c.LoadingState.Done||e.state===c.LoadingState.Error)),(0,A.take)(1),(0,A.mergeMap)((e=>e.state===c.LoadingState.Error?(0,A.throwError)((()=>e.error)):(0,A.of)(e))),(e=>e.pipe((0,A.map)((e=>{const t=e.series;if(!t||!t.length)return[];if(function(e){if(!e)return!1;if(!e.length)return!0;const t=e[0];if((0,c.isDataFrame)(t))return!1;for(const e in t){if(!t.hasOwnProperty(e))continue;if(null!==t[e]&&"string"!=typeof t[e]&&"number"!=typeof t[e])continue;const n=e.toLowerCase();if("text"===n||"value"===n)return!0}return!1}(t))return t;if(0===t[0].fields.length)return[];const n=(0,c.getProcessedDataFrames)(t),r=[];let o=-1,a=-1,i=-1,s=-1;for(const e of n)for(let n=0;n<e.fields.length;n++){const r=e.fields[n],l=(0,c.getFieldDisplayName)(r,e,t).toLowerCase();r.type===c.FieldType.string&&-1===i&&(i=n),"text"===l&&r.type===c.FieldType.string&&-1===a&&(a=n),"value"===l&&r.type===c.FieldType.string&&-1===o&&(o=n),"expandable"!==l||r.type!==c.FieldType.boolean&&r.type!==c.FieldType.number||-1!==s||(s=n)}if(-1===i)throw new Error("Couldn't find any field of type string in the results.");for(const e of t)for(let t=0;t<e.length;t++){const n=-1!==s?e.fields[s].values.get(t):void 0,l=e.fields[i].values.get(t),c=-1!==a?e.fields[a].values.get(t):null,u=-1!==o?e.fields[o].values.get(t):null;-1!==o||-1!==a?-1!==o||-1===a?-1===o||-1!==a?r.push({text:c,value:u,expandable:n}):r.push({text:u,value:u,expandable:n}):r.push({text:c,value:c,expandable:n}):r.push({text:l,value:l,expandable:n})}return r})))),(0,A.mergeMap)((e=>{let t="";return this.state.regex&&(t=vs.interpolate(this,this.state.regex,void 0,"regex")),(0,A.of)(((e,t,n)=>{var r,o,a,i,s,l;let u,d=[];e&&(u=(0,c.stringToJsRegex)(e));for(let e=0;e<n.length;e++){const t=n[e];let c=void 0===t.text||null===t.text?t.value:t.text,p=void 0===t.value||null===t.value?t.text:t.value;if((0,fe.isNumber)(p)&&(p=p.toString()),(0,fe.isNumber)(c)&&(c=c.toString()),u){const e=is(p,u);if(!e.length)continue;const t=e.find((e=>e.groups&&e.groups.value)),n=e.find((e=>e.groups&&e.groups.text)),f=e.find((e=>e.length>1)),h=e.length>1&&f;if(t||n)p=null!=(a=null==(r=null==t?void 0:t.groups)?void 0:r.value)?a:null==(o=null==n?void 0:n.groups)?void 0:o.text,c=null!=(l=null==(i=null==n?void 0:n.groups)?void 0:i.text)?l:null==(s=null==t?void 0:t.groups)?void 0:s.value;else{if(h){for(let t=0;t<e.length;t++){const n=e[t];d.push({label:n[1],value:n[1]})}continue}f&&(c=f[1],p=f[1])}}d.push({label:c,value:p})}return d=(0,fe.uniqBy)(d,"value"),((e,t)=>{if(t===c.VariableSort.disabled)return e;const n=e=>{if(!e.text)return-1;const t=e.text.match(/.*?(\d+).*/);return!t||t.length<2?-1:parseInt(t[1],10)},r=e=>e.sort(((e,t)=>e.text?t.text?e.text.localeCompare(t.text,void 0,{numeric:!0}):1:-1));switch(t){case c.VariableSort.alphabeticalAsc:e=(0,fe.sortBy)(e,"label");break;case c.VariableSort.alphabeticalDesc:e=(0,fe.sortBy)(e,"label").reverse();break;case c.VariableSort.numericalAsc:e=(0,fe.sortBy)(e,n);break;case c.VariableSort.numericalDesc:e=(e=(0,fe.sortBy)(e,n)).reverse();break;case c.VariableSort.alphabeticalCaseInsensitiveAsc:e=(0,fe.sortBy)(e,(e=>(0,fe.toLower)(e.label)));break;case c.VariableSort.alphabeticalCaseInsensitiveDesc:e=(e=(0,fe.sortBy)(e,(e=>(0,fe.toLower)(e.label)))).reverse();break;case c.VariableSort.naturalAsc||7:e=r(e);break;case c.VariableSort.naturalDesc||8:e=(e=r(e)).reverse()}return e})(d,t)})(t,this.state.sort,e))})),(0,A.catchError)((e=>e.cancelled?(0,A.of)([]):(0,A.throwError)((()=>e)))))})))):(0,A.of)([])}getRequest(e,t){const n={__sceneObject:$n(this)};t&&(n.__searchFilter={value:t,text:t});const r=vs.getTimeRange(this).state.value;return{app:c.CoreApp.Dashboard,requestId:T(),timezone:"",range:r,interval:"",intervalMs:0,targets:[e],scopedVars:n,startTime:Date.now()}}}function fs(e){var t;return null!=(t=ce(e,(e=>e.state.$data)))?t:Me}function hs(e,t,n,r,o){return""===t||null==t?"":Ct(e,t,n,r,o)}function gs(e,t,n,r){if(t(e))return e;let o=null;return e.forEachChild((e=>{if(e===n)return;let r=gs(e,t);r&&(o=r)})),o||(r&&e.parent?gs(e.parent,t,e,!0):null)}function ms(e,t){return gs(e,t,void 0,!0)}function bs(e,t){const n=[];return e.forEachChild((e=>{t(e)&&n.push(e),n.push(...bs(e,t))})),n}ps.Component=({model:e})=>Mn(e);const vs={getVariables:function(e){var t;return null!=(t=ce(e,(e=>e.state.$variables)))?t:Ne},getData:fs,getTimeRange:Be,getLayout:function(e){return ce(e,(e=>function(e){return"isDraggable"in e}(e)?e:void 0))||null},getDataLayers:function(e,t=!1){let n=e,r=[];for(;n;){const e=n.state.$data;if(e){if(Dt(e)?r=r.concat(e):e.state.$data&&Dt(e.state.$data)&&(r=r.concat(e.state.$data)),t&&r.length>0)break;n=n.parent}else n=n.parent}return r},interpolate:hs,lookupVariable:he,hasVariableDependencyInLoadingState:function(e){if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){if(e instanceof ps&&e.state.name===t){console.warn("Query variable is referencing itself");continue}const n=he(t,e);if(n&&n.parent.isVariableLoadingOrWaitingToUpdate(n))return!0}return!1},findByKey:function(e,t){const n=ms(e,(e=>e.state.key===t));if(!n)throw new Error("Unable to find scene with key "+t);return n},findByKeyAndType:function(e,t,n){const r=ms(e,(e=>e.state.key===t));if(!r)throw new Error("Unable to find scene with key "+t);if(!(r instanceof n))throw new Error(`Found scene object with key ${t} does not match type ${n.name}`);return r},findObject:ms,findAllObjects:bs,getAncestor:function(e,t){let n=e;for(;n;){if(n instanceof t)return n;n=n.parent}if(!n)throw new Error("Unable to find parent of type "+t.name);return n},findDescendents:function(e,t){function n(e){return e instanceof t}return bs(e,n).filter(n)},getQueryController:function(e){let t=e;for(;t;){if(t.state.$behaviors)for(const e of t.state.$behaviors)if("isQueryController"in e)return e;t=t.parent}},getUrlSyncManager:function(e){let t=e;for(;t;){if("urlSyncManager"in t.state)return t.state.urlSyncManager;t=t.parent}}};class ys{constructor(){this.index=new Map}getUniqueKey(e,t){const n=this.index.get(e);if(!n)return this.index.set(e,[t]),e;let r=n.findIndex((e=>e===t));return-1===r&&(function(e){for(const t of e)if(ws(t)){const n=e.indexOf(t);e.splice(n,1)}}(n),n.push(t),r=n.length-1),r>0?`${e}-${r+1}`:e}clear(){this.index.clear()}}function ws(e){const t=e.getRoot();return!vs.findObject(t,(t=>t===e))}function Es(e){const t=new ys,n={},r=e=>{if(e.urlSync){const r=e.urlSync.getUrlState();for(const[o,a]of Object.entries(r))if(null!=a){const r=t.getUniqueKey(o,e);n[r]=a}}e.forEachChild(r)};return r(e),n}function Ss(e,t,n,r){r||Cs(e,t,n),e.forEachChild((e=>{Cs(e,t,n)})),e.forEachChild((e=>Ss(e,t,n,!0)))}function Cs(e,t,n){if(e.urlSync){const r={},o=e.urlSync.getUrlState();for(const a of e.urlSync.getKeys()){const i=n.getUniqueKey(a,e),s=t.getAll(i),l=o[a];xs(s,l)||(s.length>0?Array.isArray(l)?r[a]=s:r[a]=s[0]:r[a]=null)}Object.keys(r).length>0&&e.urlSync.updateFromUrl(r)}}function xs(e,t){return 0===e.length&&null==t||(Array.isArray(t)||1!==(null==e?void 0:e.length)?0===(null==t?void 0:t.length)&&null===e||(0,fe.isEqual)(e,t):t===e[0])}class Os extends J{constructor(){super(...arguments),this._runningEffect=null,this._variableDependency=new Ui(this,{variableNames:[this.state.variableName],onReferencedVariableValueChanged:this._onVariableChanged.bind(this)})}_onVariableChanged(e){const t=this.state.onChange;this._runningEffect&&(this._runningEffect(),this._runningEffect=null);const n=t(e,this);n&&(this._runningEffect=n)}}var As=(e=>(e[e.never=0]="never",e[e.onDashboardLoad=1]="onDashboardLoad",e[e.onTimeRangeChanged=2]="onTimeRangeChanged",e))(As||{}),Ds=(e=>(e[e.Crosshair=1]="Crosshair",e[e.Off=0]="Off",e[e.Tooltip=2]="Tooltip",e))(Ds||{}),Rs=Object.defineProperty,_s=Object.defineProperties,ks=Object.getOwnPropertyDescriptors,Ps=Object.getOwnPropertySymbols,Ts=Object.prototype.hasOwnProperty,Is=Object.prototype.propertyIsEnumerable,js=(e,t,n)=>t in e?Rs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Fs extends J{constructor(e){var t,n;super((t=((e,t)=>{for(var n in t||(t={}))Ts.call(t,n)&&js(e,n,t[n]);if(Ps)for(var n of Ps(t))Is.call(t,n)&&js(e,n,t[n]);return e})({},e),n={sync:e.sync||Ds.Off},_s(t,ks(n)))),this.getEventsBus=e=>{if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return new Ms(this.parent,e)}}getEventsScope(){if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return this.state.key}}class Ms{constructor(e,t){this._source=e,this._eventsOrigin=t}publish(e){e.origin=this,this._eventsOrigin.publishEvent(e,!0)}getStream(e){return new A.Observable((t=>{const n=this._source.subscribeToEvent(e,(e=>{t.next(e)}));return()=>n.unsubscribe()}))}subscribe(e,t){return this.getStream(e).pipe().subscribe(t)}removeAllListeners(){}newScopedBus(e,t){throw new Error("For internal use only")}}var Ls=function(){},Ns="undefined"!=typeof window;const Bs=Ns?a.useLayoutEffect:a.useEffect;var Vs={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const zs=Ns&&void 0!==window.ResizeObserver?function(){var e=(0,a.useState)(null),t=e[0],n=e[1],r=(0,a.useState)(Vs),o=r[0],i=r[1],s=(0,a.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,n=t.x,r=t.y,o=t.width,a=t.height,s=t.top,l=t.left,c=t.bottom,u=t.right;i({x:n,y:r,width:o,height:a,top:s,left:l,bottom:c,right:u})}}))}),[]);return Bs((function(){if(t)return s.observe(t),function(){s.disconnect()}}),[t]),[n,o]}:function(){return[Ls,Vs]};function $s(e,t){if(t)return t;let n=e.error?e.error.message:void 0;return e.errors&&(n=e.errors.map((e=>e.message)).join(", ")),n}const Us=(0,sn.css)({position:"relative",width:"100%",height:"100%"}),Hs=(0,sn.css)({position:"absolute",width:"100%",height:"100%"}),qs=e=>({ok:(0,sn.css)({color:e.colors.success.text}),pending:(0,sn.css)({color:e.colors.warning.text}),alerting:(0,sn.css)({color:e.colors.error.text})});var Gs=Object.defineProperty,Ws=Object.defineProperties,Qs=Object.getOwnPropertyDescriptors,Ys=Object.getOwnPropertySymbols,Xs=Object.prototype.hasOwnProperty,Ks=Object.prototype.propertyIsEnumerable,Zs=(e,t,n)=>t in e?Gs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Js=(e,t)=>{for(var n in t||(t={}))Xs.call(t,n)&&Zs(e,n,t[n]);if(Ys)for(var n of Ys(t))Ks.call(t,n)&&Zs(e,n,t[n]);return e},el=(e,t)=>Ws(e,Qs(t));const tl="hideSeriesFrom",nl=(0,c.isSystemOverrideWithRef)(tl);function rl(e,t=c.ByNamesMatcherMode.exclude,n){return n=null!=n?n:{id:"custom.hideFrom",value:{viz:!0,legend:!1,tooltip:!1}},{__systemRef:tl,matcher:{id:c.FieldMatcherID.byNames,options:{mode:t,names:e,prefix:t===c.ByNamesMatcherMode.exclude?"All except:":void 0,readOnly:!0}},properties:[el(Js({},n),{value:{viz:!0,legend:!1,tooltip:!1}})]}}const ol=e=>{var t;const n=null==(t=e.matcher.options)?void 0:t.names;return Array.isArray(n)?[...n]:[]},al=(e,t)=>{const n=new Set;for(const r of e)for(const o of r.fields){if(o.type!==c.FieldType.number)continue;const a=(0,c.getFieldDisplayName)(o,r,e);a!==t&&n.add(a)}return Array.from(n)},il=(e,t)=>{var n;let r=[];for(const o of e){const e=o.properties.find((e=>"custom.hideFrom"===e.id));if(void 0!==e&&!0===(null==(n=e.value)?void 0:n.legend)){const e=c.fieldMatchers.get(o.matcher.id).get(o.matcher.options);for(const n of t)for(const o of n.fields){if(o.type!==c.FieldType.number)continue;const a=(0,c.getFieldDisplayName)(o,n,t);e(o,n,t)&&r.push(a)}}}return r};var sl=Object.defineProperty,ll=Object.defineProperties,cl=Object.getOwnPropertyDescriptors,ul=Object.getOwnPropertySymbols,dl=Object.prototype.hasOwnProperty,pl=Object.prototype.propertyIsEnumerable,fl=(e,t,n)=>t in e?sl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hl=(e,t)=>{for(var n in t||(t={}))dl.call(t,n)&&fl(e,n,t[n]);if(ul)for(var n of ul(t))pl.call(t,n)&&fl(e,n,t[n]);return e},gl=(e,t)=>ll(e,cl(t));const ml=(e,t)=>({matcher:{id:c.FieldMatcherID.byName,options:e},properties:[bl(t)]}),bl=e=>({id:"color",value:{mode:c.FieldColorModeId.Fixed,fixedColor:e}});var vl=Object.defineProperty,yl=Object.defineProperties,wl=Object.getOwnPropertyDescriptors,El=Object.getOwnPropertySymbols,Sl=Object.prototype.hasOwnProperty,Cl=Object.prototype.propertyIsEnumerable,xl=(e,t,n)=>t in e?vl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ol=(e,t)=>{for(var n in t||(t={}))Sl.call(t,n)&&xl(e,n,t[n]);if(El)for(var n of El(t))Cl.call(t,n)&&xl(e,n,t[n]);return e},Al=(e,t)=>yl(e,wl(t));class Dl extends J{constructor(e){var t;super(Ol({options:{},fieldConfig:{defaults:{},overrides:[]},title:"Title",pluginId:"timeseries",_renderCounter:0},e)),this._variableDependency=new Ui(this,{statePaths:["title","options","fieldConfig"]}),this._structureRev=0,this.onTimeRangeChange=e=>{vs.getTimeRange(this).onTimeRangeChange({raw:{from:(0,c.toUtc)(e.from),to:(0,c.toUtc)(e.to)},from:(0,c.toUtc)(e.from),to:(0,c.toUtc)(e.to)})},this.getTimeRange=e=>{const t=vs.findObject(this,(e=>e instanceof _l)),n=vs.getTimeRange(this);if(t instanceof _l&&t.isEnabled)return Re(n.state.from,n.state.to,n.getTimeZone(),n.state.fiscalYearStartMonth,n.state.UNSAFE_nowDelay);const r=this.getPlugin();return r&&!r.meta.skipDataQuery&&e&&e.timeRange?e.timeRange:n.state.value},this.onTitleChange=e=>{this.setState({title:e})},this.onDescriptionChange=e=>{this.setState({description:e})},this.onDisplayModeChange=e=>{this.setState({displayMode:e})},this.onOptionsChange=(e,t=!1,n=!1)=>{var r;const{fieldConfig:o,options:a}=this.state,i=t?e:(0,fe.mergeWith)((0,fe.cloneDeep)(a),e,((e,t,n,r)=>{if((0,fe.isArray)(t))return t;e===t||void 0!==t||(r[n]=t)})),s=(0,c.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:i,currentFieldConfig:o,isAfterPluginChange:n});this.setState({options:s.options,_renderCounter:(null!=(r=this.state._renderCounter)?r:0)+1})},this.onFieldConfigChange=(e,t)=>{const{fieldConfig:n,options:r}=this.state,o=t?e:(0,fe.merge)((0,fe.cloneDeep)(n),e),a=(0,c.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:r,currentFieldConfig:o,isAfterPluginChange:!1});this._dataWithFieldConfig=void 0,this.setState({fieldConfig:a.fieldConfig})},this.interpolate=(e,t,n)=>vs.interpolate(this,e,t,n),this.getDescription=()=>{this.publishEvent(new U({origin:this,interaction:"panel-description-shown"}),!0);const{description:e}=this.state;if(e){const t=this.interpolate(e);return(0,c.renderMarkdown)(t)}return""},this.onCancelQuery=()=>{var e;this.publishEvent(new U({origin:this,interaction:"panel-cancel-query-clicked"}),!0);const t=vs.getData(this);null==(e=t.cancelQuery)||e.call(t)},this.onStatusMessageClick=()=>{this.publishEvent(new U({origin:this,interaction:"panel-status-message-clicked"}),!0)},this._onSeriesColorChange=(e,t)=>{this.onFieldConfigChange(((e,t,n)=>{const{overrides:r}=n,o=n.overrides.findIndex((t=>t.matcher.id===c.FieldMatcherID.byName&&t.matcher.options===e));if(o<0)return gl(hl({},n),{overrides:[...n.overrides,ml(e,t)]});const a=Array.from(r),i=a[o],s=i.properties.findIndex((e=>"color"===e.id));if(s<0)return a[o]=gl(hl({},i),{properties:[...i.properties,bl(t)]}),gl(hl({},n),{overrides:a});const l=Array.from(i.properties);return l[s]=bl(t),a[o]=gl(hl({},i),{properties:l}),gl(hl({},n),{overrides:a})})(e,t,this.state.fieldConfig))},this._onSeriesVisibilityChange=(e,t)=>{this._dataWithFieldConfig&&this.onFieldConfigChange(function(e,t,n,r){const{overrides:o}=n,a=e,i=o.findIndex(nl);if(i<0){if(t===rn.SeriesVisibilityChangeMode.ToggleSelection){const e=rl([a,...il(o,r)]);return el(Js({},n),{overrides:[...n.overrides,e]})}const e=rl(al(r,a));return el(Js({},n),{overrides:[...n.overrides,e]})}const s=Array.from(o),[l]=s.splice(i,1);if(t===rn.SeriesVisibilityChangeMode.ToggleSelection){let e=ol(l);const t=il(s,r);if(t.length>0&&(e=e.filter((e=>t.indexOf(e)<0))),e[0]===a&&1===e.length)return el(Js({},n),{overrides:s});const o=rl([a,...t]);return el(Js({},n),{overrides:[...s,o]})}const u=((e,t,n=c.ByNamesMatcherMode.exclude)=>{const r=e.properties.find((e=>"custom.hideFrom"===e.id)),o=ol(e),a=o.findIndex((e=>e===t));return a<0?o.push(t):o.splice(a,1),rl(o,n,r)})(l,a);return((e,t)=>ol(e).length===al(t).length)(u,r)?el(Js({},n),{overrides:s}):el(Js({},n),{overrides:[...s,u]})}(e,t,this.state.fieldConfig,this._dataWithFieldConfig.series),!0)},this._onInstanceStateChange=e=>{this._panelContext&&(this._panelContext=Al(Ol({},this._panelContext),{instanceState:e})),this.setState({_pluginInstanceState:e})},this._onToggleLegendSort=e=>{const t=this.state.options.legend;if(!t)return;let n=t.sortDesc,r=t.sortBy;e!==r&&(n=void 0),!1===n?(r=void 0,n=void 0):(n=!n,r=e),this.onOptionsChange(Al(Ol({},this.state.options),{legend:Al(Ol({},t),{sortBy:r,sortDesc:n})}),!0)},this.addActivationHandler((()=>{this._onActivate()})),null==(t=e.menu)||t.addActivationHandler((()=>{this.publishEvent(new U({origin:this,interaction:"panel-menu-shown"}),!0)}))}_onActivate(){this._plugin||this._loadPlugin(this.state.pluginId)}async _loadPlugin(e,t,n,r){const o=function(e){var t;const{getPanelPluginFromCache:n}=(0,u.getPluginImportUtils)();return null!=(t=n(e))?t:O.get(e)}(e);if(o)this._pluginLoaded(o,t,n,r);else{const{importPanelPlugin:o}=(0,u.getPluginImportUtils)();try{const a=await o(e);this._pluginLoaded(a,t,n,r)}catch(t){this._pluginLoaded(function(e){const t=new c.PanelPlugin((()=>null));return t.meta={id:e,name:e,sort:100,type:c.PluginType.panel,module:"",baseUrl:"",info:{author:{name:""},description:"",links:[],logos:{large:"",small:"public/img/grafana_icon.svg"},screenshots:[],updated:"",version:""}},t}(e)),t instanceof Error&&this.setState({_pluginLoadError:t.message})}}}getLegacyPanelId(){const e=parseInt(this.state.key.replace("panel-",""),10);return isNaN(e)?0:e}async _pluginLoaded(e,t,n,r){const{options:o,fieldConfig:a,title:i,pluginVersion:s,_UNSAFE_customMigrationHandler:l}=this.state,u={title:i,options:o,fieldConfig:a,id:this.getLegacyPanelId(),type:e.meta.id,pluginVersion:s};t&&(u.options=t),n&&(u.fieldConfig=n);const d=this._getPluginVersion(e);null==l||l(u,e),e.onPanelMigration&&d!==this.state.pluginVersion&&(u.options=await e.onPanelMigration(u));const p=(0,c.getPanelOptionsWithDefaults)({plugin:e,currentOptions:u.options,currentFieldConfig:u.fieldConfig,isAfterPluginChange:null!=r&&r});if(this._plugin=e,this.setState({options:p.options,fieldConfig:p.fieldConfig,pluginVersion:d,pluginId:e.meta.id}),e.meta.skipDataQuery){const e=vs.getTimeRange(this);this._subs.add(e.subscribeToState((()=>this.forceRender())))}}_getPluginVersion(e){return e&&e.meta.info.version?e.meta.info.version:u.config.buildInfo.version}getPlugin(){return this._plugin}getPanelContext(){return null!=this._panelContext||(this._panelContext=this.buildPanelContext()),this._panelContext}async changePluginType(e,t,n){var r,o;const{options:a,fieldConfig:i,pluginId:s}=this.state;this._dataWithFieldConfig=void 0,await this._loadPlugin(e,null!=t?t:{},n,!0);const l={title:this.state.title,options:this.state.options,fieldConfig:this.state.fieldConfig,id:1,type:e},c=null==(o=null==(r=this._plugin)?void 0:r.onPanelTypeChanged)?void 0:o.call(r,l,s,a,i);c&&!(0,fe.isEmpty)(c)&&this.onOptionsChange(c,!0,!0)}clearFieldConfigCache(){this._dataWithFieldConfig=void 0}applyFieldConfig(e){var t,n,r,o;const a=this._plugin;if(!a||a.meta.skipDataQuery||!e)return xe;if(this._prevData===e&&this._dataWithFieldConfig)return this._dataWithFieldConfig;const i=a.dataSupport||{alertStates:!1,annotations:!1},s=a.fieldConfigRegistry,l=null!=(n=null==(t=this._dataWithFieldConfig)?void 0:t.series)?n:[],d=(0,c.applyFieldOverrides)({data:e.series,fieldConfig:this.state.fieldConfig,fieldConfigRegistry:s,replaceVariables:this.interpolate,theme:u.config.theme2,timeZone:null==(r=e.request)?void 0:r.timezone});return(0,c.compareArrayValues)(d,l,c.compareDataFrameStructures)||this._structureRev++,this._dataWithFieldConfig=Al(Ol({},e),{structureRev:this._structureRev,series:d}),this._dataWithFieldConfig.annotations&&(this._dataWithFieldConfig.annotations=(0,c.applyFieldOverrides)({data:this._dataWithFieldConfig.annotations,fieldConfig:{defaults:{},overrides:[]},fieldConfigRegistry:s,replaceVariables:this.interpolate,theme:u.config.theme2,timeZone:null==(o=e.request)?void 0:o.timezone})),i.alertStates||(this._dataWithFieldConfig.alertState=void 0),i.annotations||(this._dataWithFieldConfig.annotations=void 0),this._prevData=e,this._dataWithFieldConfig}buildPanelContext(){const e=vs.findObject(this,(e=>e instanceof Fs));const t={eventsScope:e?e.getEventsScope():"__global_",eventBus:e?e.getEventsBus(this):(0,u.getAppEvents)(),app:c.CoreApp.Unknown,sync:()=>e?e.state.sync:c.DashboardCursorSync.Off,onSeriesColorChange:this._onSeriesColorChange,onToggleSeriesVisibility:this._onSeriesVisibilityChange,onToggleLegendSort:this._onToggleLegendSort,onInstanceStateChange:this._onInstanceStateChange};return this.state.extendPanelContext&&this.state.extendPanelContext(this,t),t}}Dl.Component=function({model:e}){var t;const{title:n,options:r,fieldConfig:o,_pluginLoadError:i,displayMode:l,hoverHeader:d,hoverHeaderOffset:p,menu:f,headerActions:h,titleItems:g,description:m,_renderCounter:b=0}=e.useState(),[v,{width:y,height:w}]=zs(),E=(0,a.useMemo)((()=>(0,u.getAppEvents)()),[]),S=(0,a.useCallback)((()=>{E.publish(new c.SetPanelAttentionEvent({panelId:e.state.key}))}),[e.state.key,E]),C=(0,a.useMemo)((()=>(0,fe.debounce)(S,100,{leading:!0,trailing:!1})),[S]),x=e.getPlugin(),{dragClass:O,dragClassCancel:A}=function(e){var t,n;const r=vs.getLayout(e),o=null==r?void 0:r.isDraggable();return r&&o&&!function(e,t){let n=e.parent;for(;n&&n!==t;){if("isDraggable"in n.state&&!1===n.state.isDraggable)return!0;n=n.parent}return!1}(e,r)?{dragClass:null==(t=r.getDragClass)?void 0:t.call(r),dragClassCancel:null==(n=null==r?void 0:r.getDragClassCancel)?void 0:n.call(r)}:{dragClass:"",dragClassCancel:""}}(e),D=vs.getData(e),R=D.useState(),_=e.applyFieldConfig(R.data),k=vs.getTimeRange(e).getTimeZone(),P=e.getTimeRange(_),T=e.interpolate(n,void 0,"text"),I=(0,rn.useStyles2)(qs);if(!x)return s().createElement("div",null,"Loading plugin panel...");if(!x.panel)return s().createElement("div",null,"Panel plugin has no panel component");const j=x.panel;D&&D.setContainerWidth&&D.setContainerWidth(Math.round(y));let F,M,L=[];g&&(Array.isArray(g)?L=L.concat(g.map((e=>s().createElement(e.Component,{model:e,key:`${e.state.key}`})))):xt(g)?L.push(s().createElement(g.Component,{model:g})):L.push(g)),e.state.$timeRange&&L.push(s().createElement(e.state.$timeRange.Component,{model:e.state.$timeRange,key:e.state.key})),_.alertState&&L.push(s().createElement(rn.Tooltip,{content:null!=(t=_.alertState.state)?t:"unknown",key:`alert-states-icon-${e.state.key}`},s().createElement(rn.PanelChrome.TitleItem,{className:(0,sn.cx)({[I.ok]:_.alertState.state===c.AlertState.OK,[I.pending]:_.alertState.state===c.AlertState.Pending,[I.alerting]:_.alertState.state===c.AlertState.Alerting})},s().createElement(rn.Icon,{name:"alerting"===_.alertState.state?"heart-break":"heart",className:"panel-alert-icon",size:"md"})))),f&&(F=s().createElement(f.Component,{model:f})),h&&(M=Array.isArray(h)?s().createElement(s().Fragment,null,h.map((e=>s().createElement(e.Component,{model:e,key:`${e.state.key}`})))):xt(h)?s().createElement(h.Component,{model:h}):h);const N=_,B=!D.isDataReadyToDisplay||D.isDataReadyToDisplay(),V=e.getPanelContext(),z=e.getLegacyPanelId();return s().createElement("div",{className:Us},s().createElement("div",{ref:v,className:Hs,"data-viz-panel-key":e.state.key},y>0&&w>0&&s().createElement(rn.PanelChrome,{title:T,description:(null==m?void 0:m.trim())?e.getDescription:void 0,loadingState:N.state,statusMessage:$s(N,i),statusMessageOnClick:e.onStatusMessageClick,width:y,height:w,displayMode:l,hoverHeader:d,hoverHeaderOffset:p,titleItems:L,dragClass:O,actions:M,dragClassCancel:A,padding:x.noPadding?"none":"md",menu:F,onCancelQuery:e.onCancelQuery,onFocus:S,onMouseEnter:S,onMouseMove:C},((t,a)=>s().createElement(s().Fragment,null,s().createElement(rn.ErrorBoundaryAlert,{dependencies:[x,N]},s().createElement(c.PluginContextProvider,{meta:x.meta},s().createElement(rn.PanelContextProvider,{value:V},B&&s().createElement(j,{id:z,data:N,title:n,timeRange:P,timeZone:k,options:r,fieldConfig:o,transparent:!1,width:t,height:a,renderCounter:b,replaceVariables:e.interpolate,onOptionsChange:e.onOptionsChange,onFieldConfigChange:e.onFieldConfigChange,onChangeTimeRange:e.onTimeRangeChange,eventBus:V.eventBus})))))))))};const Rl=class extends J{constructor({enabled:e=!1}){super({enabled:e}),this.timerId=void 0,this._activationHandler=()=>(this.state.enabled&&this.enable(),()=>{window.clearInterval(this.timerId),this.timerId=void 0}),this.addActivationHandler(this._activationHandler)}enable(){window.clearInterval(this.timerId),this.timerId=void 0,this.timerId=window.setInterval((()=>{const e=vs.findAllObjects(this.getRoot(),(e=>e instanceof Dl));for(const t of e)t.forceRender()}),Rl.REFRESH_RATE),this.setState({enabled:!0})}disable(){window.clearInterval(this.timerId),this.timerId=void 0,this.setState({enabled:!1})}get isEnabled(){return this.state.enabled}};let _l=Rl;function kl(e){if("string"==typeof e)return e;if(e){if(e instanceof Error)return e.message;if((0,u.isFetchError)(e)){if(e.data&&e.data.message)return e.data.message;if(e.statusText)return e.statusText}else if(e.hasOwnProperty("message"))return e.message}return JSON.stringify(e)}_l.REFRESH_RATE=100;var Pl=Object.defineProperty,Tl=Object.getOwnPropertySymbols,Il=Object.prototype.hasOwnProperty,jl=Object.prototype.propertyIsEnumerable,Fl=(e,t,n)=>t in e?Pl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Ml extends J{constructor(e,t=[]){super(((e,t)=>{for(var n in t||(t={}))Il.call(t,n)&&Fl(e,n,t[n]);if(Tl)for(var n of Tl(t))jl.call(t,n)&&Fl(e,n,t[n]);return e})({isEnabled:!0},e)),this._results=new A.ReplaySubject(1),this.isDataLayer=!0,this._variableValueRecorder=new It,this._variableDependency=new Ui(this,{onVariableUpdateCompleted:this.onVariableUpdateCompleted.bind(this)}),this._variableDependency.setPaths(t),this.addActivationHandler((()=>this.onActivate()))}onActivate(){return this.state.isEnabled&&this.onEnable(),this.shouldRunLayerOnActivate()&&this.runLayer(),this.subscribeToState(((e,t)=>{!e.isEnabled&&this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.onDisable(),this._results.next({origin:this,data:xe}),this.setStateHelper({data:xe})),e.isEnabled&&!t.isEnabled&&(this.onEnable(),this.runLayer())})),()=>{this.onDeactivate()}}onDeactivate(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0),this.onDisable(),this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this)}onVariableUpdateCompleted(){this.runLayer()}cancelQuery(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.publishResults(xe))}publishResults(e){this.state.isEnabled&&(this._results.next({origin:this,data:e}),this.setStateHelper({data:e}))}getResultsStream(){return this._results}shouldRunLayerOnActivate(){return!!this.state.isEnabled&&(this._variableValueRecorder.hasDependenciesChanged(this)?(Pt("SceneDataLayerBase","Variable dependency changed while inactive, shouldRunLayerOnActivate returns true"),!0):!this.state.data)}setStateHelper(e){st(this,e)}}class Ll extends J{constructor(){super({})}}function Nl({layer:e}){var t,n;const r=`data-layer-${e.state.key}`,{data:o,isEnabled:a}=e.useState(),i=Boolean(o&&o.state===be.Loading);return s().createElement("div",{className:Bl},s().createElement(tr,{htmlFor:r,isLoading:i,onCancel:()=>{var t;return null==(t=e.cancelQuery)?void 0:t.call(e)},label:e.state.name,description:e.state.description,error:null==(n=null==(t=e.state.data)?void 0:t.errors)?void 0:n[0].message}),s().createElement(rn.InlineSwitch,{id:r,value:a,onChange:()=>e.setState({isEnabled:!a})}))}Ll.Component=function({model:e}){const t=vs.getDataLayers(e,!0);return 0===t.length?null:s().createElement(s().Fragment,null,t.map((e=>s().createElement(e.Component,{model:e,key:e.state.key}))))};const Bl=(0,sn.css)({display:"flex"});var Vl=n(7708),zl=n(4629),$l=n(1693),Ul=n(8353),Hl=n(3449),ql="function"==typeof Symbol&&Symbol.observable||"@@observable";function Gl(e){return e}var Wl=n(2236),Ql=n(3004),Yl=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=this,a=(r=e)&&r instanceof Ul.vU||function(e){return e&&(0,$l.T)(e.next)&&(0,$l.T)(e.error)&&(0,$l.T)(e.complete)}(r)&&(0,Hl.Uv)(r)?e:new Ul.Ms(e,t,n);return(0,Ql.Y)((function(){var e=o,t=e.operator,n=e.source;a.add(t?t.call(a,n):n?o._subscribe(a):o._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Xl(t))((function(t,r){var o=new Ul.Ms({next:function(t){try{e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[ql]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(n=e).length?Gl:1===n.length?n[0]:function(e){return n.reduce((function(e,t){return t(e)}),e)})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=Xl(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function Xl(e){var t;return null!==(t=null!=e?e:Wl.$.Promise)&&void 0!==t?t:Promise}var Kl="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Zl=n(6712);function Jl(e){if(e instanceof Yl)return e;if(null!=e){if(function(e){return(0,$l.T)(e[ql])}(e))return i=e,new Yl((function(e){var t=i[ql]();if((0,$l.T)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((a=e)&&"number"==typeof a.length&&"function"!=typeof a)return o=e,new Yl((function(e){for(var t=0;t<o.length&&!e.closed;t++)e.next(o[t]);e.complete()}));if(r=e,(0,$l.T)(null==r?void 0:r.then))return n=e,new Yl((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Zl.m)}));if(function(e){return Symbol.asyncIterator&&(0,$l.T)(null==e?void 0:e[Symbol.asyncIterator])}(e))return ec(e);if(function(e){return(0,$l.T)(null==e?void 0:e[Kl])}(e))return t=e,new Yl((function(e){var n,r;try{for(var o=(0,zl.Ju)(t),a=o.next();!a.done;a=o.next()){var i=a.value;if(e.next(i),e.closed)return}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()}));if(function(e){return(0,$l.T)(null==e?void 0:e.getReader)}(e))return ec(function(e){return(0,zl.AQ)(this,arguments,(function(){var t,n,r;return(0,zl.YH)(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,(0,zl.N3)(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,(0,zl.N3)(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,(0,zl.N3)(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,n,r,o,a,i;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function ec(e){return new Yl((function(t){(function(e,t){var n,r,o,a;return(0,zl.sH)(this,void 0,void 0,(function(){var i,s;return(0,zl.YH)(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=(0,zl.xN)(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(i=r.value,t.next(i),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),o={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}var tc=n(5096),nc=n(4370);function rc(e,t,n){return void 0===n&&(n=1/0),(0,$l.T)(t)?rc((function(n,r){return(0,Vl.T)((function(e,o){return t(n,e,r,o)}))(Jl(e(n,r)))}),n):("number"==typeof t&&(n=t),(0,tc.N)((function(t,r){return function(e,t,n,r){var o=[],a=0,i=0,s=!1,l=function(){!s||o.length||a||t.complete()},c=function(e){return a<r?u(e):o.push(e)},u=function(e){a++;var s=!1;Jl(n(e,i++)).subscribe((0,nc._)(t,(function(e){t.next(e)}),(function(){s=!0}),void 0,(function(){if(s)try{a--;for(var e=function(){var e=o.shift();u(e)};o.length&&a<r;)e();l()}catch(e){t.error(e)}})))};return e.subscribe((0,nc._)(t,c,(function(){s=!0,l()}))),function(){}}(t,r,e,n)})))}var oc=Object.defineProperty,ac=Object.defineProperties,ic=Object.getOwnPropertyDescriptors,sc=Object.getOwnPropertySymbols,lc=Object.prototype.hasOwnProperty,cc=Object.prototype.propertyIsEnumerable,uc=(e,t,n)=>t in e?oc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const dc={prepareAnnotation:e=>{if((0,fe.isString)(null==e?void 0:e.query)){const n=e,{query:r}=n;return t=((e,t)=>{for(var n in t||(t={}))lc.call(t,n)&&uc(e,n,t[n]);if(sc)for(var n of sc(t))cc.call(t,n)&&uc(e,n,t[n]);return e})({},((e,t)=>{var n={};for(var r in e)lc.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&sc)for(var r of sc(e))t.indexOf(r)<0&&cc.call(e,r)&&(n[r]=e[r]);return n})(n,["query"])),ac(t,ic({target:{refId:"annotation_query",query:r},mappings:{}}))}var t;return e},prepareQuery:e=>e.target,processEvents:(e,t)=>function(e,t){return(0,A.of)(e).pipe((e=>e.pipe(rc((e=>{if(!(null==e?void 0:e.length))return(0,A.of)(void 0);if(1===e.length)return(0,A.of)(e[0]);return(0,A.of)(e).pipe(c.standardTransformers.mergeTransformer.operator({},{interpolate:e=>e}),(0,Vl.T)((e=>e[0])))})))),(0,Vl.T)((e=>{if(!(null==e?void 0:e.length))return[];let n=!1,r=!1;const o={};for(const t of e.fields)o[(0,c.getFieldDisplayName)(t,e).toLowerCase()]=t;t||(t={});const a=[];for(const i of fc){const s=t[i.key]||{};if(s.source===c.AnnotationEventFieldSource.Skip)continue;const l={key:i.key,split:i.split};if(s.source===c.AnnotationEventFieldSource.Text)l.text=s.value;else{const t=(s.value||i.key).toLowerCase();l.field=o[t],!l.field&&i.field&&(l.field=i.field(e))}(l.field||l.text)&&(a.push(l),"time"===l.key?n=!0:"text"===l.key&&(r=!0))}if(!n||!r)return console.error("Cannot process annotation fields. No time or text present."),[];const i=[];for(let t=0;t<e.length;t++){const e={type:"default",color:"red"};for(const n of a){let r;if(n.text)r=n.text;else if(n.field&&(r=n.field.values.get(t),void 0!==r&&n.regex)){const e=n.regex.exec(r);e&&(r=e[1]?e[1]:e[0])}null!=r&&(n.split&&"string"==typeof r&&(r=r.split(",")),e[n.key]=r)}i.push(e)}return i})))}(t,e.mappings)},pc=[{key:"time",field:e=>e.fields.find((e=>e.type===c.FieldType.time)),placeholder:"time, or the first time field"},{key:"timeEnd",help:"When this field is defined, the annotation will be treated as a range"},{key:"title"},{key:"text",field:e=>e.fields.find((e=>e.type===c.FieldType.string)),placeholder:"text, or the first text field"},{key:"tags",split:",",help:"The results will be split on comma (,)"},{key:"id"}],fc=[...u.config.publicDashboardAccessToken?[{key:"color"},{key:"isRegion"},{key:"source"}]:[],...pc,{key:"userId"},{key:"login"},{key:"email"},{key:"prevState"},{key:"newState"},{key:"data"},{key:"panelId"},{key:"alertId"},{key:"dashboardId"},{key:"dashboardUID"}],hc=["prometheus","loki","elasticsearch","grafana-opensearch-datasource"];var gc=Object.defineProperty,mc=Object.defineProperties,bc=Object.getOwnPropertyDescriptors,vc=Object.getOwnPropertySymbols,yc=Object.prototype.hasOwnProperty,wc=Object.prototype.propertyIsEnumerable,Ec=(e,t,n)=>t in e?gc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sc=(e,t)=>{for(var n in t||(t={}))yc.call(t,n)&&Ec(e,n,t[n]);if(vc)for(var n of vc(t))wc.call(t,n)&&Ec(e,n,t[n]);return e},Cc=(e,t)=>mc(e,bc(t));let xc=100;var Oc=Object.defineProperty,Ac=Object.getOwnPropertySymbols,Dc=Object.prototype.hasOwnProperty,Rc=Object.prototype.propertyIsEnumerable,_c=(e,t,n)=>t in e?Oc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function kc(e){return"panel-alert"===e.eventType}var Pc=Object.defineProperty,Tc=Object.defineProperties,Ic=Object.getOwnPropertyDescriptors,jc=Object.getOwnPropertySymbols,Fc=Object.prototype.hasOwnProperty,Mc=Object.prototype.propertyIsEnumerable,Lc=(e,t,n)=>t in e?Pc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nc=(e,t)=>{for(var n in t||(t={}))Fc.call(t,n)&&Lc(e,n,t[n]);if(jc)for(var n of jc(t))Mc.call(t,n)&&Lc(e,n,t[n]);return e},Bc=(e,t)=>Tc(e,Ic(t));class Vc extends Ml{constructor(e){super(Nc({isEnabled:!0},e),["query"]),this._scopedVars={__sceneObject:$n(this)}}onEnable(){this.publishEvent(new u.RefreshEvent,!0);const e=vs.getTimeRange(this);this._timeRangeSub=e.subscribeToState((()=>{this.runWithTimeRange(e)}))}onDisable(){var e;this.publishEvent(new u.RefreshEvent,!0),null==(e=this._timeRangeSub)||e.unsubscribe()}runLayer(){Pt("AnnotationsDataLayer","run layer");const e=vs.getTimeRange(this);this.runWithTimeRange(e)}async runWithTimeRange(e){const{query:t}=this.state;if(this.querySub&&this.querySub.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())Pt("AnnotationsDataLayer","Variable dependency is in loading state, skipping query execution");else try{let n=function(e,t,n,r){var o;if(e.annotationQuery&&function(e){const{type:t}=e;return!e.annotations||hc.includes(t)}(e))return console.warn("Using deprecated annotationQuery method, please upgrade your datasource"),(0,A.from)(e.annotationQuery({range:t.state.value,rangeRaw:t.state.value.raw,annotation:n,dashboard:{getVariables:(0,u.getTemplateSrv)().getVariables}})).pipe((0,Vl.T)((e=>({state:be.Done,events:e}))));const a=Sc(Sc({},dc),e.annotations),i=Sc(Sc({},null==(o=a.getDefaultQuery)?void 0:o.call(a)),n),s=a.prepareAnnotation(i);if(!s)return(0,A.of)({state:be.Done,events:[]});const l=a.prepareQuery(s);if(!l)return(0,A.of)({state:be.Done,events:[]});const d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,p=c.rangeUtil.calculateInterval(t.state.value,d,e.interval),f={__interval:{text:p.interval,value:p.interval},__interval_ms:{text:p.intervalMs.toString(),value:p.intervalMs},__annotation:{text:s.name,value:s},__sceneObject:$n(r)},h=Sc(Cc(Sc({startTime:Date.now(),requestId:"AQ"+xc++,range:t.state.value,maxDataPoints:d,scopedVars:f},p),{app:c.CoreApp.Dashboard,timezone:t.getTimeZone(),targets:[Cc(Sc({},l),{refId:"Anno"})]}),Zt(r));return(0,u.getRunRequest)()(e,h).pipe(rc((e=>{const t=(null==e?void 0:e.series.length)?e.series:e.annotations;return(null==t?void 0:t.length)?(t.forEach((e=>{var t;(null==(t=e.meta)?void 0:t.dataTopic)||(e.meta=Cc(Sc({},e.meta||{}),{dataTopic:c.DataTopic.Annotations}))})),a.processEvents(s,t).pipe((0,Vl.T)((t=>({state:e.state,events:t||[]}))))):(0,A.of)({state:e.state,events:[]})})))}(await this.resolveDataSource(t),e,t,this).pipe(tn({type:"annotations",origin:this,cancel:()=>this.cancelQuery()}),(0,A.map)((e=>this.processEvents(t,e))));this.querySub=n.subscribe((e=>{this.publishResults(e)}))}catch(e){this.publishResults(Bc(Nc({},xe),{state:be.Error,errors:[{message:kl(e)}]})),console.error("AnnotationsDataLayer error",e)}}async resolveDataSource(e){return await Tt(e.datasource||void 0,this._scopedVars)}processEvents(e,t){let n=(r=e,o=t.events||[],r.snapshotData&&delete(r=(0,fe.cloneDeep)(r)).snapshotData,o.map((e=>{var t;const n=((e,t)=>{for(var n in t||(t={}))Dc.call(t,n)&&_c(e,n,t[n]);if(Ac)for(var n of Ac(t))Rc.call(t,n)&&_c(e,n,t[n]);return e})({},e);switch(n.source=r,n.color=u.config.theme2.visualization.getColorByName(r.iconColor),n.type=r.name,n.isRegion=Boolean(n.timeEnd&&n.time!==n.timeEnd),null==(t=n.newState)?void 0:t.toLowerCase()){case"pending":n.color="yellow";break;case"alerting":n.color="red";break;case"ok":case"normal":n.color="green";break;case"no_data":case"nodata":n.color="gray"}return n})));var r,o;n=function(e){let t=[];const n=(0,fe.partition)(e,"id"),r=(0,fe.groupBy)(n[0],"id");return t=(0,fe.map)(r,(e=>e.length>1&&!(0,fe.every)(e,kc)?(0,fe.find)(e,(e=>"panel-alert"!==e.eventType)):(0,fe.head)(e))),t=(0,fe.concat)(t,n[1]),t}(n);const a=Bc(Nc({},xe),{state:t.state}),i=(0,c.arrayToDataFrame)(n);return i.meta=Bc(Nc({},i.meta),{dataTopic:c.DataTopic.Annotations}),a.series=[i],a}}Vc.Component=function({model:e}){const{isHidden:t}=e.useState();return t?null:s().createElement(Nl,{layer:e})};class zc extends J{constructor(e){super(e),this._activationHandler=()=>{const e=this.getAncestorTimeRange();this.ancestorTimeRangeChanged(e.state),this._subs.add(e.subscribeToState((e=>this.ancestorTimeRangeChanged(e))))},this.addActivationHandler(this._activationHandler)}getAncestorTimeRange(){if(!this.parent||!this.parent.parent)throw new Error(typeof this+" must be used within $timeRange scope");return vs.getTimeRange(this.parent.parent)}getTimeZone(){return this.getAncestorTimeRange().getTimeZone()}onTimeRangeChange(e){this.getAncestorTimeRange().onTimeRangeChange(e)}onTimeZoneChange(e){this.getAncestorTimeRange().onTimeZoneChange(e)}onRefresh(){this.getAncestorTimeRange().onRefresh()}}var $c=Object.defineProperty,Uc=Object.defineProperties,Hc=Object.getOwnPropertyDescriptors,qc=Object.getOwnPropertySymbols,Gc=Object.prototype.hasOwnProperty,Wc=Object.prototype.propertyIsEnumerable,Qc=(e,t,n)=>t in e?$c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yc=(e,t)=>{for(var n in t||(t={}))Gc.call(t,n)&&Qc(e,n,t[n]);if(qc)for(var n of qc(t))Wc.call(t,n)&&Qc(e,n,t[n]);return e},Xc=(e,t)=>Uc(e,Hc(t));class Kc extends zc{constructor(e){super(Xc(Yc({},e),{timeZone:e.timeZone,from:"now-6h",to:"now",value:(0,c.getDefaultTimeRange)()}))}ancestorTimeRangeChanged(e){this.setState(Xc(Yc({},e),{timeZone:this.state.timeZone,value:Re(e.from,e.to,this.state.timeZone,e.fiscalYearStartMonth,e.UNSAFE_nowDelay)}))}getTimeZone(){return this.state.timeZone}onTimeZoneChange(e){this.setState({timeZone:e,value:Re(this.state.from,this.state.to,this.state.timeZone,this.getAncestorTimeRange().state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay)})}}class Zc extends J{constructor(e){super({source:e.source,data:e.source.resolve().state.data}),this.addActivationHandler((()=>{this._subs.add(this.state.source.resolve().subscribeToState(((e,t)=>{e.data!==t.data&&this.setState({data:e.data})})))}))}setContainerWidth(e){var t,n;null==(n=(t=this.state.source.resolve()).setContainerWidth)||n.call(t,e)}isDataReadyToDisplay(){var e,t,n;return null==(n=null==(t=(e=this.state.source.resolve()).isDataReadyToDisplay)?void 0:t.call(e))||n}cancelQuery(){var e,t;null==(t=(e=this.state.source.resolve()).cancelQuery)||t.call(e)}getResultsStream(){return this.state.source.resolve().getResultsStream()}}var Jc=Object.defineProperty,eu=Object.defineProperties,tu=Object.getOwnPropertyDescriptors,nu=Object.getOwnPropertySymbols,ru=Object.prototype.hasOwnProperty,ou=Object.prototype.propertyIsEnumerable,au=(e,t,n)=>t in e?Jc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class iu extends J{constructor(){super(...arguments),this.isDataLayer=!0,this._results=new A.ReplaySubject(1),this._dataLayersMerger=new hi}subscribeToAllLayers(e){e.length>0?this.querySub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayerUpdateReceived.bind(this)):(this._results.next({origin:this,data:xe}),this.setStateHelper({data:xe}))}_onLayerUpdateReceived(e){var t;let n=[];for(const r of e)(null==(t=r.data)?void 0:t.series)&&(n=n.concat(r.data.series));const r=(o=((e,t)=>{for(var n in t||(t={}))ru.call(t,n)&&au(e,n,t[n]);if(nu)for(var n of nu(t))ou.call(t,n)&&au(e,n,t[n]);return e})({},xe),eu(o,tu({series:n})));var o;this._results.next({origin:this,data:r}),this.setStateHelper({data:r})}getResultsStream(){return this._results}cancelQuery(){var e;null==(e=this.querySub)||e.unsubscribe()}setStateHelper(e){st(this,e)}}class su extends iu{constructor(e){var t,n;super({name:null!=(t=e.name)?t:"Data layers",layers:null!=(n=e.layers)?n:[]}),this.addActivationHandler((()=>this._onActivate()))}_onActivate(){return this._subs.add(this.subscribeToState(((e,t)=>{var n;e.layers!==t.layers&&(null==(n=this.querySub)||n.unsubscribe(),this.subscribeToAllLayers(e.layers))}))),this.subscribeToAllLayers(this.state.layers),()=>{var e;null==(e=this.querySub)||e.unsubscribe()}}}su.Component=({model:e})=>{const{layers:t}=e.useState();return s().createElement(s().Fragment,null,t.map((e=>s().createElement(e.Component,{model:e,key:e.state.key}))))};var lu=Object.defineProperty,cu=Object.defineProperties,uu=Object.getOwnPropertyDescriptors,du=Object.getOwnPropertySymbols,pu=Object.prototype.hasOwnProperty,fu=Object.prototype.propertyIsEnumerable,hu=(e,t,n)=>t in e?lu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gu=(e,t)=>{for(var n in t||(t={}))pu.call(t,n)&&hu(e,n,t[n]);if(du)for(var n of du(t))fu.call(t,n)&&hu(e,n,t[n]);return e},mu=(e,t)=>cu(e,uu(t));class bu extends J{constructor(e){super(e),this._results=new A.ReplaySubject(1),this._variableDependency=new Ui(this,{statePaths:["transformations"],onReferencedVariableValueChanged:()=>this.reprocessTransformations()}),this.addActivationHandler((()=>this.activationHandler()))}activationHandler(){const e=this.getSourceData();return this._subs.add(e.subscribeToState((e=>this.transform(e.data)))),e.state.data&&this.transform(e.state.data),()=>{this._transformSub&&this._transformSub.unsubscribe()}}getSourceData(){if(this.state.$data){if(this.state.$data instanceof su)throw new Error("SceneDataLayerSet can not be used as data provider for SceneDataTransformer.");return this.state.$data}if(!this.parent||!this.parent.parent)throw new Error("SceneDataTransformer must either have $data set on it or have a parent.parent with $data");return vs.getData(this.parent.parent)}setContainerWidth(e){this.state.$data&&this.state.$data.setContainerWidth&&this.state.$data.setContainerWidth(e)}isDataReadyToDisplay(){const e=this.getSourceData();return!e.isDataReadyToDisplay||e.isDataReadyToDisplay()}reprocessTransformations(){this.transform(this.getSourceData().state.data,!0)}cancelQuery(){var e,t;null==(t=(e=this.getSourceData()).cancelQuery)||t.call(e)}getResultsStream(){return this._results}clone(e){const t=super.clone(e);return this._prevDataFromSource&&(t._prevDataFromSource=this._prevDataFromSource),t}haveAlreadyTransformedData(e){if(!this._prevDataFromSource)return!1;if(e===this._prevDataFromSource)return!0;const{series:t,annotations:n}=this._prevDataFromSource;return e.series===t&&e.annotations===n&&(this.state.data&&e.state!==this.state.data.state&&this.setState({data:mu(gu({},this.state.data),{state:e.state})}),!0)}transform(e,t=!1){var n;if(0===this.state.transformations.length||!e)return this._prevDataFromSource=e,this.setState({data:e}),void(e&&this._results.next({origin:this,data:e}));if(!t&&this.haveAlreadyTransformedData(e))return;const r=this.state.transformations.filter((e=>!("options"in e)&&!("topic"in e)||null==e.topic||e.topic===c.DataTopic.Series)).map((e=>"operator"in e?e.operator:e)),o=this.state.transformations.filter((e=>("options"in e||"topic"in e)&&e.topic===c.DataTopic.Annotations)).map((e=>"operator"in e?e.operator:e));this._transformSub&&this._transformSub.unsubscribe();const a={interpolate:t=>{var n;return vs.interpolate(this,t,null==(n=e.request)?void 0:n.scopedVars)}};let i=[(0,c.transformDataFrame)(r,e.series,a)];e.annotations&&e.annotations.length>0&&o.length>0&&i.push((0,c.transformDataFrame)(o,null!=(n=e.annotations)?n:[])),this._transformSub=(0,A.forkJoin)(i).pipe((0,A.map)((t=>{const n=t[0],r=t[1];return mu(gu({},e),{series:n,annotations:null!=r?r:e.annotations})})),(0,A.catchError)((t=>{var n;console.error("Error transforming data: ",t);const r=(null==(n=this.getSourceData().state.data)?void 0:n.errors)||[],o=(0,u.toDataQueryError)(t);o.message=`Error transforming data: ${o.message}`;const a=mu(gu({},e),{state:c.LoadingState.Error,errors:[...r,o]});return(0,A.of)(a)}))).subscribe((t=>{this.setState({data:t}),this._results.next({origin:this,data:t}),this._prevDataFromSource=e}))}}class vu extends J{}function yu({variable:e,layout:t,showAlways:n,hideLabel:r}){return ee(e,{shouldActivateOrKeepAlive:!0}).hide!==c.VariableHide.hideVariable||n?"vertical"===t?s().createElement("div",{className:Su,"data-testid":an.pages.Dashboard.SubMenu.submenuItem},s().createElement(wu,{variable:e,layout:t,hideLabel:r}),s().createElement(e.Component,{model:e})):s().createElement("div",{className:Eu,"data-testid":an.pages.Dashboard.SubMenu.submenuItem},s().createElement(wu,{variable:e,hideLabel:r}),s().createElement(e.Component,{model:e})):null}function wu({variable:e,layout:t,hideLabel:n}){var r,o;const{state:a}=e;if(e.state.hide===c.VariableHide.hideLabel||n)return null;const i=`var-${a.key}`,l=null!=(r=a.label)?r:a.name;return s().createElement(tr,{htmlFor:i,isLoading:a.loading,onCancel:()=>{var t;return null==(t=e.onCancel)?void 0:t.call(e)},label:l,error:a.error,layout:t,description:null!=(o=a.description)?o:void 0})}vu.Component=function({model:e}){const t=vs.getVariables(e).useState();return s().createElement(s().Fragment,null,t.variables.map((t=>s().createElement(yu,{key:t.state.key,variable:t,layout:e.state.layout}))))};const Eu=(0,sn.css)({display:"flex"}),Su=(0,sn.css)({display:"flex",flexDirection:"column"});class Cu extends J{}Cu.Component=function({model:e}){const t=vs.lookupVariable(e.state.variableName,e);return t?s().createElement(yu,{key:t.state.key,variable:t,layout:e.state.layout,showAlways:!0}):null};class xu extends J{constructor(e){super(e),this._variablesThatHaveChanged=new Set,this._variablesToUpdate=new Set,this._updating=new Map,this._variableValueRecorder=new It,this._variableDependency=new Au(this._handleParentVariableUpdatesCompleted.bind(this)),this._onActivate=()=>{const e=vs.getTimeRange(this);this._subs.add(this.subscribeToEvent(Ve,(e=>this._handleVariableValueChanged(e.payload)))),this._subs.add(e.subscribeToState((()=>{this._refreshTimeRangeBasedVariables()}))),this._subs.add(this.subscribeToState(this._onStateChanged)),this._checkForVariablesThatChangedWhileInactive();for(const e of this.state.variables)this._variableNeedsUpdate(e)&&this._variablesToUpdate.add(e);return this._updateNextBatch(),this._onDeactivate},this._onDeactivate=()=>{var e;for(const t of this._updating.values())null==(e=t.subscription)||e.unsubscribe();for(const e of this.state.variables)this._variablesToUpdate.has(e)||this._updating.has(e)||this._variableValueRecorder.recordCurrentValue(e);this._variablesToUpdate.clear(),this._updating.clear()},this._onStateChanged=(e,t)=>{const n=this._variablesToUpdate.size;for(const n of t.variables)if(!e.variables.includes(n)){const e=this._updating.get(n);(null==e?void 0:e.subscription)&&e.subscription.unsubscribe(),this._updating.delete(n),this._variablesToUpdate.delete(n)}for(const n of e.variables)t.variables.includes(n)||this._variableNeedsUpdate(n)&&this._variablesToUpdate.add(n);0===n&&this._variablesToUpdate.size>0&&this._updateNextBatch()},this.addActivationHandler(this._onActivate)}getByName(e){return this.state.variables.find((t=>t.state.name===e))}_refreshTimeRangeBasedVariables(){for(const e of this.state.variables)"refresh"in e.state&&e.state.refresh===c.VariableRefresh.onTimeRangeChanged&&this._variablesToUpdate.add(e);this._updateNextBatch()}_checkForVariablesThatChangedWhileInactive(){if(this._variableValueRecorder.hasValues())for(const e of this.state.variables)this._variableValueRecorder.hasValueChanged(e)&&(Ou(e,"Changed while in-active"),this._addDependentVariablesToUpdateQueue(e))}_variableNeedsUpdate(e){return!(e.isLazy||!e.validateAndUpdate||this._variableValueRecorder.hasRecordedValue(e)&&(Ou(e,"Skipping updateAndValidate current value valid"),1))}_updateNextBatch(){for(const e of this._variablesToUpdate){if(!e.validateAndUpdate)throw new Error("Variable added to variablesToUpdate but does not have validateAndUpdate");if(this._updating.has(e))continue;if(vs.hasVariableDependencyInLoadingState(e))continue;const t={variable:e};this._updating.set(e,t),Ou(e,"updateAndValidate started"),t.subscription=e.validateAndUpdate().subscribe({next:()=>this._validateAndUpdateCompleted(e),complete:()=>this._validateAndUpdateCompleted(e),error:t=>this._handleVariableError(e,t)})}}_validateAndUpdateCompleted(e){var t;if(!this._updating.has(e))return;const n=this._updating.get(e);null==(t=null==n?void 0:n.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),Ou(e,"updateAndValidate completed"),this._notifyDependentSceneObjects(e),this._updateNextBatch()}cancel(e){var t;const n=this._updating.get(e);null==(t=null==n?void 0:n.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e)}_handleVariableError(e,t){var n;const r=this._updating.get(e);null==(n=null==r?void 0:r.subscription)||n.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),e.setState({loading:!1,error:t.message}),console.error("SceneVariableSet updateAndValidate error",t),Ou(e,"updateAndValidate error",t),this._notifyDependentSceneObjects(e),this._updateNextBatch()}_handleVariableValueChanged(e){this._variablesThatHaveChanged.add(e),this._addDependentVariablesToUpdateQueue(e),this._updating.has(e)||(this._updateNextBatch(),this._notifyDependentSceneObjects(e))}_handleParentVariableUpdatesCompleted(e,t){t&&this._addDependentVariablesToUpdateQueue(e),this._variablesToUpdate.size>0&&0===this._updating.size&&this._updateNextBatch()}_addDependentVariablesToUpdateQueue(e){for(const t of this.state.variables)t.variableDependency&&t.variableDependency.hasDependencyOn(e.state.name)&&(Ou(t,"Added to update queue, dependant variable value changed"),this._updating.has(t)&&t.onCancel&&t.onCancel(),this._variablesToUpdate.add(t))}_notifyDependentSceneObjects(e){this.parent&&(this._traverseSceneAndNotify(this.parent,e,this._variablesThatHaveChanged.has(e)),this._variablesThatHaveChanged.delete(e))}_traverseSceneAndNotify(e,t,n){if(this!==e&&e.isActive){if(e.state.$variables&&e.state.$variables!==this&&e.state.$variables.getByName(t.state.name))return;e.variableDependency&&e.variableDependency.variableUpdateCompleted(t,n),e.forEachChild((e=>this._traverseSceneAndNotify(e,t,n)))}}isVariableLoadingOrWaitingToUpdate(e){return!(!e.isAncestorLoading||!e.isAncestorLoading())||!(!this._variablesToUpdate.has(e)&&!this._updating.has(e))||vs.hasVariableDependencyInLoadingState(e)}}function Ou(e,t,n){n?Pt("SceneVariableSet",`Variable[${e.state.name}]: ${t}`,n):Pt("SceneVariableSet",`Variable[${e.state.name}]: ${t}`)}class Au{constructor(e){this._variableUpdatesCompleted=e,this._emptySet=new Set}getNames(){return this._emptySet}hasDependencyOn(e){return!1}variableUpdateCompleted(e,t){this._variableUpdatesCompleted(e,t)}}var Du=Object.defineProperty,Ru=Object.defineProperties,_u=Object.getOwnPropertyDescriptors,ku=Object.getOwnPropertySymbols,Pu=Object.prototype.hasOwnProperty,Tu=Object.prototype.propertyIsEnumerable,Iu=(e,t,n)=>t in e?Du(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class ju extends J{constructor(e){var t;super((t=((e,t)=>{for(var n in t||(t={}))Pu.call(t,n)&&Iu(e,n,t[n]);if(ku)for(var n of ku(t))Tu.call(t,n)&&Iu(e,n,t[n]);return e})({type:"constant",value:"",name:""},e),Ru(t,_u({skipUrlSync:!0}))))}getValue(){return this.state.value}}var Fu=Object.defineProperty,Mu=Object.getOwnPropertySymbols,Lu=Object.prototype.hasOwnProperty,Nu=Object.prototype.propertyIsEnumerable,Bu=(e,t,n)=>t in e?Fu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Vu extends ct{constructor(e){super(((e,t)=>{for(var n in t||(t={}))Lu.call(t,n)&&Bu(e,n,t[n]);if(Mu)for(var n of Mu(t))Nu.call(t,n)&&Bu(e,n,t[n]);return e})({type:"custom",query:"",value:"",text:"",options:[],name:""},e)),this._variableDependency=new Ui(this,{statePaths:["query"]})}getValueOptions(e){var t;const n=(null!=(t=vs.interpolate(this,this.state.query).match(/(?:\\,|[^,])+/g))?t:[]).map((e=>{var t;e=e.replace(/\\,/g,",");const n=null!=(t=/^(.+)\s:\s(.+)$/g.exec(e))?t:[];if(3===n.length){const[,e,t]=n;return{label:e.trim(),value:t.trim()}}return{label:e.trim(),value:e.trim()}}));return(0,A.of)(n)}}Vu.Component=({model:e})=>Mn(e);var zu=Object.defineProperty,$u=Object.getOwnPropertySymbols,Uu=Object.prototype.hasOwnProperty,Hu=Object.prototype.propertyIsEnumerable,qu=(e,t,n)=>t in e?zu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Gu extends ct{constructor(e){super(((e,t)=>{for(var n in t||(t={}))Uu.call(t,n)&&qu(e,n,t[n]);if($u)for(var n of $u(t))Hu.call(t,n)&&qu(e,n,t[n]);return e})({type:"datasource",value:"",text:"",options:[],name:"",regex:"",pluginId:""},e)),this._variableDependency=new Ui(this,{statePaths:["regex"]})}getValueOptions(e){if(!this.state.pluginId)return(0,A.of)([]);const t=(0,u.getDataSourceSrv)().getList({metrics:!0,variables:!1,pluginId:this.state.pluginId});let n;if(this.state.regex){const e=vs.interpolate(this,this.state.regex,void 0,"regex");n=(0,c.stringToJsRegex)(e)}const r=[];for(let e=0;e<t.length;e++){const o=t[e];Wu(o,n)&&r.push({label:o.name,value:o.uid}),this.state.defaultOptionEnabled&&Qu(o,n)&&r.push({label:"default",value:"default"})}return 0===r.length?this.setState({error:"No data sources found"}):this.state.error&&this.setState({error:null}),(0,A.of)(r)}}function Wu(e,t){return!t||t.exec(e.name)}function Qu(e,t){return!!e.isDefault&&(!t||t.exec("default"))}function Yu(e,t){const n=["A","B","C","D","E","F","G","H"],r=[];if(t>5)return[];for(const o of n){const n=`${e}${o}`;r.push({name:n,children:Yu(n,t+1)})}return r}function Xu(e,t,n){if(n>=t.length)return e;if("*"===t[n])return e;const r=t[n];let o=[],a=[r];r.startsWith("{")&&(a=r.replace(/\{|\}/g,"").split(","));for(const r of e)for(const e of a)if(-1!==e.indexOf("*")){const a=e.replace("*","");new RegExp(`^${a}.*`,"gi").test(r.name)&&(o=o.concat(Xu([r],t,n+1)))}else r.name===e&&(o=o.concat(Xu(r.children,t,n+1)));return o}function Ku(e){return 0===e.indexOf("value")?[{name:e,children:[]}]:Xu(Yu("",0),e.split("."),0)}Gu.Component=({model:e})=>Mn(e);var Zu=Object.defineProperty,Ju=Object.getOwnPropertySymbols,ed=Object.prototype.hasOwnProperty,td=Object.prototype.propertyIsEnumerable,nd=(e,t,n)=>t in e?Zu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class rd extends ct{constructor(e,t=!1){super(((e,t)=>{for(var n in t||(t={}))ed.call(t,n)&&nd(e,n,t[n]);if(Ju)for(var n of Ju(t))td.call(t,n)&&nd(e,n,t[n]);return e})({type:"custom",name:"Test",value:"Value",text:"Text",query:"Query",options:[],refresh:c.VariableRefresh.onDashboardLoad,updateOptions:!0},e)),this.completeUpdate=new A.Subject,this.isGettingValues=!0,this.getValueOptionsCount=0,this.isLazy=!1,this._variableDependency=new Ui(this,{statePaths:["query"]}),this.isLazy=t}getValueOptions(e){const{delayMs:t}=this.state;this.getValueOptionsCount+=1;const n=vs.getQueryController(this);return new A.Observable((e=>{const r={type:"variable",origin:this,cancel:()=>e.complete()};if(n&&n.queryStarted(r),this.setState({loading:!0}),this.state.throwError)throw new Error(this.state.throwError);const o=vs.interpolate(this,this.state.query),a=this.getOptions(o),i=this.completeUpdate.subscribe({next:()=>{const t={issuedQuery:o,loading:!1};this.state.updateOptions&&(t.options=a),this.setState(t),e.next(a),e.complete()}});let s;return t?s=window.setTimeout((()=>this.signalUpdateCompleted()),t):0===t&&this.signalUpdateCompleted(),this.isGettingValues=!0,()=>{i.unsubscribe(),window.clearTimeout(s),this.isGettingValues=!1,this.state.loading&&this.setState({loading:!1}),n&&n.queryCompleted(r)}}))}cancel(){const e=ce(this,(e=>e instanceof xu?e:void 0));null==e||e.cancel(this)}getOptions(e){return this.state.optionsToReturn?this.state.optionsToReturn:Ku(e).map((e=>({label:e.name,value:e.name})))}signalUpdateCompleted(){this.completeUpdate.next(1)}}function od({model:e}){const{value:t,key:n,loading:r}=e.useState(),o=(0,a.useCallback)((t=>{e.setValue(t.currentTarget.value)}),[e]),i=(0,a.useCallback)((t=>{"Enter"===t.key&&e.setValue(t.currentTarget.value)}),[e]);return s().createElement(rn.AutoSizeInput,{id:n,placeholder:"Enter value",minWidth:15,value:t,loading:r,onBlur:o,onKeyDown:i})}rd.Component=({model:e})=>Mn(e);var ad=Object.defineProperty,id=Object.getOwnPropertySymbols,sd=Object.prototype.hasOwnProperty,ld=Object.prototype.propertyIsEnumerable,cd=(e,t,n)=>t in e?ad(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class ud extends J{constructor(e){super(((e,t)=>{for(var n in t||(t={}))sd.call(t,n)&&cd(e,n,t[n]);if(id)for(var n of id(t))ld.call(t,n)&&cd(e,n,t[n]);return e})({type:"textbox",value:"",name:""},e)),this._urlSync=new Oe(this,{keys:()=>[this.getKey()]})}getValue(){return this.state.value}setValue(e){e!==this.state.value&&(this.setState({value:e}),this.publishEvent(new Ve(this),!0))}getKey(){return`var-${this.state.name}`}getUrlState(){return{[this.getKey()]:this.state.value}}updateFromUrl(e){const t=e[this.getKey()];"string"==typeof t&&this.setValue(t)}}ud.Component=({model:e})=>s().createElement(od,{model:e});var dd=Object.defineProperty,pd=Object.defineProperties,fd=Object.getOwnPropertyDescriptors,hd=Object.getOwnPropertySymbols,gd=Object.prototype.hasOwnProperty,md=Object.prototype.propertyIsEnumerable,bd=(e,t,n)=>t in e?dd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class vd extends J{constructor(e){var t;super((t=((e,t)=>{for(var n in t||(t={}))gd.call(t,n)&&bd(e,n,t[n]);if(hd)for(var n of hd(t))md.call(t,n)&&bd(e,n,t[n]);return e})({type:"system",value:"",text:"",name:""},e),pd(t,fd({skipUrlSync:!0}))))}getValue(){return this.state.value}getValueText(){return this.state.text.toString()}isAncestorLoading(){var e,t;const n=null==(t=null==(e=this.parent)?void 0:e.parent)?void 0:t.parent;if(!n)throw new Error("LocalValueVariable requires a parent SceneVariableSet that has an ancestor SceneVariableSet");const r=vs.getVariables(n),o=vs.lookupVariable(this.state.name,n);return!(!r||!o)&&r.isVariableLoadingOrWaitingToUpdate(o)}}var yd=Object.defineProperty,wd=Object.getOwnPropertySymbols,Ed=Object.prototype.hasOwnProperty,Sd=Object.prototype.propertyIsEnumerable,Cd=(e,t,n)=>t in e?yd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class xd extends J{constructor(e){super(((e,t)=>{for(var n in t||(t={}))Ed.call(t,n)&&Cd(e,n,t[n]);if(wd)for(var n of wd(t))Sd.call(t,n)&&Cd(e,n,t[n]);return e})({type:"interval",value:"",intervals:["1m","10m","30m","1h","6h","12h","1d","7d","14d","30d"],name:"",autoStepCount:30,autoMinInterval:"10s",autoEnabled:!1,refresh:As.onTimeRangeChanged},e)),this._onChange=e=>{this.setState({value:e.value}),this.publishEvent(new Ve(this),!0)},this._urlSync=new Oe(this,{keys:()=>[this.getKey()]})}getKey(){return`var-${this.state.name}`}getUrlState(){return{[this.getKey()]:this.state.value}}updateFromUrl(e){const t={},n=e[this.getKey()];"string"==typeof n&&(n.startsWith("$__auto_interval_")?t.value=nt:t.value=n),this.setState(t)}getOptionsForSelect(){const{value:e,intervals:t,autoEnabled:n}=this.state;let r=t.map((e=>({value:e,label:e})));return n&&(r=[{value:nt,label:"Auto"},...r]),e&&!r.some((t=>t.value===e))&&r.push({value:e,label:e}),r}getValue(){const{value:e,autoStepCount:t,autoMinInterval:n}=this.state;return e===nt?this.getAutoRefreshInteval(t,n):e}getAutoRefreshInteval(e,t){const n=vs.getTimeRange(this).state.value;return c.rangeUtil.calculateInterval(n,e,t).interval}validateAndUpdate(){const{value:e,intervals:t}=this.state;let n=!1;if(e===nt)n=!0;else if(!e&&t.length>0){const e=t[0];this.setState({value:e}),n=!0}return n&&this.publishEvent(new Ve(this),!0),(0,A.of)({})}}xd.Component=({model:e})=>{const{key:t,value:n}=e.useState();return s().createElement(rn.Select,{id:t,placeholder:"Select value",width:"auto",value:n,tabSelectsValue:!1,options:e.getOptionsForSelect(),onChange:e._onChange})};var Od,Ad,Dd=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Rd=(e,t,n)=>(Dd(e,t,"read from private field"),n?n.call(e):t.get(e)),_d=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},kd=(e,t,n,r)=>(Dd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class Pd extends c.BusEventWithPayload{}Pd.type="new-scene-object-added";class Td{constructor(e={},t=u.locationService){this._urlKeyMapper=new ys,this._options=e,this._locationService=t,this._paramsCache=new Id(t)}initSync(e){var t;if(this._subs&&(Pt("UrlSyncManager","Unregister previous scene state subscription",null==(t=this._sceneRoot)?void 0:t.state.key),this._subs.unsubscribe()),Pt("UrlSyncManager","init",e.state.key),this._sceneRoot=e,this._subs=new A.Subscription,this._subs.add(e.subscribeToEvent($,(e=>{this.handleSceneObjectStateChanged(e.payload.changedObject)}))),this._subs.add(e.subscribeToEvent(Pd,(e=>{this.handleNewObject(e.payload)}))),this._urlKeyMapper.clear(),this._lastLocation=this._locationService.getLocation(),this.handleNewObject(this._sceneRoot),this._options.updateUrlOnInit){const t=Es(e);(function(e,t){for(let n in e)if(!xs(t.getAll(n),e[n]))return!0;return!1})(t,this._paramsCache.getParams())&&this._locationService.partial(t,!0)}}cleanUp(e){this._sceneRoot===e&&(Pt("UrlSyncManager","Clean up"),this._subs&&(this._subs.unsubscribe(),this._subs=void 0,Pt("UrlSyncManager","Root deactived, unsub to state","same key",this._sceneRoot.state.key===e.state.key)),this._sceneRoot=void 0,this._lastLocation=void 0)}handleNewLocation(e){this._sceneRoot&&this._lastLocation!==e&&(Pt("UrlSyncManager","handleNewLocation"),this._lastLocation=e,Ss(this._sceneRoot,this._paramsCache.getParams(),this._urlKeyMapper))}handleNewObject(e){this._sceneRoot&&Ss(e,this._paramsCache.getParams(),this._urlKeyMapper)}handleSceneObjectStateChanged(e){var t,n;if(!e.urlSync)return;const r=e.urlSync.getUrlState(),o=this._locationService.getSearch(),a={};for(const[t,n]of Object.entries(r)){const r=this._urlKeyMapper.getUniqueKey(t,e);xs(o.getAll(r),n)||(a[r]=n)}if(Object.keys(a).length>0){const o=!0!==(null==(n=(t=e.urlSync).shouldCreateHistoryStep)?void 0:n.call(t,r));Pt("UrlSyncManager","onStateChange updating URL"),this._locationService.partial(a,o),this._lastLocation=this._locationService.getLocation()}}getUrlState(e){return Es(e)}}class Id{constructor(e){this.locationService=e,_d(this,Od,void 0),_d(this,Ad,void 0)}getParams(){const e=this.locationService.getLocation();return Rd(this,Ad)===e||(kd(this,Ad,e),kd(this,Od,new URLSearchParams(e.search))),Rd(this,Od)}}function jd(e,t={}){const n=(0,l.useLocation)(),r=lt(),[o,i]=(0,a.useState)(!1),s=function(e,t){return(0,a.useMemo)((()=>new Td({updateUrlOnInit:e.updateUrlOnInit,createBrowserHistorySteps:e.createBrowserHistorySteps},t)),[e.updateUrlOnInit,e.createBrowserHistorySteps,t])}(t,r);return(0,a.useEffect)((()=>(s.initSync(e),i(!0),()=>s.cleanUp(e))),[e,s]),(0,a.useEffect)((()=>{const e=r.getLocation(),t=e!==n?e:n;e!==n&&Pt("useUrlSync","latestLocation different from location"),s.handleNewLocation(t)}),[e,s,n,r]),o}function Fd({children:e,scene:t,updateUrlOnInit:n,createBrowserHistorySteps:r}){return jd(t,{updateUrlOnInit:n,createBrowserHistorySteps:r})?e:null}Od=new WeakMap,Ad=new WeakMap;class Md extends J{constructor(e){super(e),this.addActivationHandler((()=>{const e=function(e){const t=window.__grafanaSceneContext;return Pt("setWindowGrafanaScene","set window.__grafanaSceneContext",e),window.__grafanaSceneContext=e,()=>{window.__grafanaSceneContext===e&&(Pt("setWindowGrafanaScene","restore window.__grafanaSceneContext",t),window.__grafanaSceneContext=t)}}(this);return()=>{e()}}))}}Md.Component=function({model:e}){const{body:t,controls:n}=e.useState(),r=(0,rn.useStyles2)(Ld);return s().createElement("div",{className:r.container},n&&s().createElement("div",{className:r.controls},n.map((e=>s().createElement(e.Component,{key:e.state.key,model:e})))),s().createElement("div",{className:r.body},s().createElement(t.Component,{model:t})))};const Ld=e=>({container:(0,sn.css)({flexGrow:1,display:"flex",gap:e.spacing(2),minHeight:"100%",flexDirection:"column"}),body:(0,sn.css)({flexGrow:1,display:"flex",gap:e.spacing(1)}),controls:(0,sn.css)({display:"flex",gap:e.spacing(2),alignItems:"flex-end",flexWrap:"wrap"})});class Nd extends J{addItem(e){this.setState({items:this.state.items?[...this.state.items,e]:[e]})}setItems(e){this.setState({items:e})}}Nd.Component=function({model:e}){const{items:t=[]}=e.useState(),n=s().useRef(null);(0,a.useEffect)((()=>{n.current&&n.current.focus()}),[]);const r=e=>e.map((e=>{switch(e.type){case"divider":return s().createElement(rn.Menu.Divider,{key:e.text});case"group":return s().createElement(rn.Menu.Group,{key:e.text,label:e.text},e.subMenu?r(e.subMenu):void 0);default:return s().createElement(rn.Menu.Item,{key:e.text,label:e.text,icon:e.iconClassName,childItems:e.subMenu?r(e.subMenu):void 0,url:e.href,onClick:e.onClick,shortcut:e.shortcut,testId:an.components.Panels.Panel.menuItems(e.text)})}}));return s().createElement(rn.Menu,{ref:n},r(t))};class Bd extends J{}function Vd(e){return e instanceof Np}Bd.Component=function({model:e}){const{body:t}=e.useState(),n=e.parent;if(n&&!(n instanceof Rp)&&!Vd(n))throw new Error("SceneGridItem must be a child of SceneGridLayout or SceneGridRow");return t?s().createElement(t.Component,{model:t}):null};var zd=n(2548),$d=n.n(zd);var Ud=Object.defineProperty,Hd=Object.getOwnPropertySymbols,qd=Object.prototype.hasOwnProperty,Gd=Object.prototype.propertyIsEnumerable,Wd=(e,t,n)=>t in e?Ud(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Qd(){const e=(0,a.useRef)(void 0);return null!=e.current||(e.current=(0,fe.uniqueId)()),e.current}const Yd=s().forwardRef(((e,t)=>{var n=e,{children:r,onLoad:o,onChange:i,className:l}=n,c=((e,t)=>{var n={};for(var r in e)qd.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Hd)for(var r of Hd(e))t.indexOf(r)<0&&Gd.call(e,r)&&(n[r]=e[r]);return n})(n,["children","onLoad","onChange","className"]);const u=Qd(),{hideEmpty:d}=(0,rn.useStyles2)(Xd),[p,f]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),m=(0,a.useRef)(null);var b;(0,a.useImperativeHandle)(t,(()=>m.current)),b=()=>{Yd.addCallback(u,(e=>{!p&&e.isIntersecting&&(f(!0),null==o||o()),g(e.isIntersecting),null==i||i(e.isIntersecting)}));const e=m.current;return e&&Yd.observer.observe(e),()=>{e&&Yd.observer.unobserve(e),delete Yd.callbacks[u],0===Object.keys(Yd.callbacks).length&&Yd.observer.disconnect()}},(0,a.useEffect)(b,[]);const v=`${p?d:""} ${l}`;return s().createElement("div",((e,t)=>{for(var n in t||(t={}))qd.call(t,n)&&Wd(e,n,t[n]);if(Hd)for(var n of Hd(t))Gd.call(t,n)&&Wd(e,n,t[n]);return e})({id:u,ref:m,className:v},c),p&&("function"==typeof r?r({isInView:h}):r))}));function Xd(){return{hideEmpty:(0,sn.css)({"&:empty":{display:"none"}})}}Yd.displayName="LazyLoader",Yd.callbacks={},Yd.addCallback=(e,t)=>Yd.callbacks[e]=t,Yd.observer=new IntersectionObserver((e=>{for(const t of e)"function"==typeof Yd.callbacks[t.target.id]&&Yd.callbacks[t.target.id](t)}),{rootMargin:"100px"});var Kd=Object.defineProperty,Zd=Object.defineProperties,Jd=Object.getOwnPropertyDescriptors,ep=Object.getOwnPropertySymbols,tp=Object.prototype.hasOwnProperty,np=Object.prototype.propertyIsEnumerable,rp=(e,t,n)=>t in e?Kd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,op=(e,t)=>{for(var n in t||(t={}))tp.call(t,n)&&rp(e,n,t[n]);if(ep)for(var n of ep(t))np.call(t,n)&&rp(e,n,t[n]);return e},ap=(e,t)=>Zd(e,Jd(t)),ip=(e,t)=>{var n={};for(var r in e)tp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ep)for(var r of ep(e))t.indexOf(r)<0&&np.call(e,r)&&(n[r]=e[r]);return n};const sp=s().forwardRef(((e,t)=>{var n;const r=e,{grid:o,layoutItem:a,index:i,totalCount:l,isLazy:c,style:u,onLoad:d,onChange:p,children:f}=r,h=ip(r,["grid","layoutItem","index","totalCount","isLazy","style","onLoad","onChange","children"]),g=o.getSceneLayoutChild(a.i),m=null==(n=g.getClassName)?void 0:n.call(g),b=s().createElement(g.Component,{model:g,key:g.state.key});return c?s().createElement(Yd,ap(op({},h),{key:g.state.key,"data-griditem-key":g.state.key,className:(0,sn.cx)(m,e.className),style:u,ref:t}),b,f):s().createElement("div",ap(op({},h),{ref:t,key:g.state.key,"data-griditem-key":g.state.key,className:(0,sn.cx)(m,e.className),style:u}),b,f)}));function lp(e,t,n){e.current?t?e.current.classList.add("react-grid-layout--enable-move-animations"):e.current.classList.remove("react-grid-layout--enable-move-animations"):n||setTimeout((()=>lp(e,t,!0)),50)}sp.displayName="GridItemWrapper";const cp=s().forwardRef(((e,t)=>{var n=ip(e,["handleAxis"]);const r=(0,rn.useStyles2)(up);return s().createElement("div",ap(op({ref:t},n),{className:`${r} scene-resize-handle`}),s().createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M21 15L15 21M21 8L8 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}));function up(e){return(0,sn.css)({position:"absolute",bottom:0,right:0,zIndex:999,padding:e.spacing(1.5,0,0,1.5),color:e.colors.border.strong,cursor:"se-resize","&:hover":{color:e.colors.text.link},svg:{display:"block"},".react-resizable-hide &":{display:"none"}})}cp.displayName="ResizeHandle";var dp=Object.defineProperty,pp=Object.defineProperties,fp=Object.getOwnPropertyDescriptors,hp=Object.getOwnPropertySymbols,gp=Object.prototype.hasOwnProperty,mp=Object.prototype.propertyIsEnumerable,bp=(e,t,n)=>t in e?dp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var vp=Object.defineProperty,yp=Object.defineProperties,wp=Object.getOwnPropertyDescriptors,Ep=Object.getOwnPropertySymbols,Sp=Object.prototype.hasOwnProperty,Cp=Object.prototype.propertyIsEnumerable,xp=(e,t,n)=>t in e?vp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Op=(e,t)=>{for(var n in t||(t={}))Sp.call(t,n)&&xp(e,n,t[n]);if(Ep)for(var n of Ep(t))Cp.call(t,n)&&xp(e,n,t[n]);return e},Ap=(e,t)=>yp(e,wp(t));const Dp=class extends J{constructor(e){super(Ap(Op({},e),{children:_p(e.children)})),this._skipOnLayoutChange=!1,this._oldLayout=[],this._loadOldLayout=!1,this.onLayoutChange=e=>{if(this._skipOnLayoutChange)this._skipOnLayoutChange=!1;else{this._loadOldLayout&&(e=[...this._oldLayout],this._loadOldLayout=!1);for(const r of e){const e=this.getSceneLayoutChild(r.i),o={x:r.x,y:r.y,width:r.w,height:r.h};n=o,((t=e.state).x!==n.x||t.y!==n.y||t.width!==n.width||t.height!==n.height)&&e.setState(Op({},o))}var t,n;this.setState({children:_p(this.state.children)})}},this.onResizeStop=(e,t,n)=>{this.getSceneLayoutChild(n.i).setState({width:n.w,height:n.h})},this.onDragStart=e=>{this._oldLayout=[...e]},this.onDragStop=(e,t,n)=>{const r=this.getSceneLayoutChild(n.i);e=kp(e);for(let t=0;t<e.length;t++){const n=e[t],r=this.getSceneLayoutChild(n.i),o=r.state;(null==o?void 0:o.x)===n.x&&(null==o?void 0:o.y)===n.y||r.setState({x:n.x,y:n.y})}const o=e.findIndex((e=>e.i===n.i));let a=this.findGridItemSceneParent(e,o-1),i=this.state.children;r instanceof Np&&a instanceof Np&&(this.isRowDropValid(e,n,o)||(this._loadOldLayout=!0),a=this),a!==r.parent&&(i=this.moveChildTo(r,a)),this.setState({children:_p(i)}),this._skipOnLayoutChange=!0}}isDraggable(){var e;return null!=(e=this.state.isDraggable)&&e}getDragClass(){return`grid-drag-handle-${this.state.key}`}getDragClassCancel(){return"grid-drag-cancel"}toggleRow(e){var t,n;if(!e.state.isCollapsed)return e.setState({isCollapsed:!0}),void this.setState({});const r=e.state.children;if(0===r.length)return e.setState({isCollapsed:!1}),void this.setState({});const o=e.state.y,a=(null!=(t=r[0].state.y)?t:o)-(o+1);let i=o;for(const e of r){const t=Op({},e.state);t.y=null!=(n=t.y)?n:o,t.y-=a,t.y!==e.state.y&&e.setState(t),i=Math.max(i,Number(t.y)+Number(t.height))}const s=i-o-1;for(const t of this.state.children)if(t.state.y>o&&this.pushChildDown(t,s),Vd(t)&&t!==e)for(const e of t.state.children)e.state.y>o&&this.pushChildDown(e,s);e.setState({isCollapsed:!1}),this.setState({})}ignoreLayoutChange(e){this._skipOnLayoutChange=e}getSceneLayoutChild(e){for(const t of this.state.children){if(t.state.key===e)return t;if(t instanceof Np)for(const n of t.state.children)if(n.state.key===e)return n}throw new Error("Scene layout child not found for GridItem")}pushChildDown(e,t){e.setState({y:e.state.y+t})}findGridItemSceneParent(e,t){for(let n=t;n>=0;n--){const t=e[n],r=this.getSceneLayoutChild(t.i);if(r instanceof Np)return r.state.isCollapsed?this:r}return this}isRowDropValid(e,t,n){if(e[e.length-1].i===t.i)return!0;const r=this.getSceneLayoutChild(e[n+1].i);return r instanceof Np||r.parent instanceof Dp}moveChildTo(e,t){const n=e.parent;let r=this.state.children;const o=e.clone({key:e.state.key});if(n instanceof Np){const a=n.clone();if(a.setState({children:a.state.children.filter((t=>t.state.key!==e.state.key))}),r=r.map((e=>e===n?a:e)),t instanceof Np){const e=t.clone();e.setState({children:[...e.state.children,o]}),r=r.map((n=>n===t?e:n))}else r=[...r,o]}else if(!(t instanceof Dp)){r=r.filter((t=>t.state.key!==e.state.key));const n=t.clone();n.setState({children:[...n.state.children,o]}),r=r.map((e=>e===t?n:e))}return r}toGridCell(e){var t,n;const r=e.state;let o=null!=(t=r.x)?t:0,a=null!=(n=r.y)?n:0;const i=Number.isInteger(Number(r.width))?Number(r.width):4,s=Number.isInteger(Number(r.height))?Number(r.height):4;let l=e.state.isDraggable,c=e.state.isResizable;return e instanceof Np&&(l=!!e.state.isCollapsed,c=!1),{i:e.state.key,x:o,y:a,h:s,w:i,isResizable:c,isDraggable:l}}buildGridLayout(e,t){let n=[];for(const e of this.state.children)if(n.push(this.toGridCell(e)),e instanceof Np&&!e.state.isCollapsed)for(const t of e.state.children)n.push(this.toGridCell(t));return n=kp(n),this.state.UNSAFE_fitPanels&&(n=function(e,t){const n=t-32,r=Math.max(...e.map((e=>e.h+e.y)))/Math.floor(n/38);return e.map((e=>{return t=((e,t)=>{for(var n in t||(t={}))gp.call(t,n)&&bp(e,n,t[n]);if(hp)for(var n of hp(t))mp.call(t,n)&&bp(e,n,t[n]);return e})({},e),n={y:Math.round(e.y/r)||0,h:Math.round(e.h/r)||1},pp(t,fp(n));var t,n}))}(n,t)),e<768?(this._skipOnLayoutChange=!0,n.map((e=>Ap(Op({},e),{w:24})))):(this._skipOnLayoutChange=!1,n)}};let Rp=Dp;function _p(e){return e.forEach((e=>{e instanceof Np&&e.setState({children:_p(e.state.children)})})),[...e].sort(((e,t)=>e.state.y-t.state.y||e.state.x-t.state.x))}function kp(e){return[...e].sort(((e,t)=>e.y-t.y||e.x-t.x))}Rp.Component=function({model:e}){const{children:t,isLazy:n,isDraggable:r,isResizable:o}=e.useState(),[i,{width:l,height:c}]=zs(),u=(0,a.useRef)(null);return(0,a.useEffect)((()=>{lp(u,!!r)}),[r]),function(e){if(e.some((e=>void 0===e.state.height||void 0===e.state.width||void 0===e.state.x||void 0===e.state.y)))throw new Error("All children must have a size specified")}(t),s().createElement("div",{ref:i,style:{flex:"1 1 auto",position:"relative",zIndex:1,width:"100%"}},((t,a)=>{if(!t||!a)return null;const i=e.buildGridLayout(t,a);return s().createElement("div",{ref:u,style:{width:`${t}px`,height:"100%"},className:"react-grid-layout"},s().createElement($d(),{width:t,isDraggable:r&&t>768,isResizable:null!=o&&o,containerPadding:[0,0],useCSSTransforms:!0,margin:[8,8],cols:24,rowHeight:30,draggableHandle:`.grid-drag-handle-${e.state.key}`,draggableCancel:".grid-drag-cancel",layout:i,onDragStart:e.onDragStart,onDragStop:e.onDragStop,onResizeStop:e.onResizeStop,onLayoutChange:e.onLayoutChange,isBounded:!1,resizeHandle:s().createElement(cp,null)},i.map(((t,r)=>s().createElement(sp,{key:t.i,grid:e,layoutItem:t,index:r,isLazy:n,totalCount:i.length})))))})(l,c))};var Pp=Object.defineProperty,Tp=Object.defineProperties,Ip=Object.getOwnPropertyDescriptors,jp=Object.getOwnPropertySymbols,Fp=Object.prototype.hasOwnProperty,Mp=Object.prototype.propertyIsEnumerable,Lp=(e,t,n)=>t in e?Pp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Np extends J{constructor(e){var t;super((t=((e,t)=>{for(var n in t||(t={}))Fp.call(t,n)&&Lp(e,n,t[n]);if(jp)for(var n of jp(t))Mp.call(t,n)&&Lp(e,n,t[n]);return e})({children:e.children||[],isCollapsible:e.isCollapsible||!0,title:e.title||""},e),Tp(t,Ip({x:0,height:1,width:24})))),this._variableDependency=new Ui(this,{statePaths:["title"]}),this.onCollapseToggle=()=>{this.state.isCollapsible&&this.getGridLayout().toggleRow(this)}}getGridLayout(){const e=this.parent;if(!(e&&e instanceof Rp))throw new Error("SceneGridRow must be a child of SceneGridLayout");return e}getUrlState(){return{rowc:this.state.isCollapsed?"1":"0"}}updateFromUrl(e){null!=e.rowc&&e.rowc!==this.getUrlState().rowc&&this.onCollapseToggle()}}Np.Component=function({model:e}){const t=(0,rn.useStyles2)(Bp),{isCollapsible:n,isCollapsed:r,title:o,actions:a,children:i}=e.useState(),l=e.getGridLayout(),c=l.getDragClass(),u=l.isDraggable(),d=i?i.length:0,p=1===d?"panel":"panels";return s().createElement("div",{className:(0,sn.cx)(t.row,r&&t.rowCollapsed)},s().createElement("div",{className:t.rowTitleAndActionsGroup},s().createElement("button",{onClick:e.onCollapseToggle,className:t.rowTitleButton,"aria-label":r?"Expand row":"Collapse row","data-testid":an.components.DashboardRow.title(vs.interpolate(e,o,void 0,"text"))},n&&s().createElement(rn.Icon,{name:r?"angle-right":"angle-down"}),s().createElement("span",{className:t.rowTitle,role:"heading"},vs.interpolate(e,o,void 0,"text"))),s().createElement("span",{className:(0,sn.cx)(t.panelCount,r&&t.panelCountCollapsed)},"(",d," ",p,")"),a&&s().createElement("div",{className:t.rowActions},s().createElement(a.Component,{model:a}))),u&&r&&s().createElement("div",{className:(0,sn.cx)(t.dragHandle,c)},s().createElement(rn.Icon,{name:"draggabledots"})))};const Bp=e=>({row:(0,sn.css)({width:"100%",height:"30px",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowTitleButton:(0,sn.css)({display:"flex",alignItems:"center",cursor:"pointer",background:"transparent",border:"none",minWidth:0,gap:e.spacing(1)}),rowCollapsed:(0,sn.css)({borderBottom:`1px solid ${e.colors.border.weak}`}),rowTitle:(0,sn.css)({fontSize:e.typography.h5.fontSize,fontWeight:e.typography.fontWeightMedium,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",flexGrow:1,minWidth:0}),collapsedInfo:(0,sn.css)({fontSize:e.typography.bodySmall.fontSize,color:e.colors.text.secondary,display:"flex",alignItems:"center",flexGrow:1}),rowTitleAndActionsGroup:(0,sn.css)({display:"flex",minWidth:0,"&:hover, &:focus-within":{"& > div":{opacity:1}}}),rowActions:(0,sn.css)({display:"flex",whiteSpace:"nowrap",opacity:0,transition:"200ms opacity ease-in 200ms","&:hover, &:focus-within":{opacity:1}}),dragHandle:(0,sn.css)({display:"flex",padding:e.spacing(0,1),alignItems:"center",justifyContent:"flex-end",cursor:"move",color:e.colors.text.secondary,"&:hover":{color:e.colors.text.primary}}),panelCount:(0,sn.css)({whiteSpace:"nowrap",paddingLeft:e.spacing(2),color:e.colors.text.secondary,fontStyle:"italic",fontSize:e.typography.size.sm,fontWeight:"normal",display:"none",lineHeight:"30px"}),panelCountCollapsed:(0,sn.css)({display:"inline-block"})});class Vp extends J{constructor(){super(...arguments),this.onToggle=()=>{this.setState({isCollapsed:!this.state.isCollapsed})},this.onRemove=()=>{const e=this.parent;"body"in e.state&&e.setState({body:void 0})}}}Vp.Component=function({model:e}){const{title:t,isCollapsed:n,canCollapse:r,canRemove:o,body:a,controls:i}=e.useState(),l=(0,rn.useStyles2)(Bp),c=(0,rn.useStyles2)(zp),u=(null!=i?i:[]).map((e=>s().createElement(e.Component,{key:e.state.key,model:e})));return o&&u.push(s().createElement(rn.ToolbarButton,{icon:"times",variant:"default",onClick:e.onRemove,key:"remove-button","aria-label":"Remove scene"})),s().createElement("div",{className:c.wrapper},s().createElement("div",{className:(0,sn.cx)(c.row,n&&c.rowCollapsed)},s().createElement("button",{onClick:e.onToggle,className:l.rowTitleButton,"aria-label":n?"Expand scene":"Collapse scene"},r&&s().createElement(rn.Icon,{name:n?"angle-right":"angle-down"}),s().createElement("span",{className:l.rowTitle,role:"heading"},vs.interpolate(e,t,void 0,"text"))),s().createElement("div",{className:c.actions},u)),!n&&s().createElement(a.Component,{model:a}))};const zp=e=>({wrapper:(0,sn.css)({display:"flex",flexDirection:"column",flexGrow:1,gap:e.spacing(1)}),row:(0,sn.css)({width:"100%",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowCollapsed:(0,sn.css)({borderBottom:`1px solid ${e.colors.border.weak}`,paddingBottom:e.spacing(1)}),actions:(0,sn.css)({display:"flex",alignItems:"center",gap:e.spacing(1),justifyContent:"flex-end",flexGrow:1})});class $p extends J{constructor(){super(...arguments),this._variableDependency=new Ui(this,{statePaths:["text"]})}}$p.Component=({model:e})=>{const{text:t,fontSize:n=20,align:r="left",key:o,spacing:a}=e.useState(),i=(0,rn.useTheme2)(),l=(0,sn.css)({fontSize:n,display:"flex",flexGrow:1,alignItems:"center",padding:a?i.spacing(a,0):void 0,justifyContent:r});return s().createElement("div",{className:l,"data-testid":o},vs.interpolate(e,t))};class Up extends J{}Up.Component=({model:e})=>{const t=e.useState();return s().createElement(rn.ToolbarButton,{onClick:t.onClick,icon:t.icon})};class Hp extends J{}Hp.Component=({model:e})=>{const t=e.useState();return s().createElement("div",{style:{display:"flex"}},t.label&&s().createElement(tr,{label:t.label}),s().createElement(rn.Input,{defaultValue:t.value,width:8,onBlur:t=>{e.state.onChange(parseInt(t.currentTarget.value,10))}}))};class qp extends J{constructor(){super(...arguments),this.onZoom=()=>{const e=vs.getTimeRange(this),t=function(e){const t=e.to.valueOf()-e.from.valueOf(),n=e.to.valueOf()-t/2,r=0===t?3e4:2*t,o=n+r/2,a=n-r/2;return{from:(0,c.toUtc)(a),to:(0,c.toUtc)(o),raw:{from:(0,c.toUtc)(a),to:(0,c.toUtc)(o)}}}(e.state.value);e.onTimeRangeChange(t)},this.onChangeFiscalYearStartMonth=e=>{vs.getTimeRange(this).setState({fiscalYearStartMonth:e})},this.toAbsolute=()=>{const e=vs.getTimeRange(this),t=e.state.value,n=(0,c.toUtc)(t.from),r=(0,c.toUtc)(t.to);e.onTimeRangeChange({from:n,to:r,raw:{from:n,to:r}})},this.onMoveBackward=()=>{const e=vs.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(Wp(Gp.Backward,t,Date.now()))},this.onMoveForward=()=>{const e=vs.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(Wp(Gp.Forward,t,Date.now()))}}}qp.Component=function({model:e}){const{hidePicker:t,isOnCanvas:n}=e.useState(),r=vs.getTimeRange(e),o=r.getTimeZone(),i=r.useState(),[l,u]=function(e,t,n){if(!Ns)return[t,Ls,Ls];if(!e)throw new Error("useLocalStorage key may not be falsy");var r=n?n.raw?function(e){return e}:n.deserializer:JSON.parse,o=(0,a.useRef)((function(e){try{var o=n?n.raw?String:n.serializer:JSON.stringify,a=localStorage.getItem(e);return null!==a?r(a):(t&&localStorage.setItem(e,o(t)),t)}catch(e){return t}})),i=(0,a.useState)((function(){return o.current(e)})),s=i[0],l=i[1];(0,a.useLayoutEffect)((function(){return l(o.current(e))}),[e]);var c=(0,a.useCallback)((function(t){try{var o,a="function"==typeof t?t(s):t;if(void 0===a)return;o=n?n.raw?"string"==typeof a?a:JSON.stringify(a):n.serializer?n.serializer(a):JSON.stringify(a):JSON.stringify(a),localStorage.setItem(e,o),l(r(o))}catch(e){}}),[e,l]),u=(0,a.useCallback)((function(){try{localStorage.removeItem(e),l(void 0)}catch(e){}}),[e,l]);return[s,c,u]}(Qp,[],{raw:!1,serializer:Xp,deserializer:Yp});return t?null:s().createElement(rn.TimeRangePicker,{isOnCanvas:null==n||n,value:i.value,onChange:e=>{var t;t=e,((0,c.isDateTime)(t.raw.from)||(0,c.isDateTime)(t.raw.to))&&u([e,...null!=l?l:[]]),r.onTimeRangeChange(e)},timeZone:o,fiscalYearStartMonth:i.fiscalYearStartMonth,onMoveBackward:e.onMoveBackward,onMoveForward:e.onMoveForward,onZoom:e.onZoom,onChangeTimeZone:r.onTimeZoneChange,onChangeFiscalYearStartMonth:e.onChangeFiscalYearStartMonth,weekStart:i.weekStart,history:l})};var Gp=(e=>(e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e))(Gp||{});function Wp(e,t,n){const r=t.to.valueOf(),o=t.from.valueOf(),a=(r-o)/2;let i,s;0===e?(i=o-a,s=r-a):(i=o+a,s=r+a,s>n&&r<n&&(s=n,i=o));const l=(0,c.toUtc)(i),u=(0,c.toUtc)(s);return{from:l,to:u,raw:{from:l,to:u}}}const Qp="grafana.dashboard.timepicker.history";function Yp(e){return JSON.parse(e).map((e=>c.rangeUtil.convertRawToRange(e,"utc",void 0,"YYYY-MM-DD HH:mm:ss")))}function Xp(e){return JSON.stringify((t=e.map((e=>({from:"string"==typeof e.raw.from?e.raw.from:e.raw.from.toISOString(),to:"string"==typeof e.raw.to?e.raw.to:e.raw.to.toISOString()}))),(0,fe.uniqBy)(t,(e=>e.from+e.to)).slice(0,4)));var t}var Kp=Object.defineProperty,Zp=Object.defineProperties,Jp=Object.getOwnPropertyDescriptors,ef=Object.getOwnPropertySymbols,tf=Object.prototype.hasOwnProperty,nf=Object.prototype.propertyIsEnumerable,rf=(e,t,n)=>t in e?Kp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const of=["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"];class af extends J{constructor(e){var t,n,r,o,a;super((o=((e,t)=>{for(var n in t||(t={}))tf.call(t,n)&&rf(e,n,t[n]);if(ef)for(var n of ef(t))nf.call(t,n)&&rf(e,n,t[n]);return e})({refresh:""},e),a={autoValue:void 0,autoEnabled:null==(t=e.autoEnabled)||t,autoMinInterval:null!=(n=e.autoMinInterval)?n:u.config.minRefreshInterval,intervals:(null!=(r=e.intervals)?r:of).filter((t=>{var n;const r=null!=(n=e.minRefreshInterval)?n:u.config.minRefreshInterval;try{return!r||c.rangeUtil.intervalToMs(t)>=c.rangeUtil.intervalToMs(r)}catch(e){return!1}}))},Zp(o,Jp(a)))),this._urlSync=new Oe(this,{keys:["refresh"]}),this._autoRefreshBlocked=!1,this.onRefresh=()=>{const e=vs.getQueryController(this);if(null==e?void 0:e.state.isRunning)return void e.cancelAll();const t=vs.getTimeRange(this);this._intervalTimer&&clearInterval(this._intervalTimer),t.onRefresh(),this.setupIntervalTimer()},this.onIntervalChanged=e=>{this.setState({refresh:e}),this.setupIntervalTimer()},this.setupAutoTimeRangeListener=()=>vs.getTimeRange(this).subscribeToState(((e,t)=>{e.from===t.from&&e.to===t.to||this.setupIntervalTimer()})),this.calculateAutoRefreshInterval=()=>{var e;const t=vs.getTimeRange(this),n=null!=(e=null==window?void 0:window.innerWidth)?e:2e3;return c.rangeUtil.calculateInterval(t.state.value,n,this.state.autoMinInterval)},this.setupIntervalTimer=()=>{var e;const t=vs.getTimeRange(this),{refresh:n,intervals:r}=this.state;if((this._intervalTimer||""===n)&&clearInterval(this._intervalTimer),""===n)return;if(n!==rn.RefreshPicker.autoOption.value&&r&&!r.includes(n))return;let o;if(null==(e=this._autoTimeRangeListener)||e.unsubscribe(),n===rn.RefreshPicker.autoOption.value){const e=this.calculateAutoRefreshInterval();o=e.intervalMs,this._autoTimeRangeListener=this.setupAutoTimeRangeListener(),e.interval!==this.state.autoValue&&this.setState({autoValue:e.interval})}else o=c.rangeUtil.intervalToMs(n);this._intervalTimer=setInterval((()=>{this.isTabVisible()?t.onRefresh():this._autoRefreshBlocked=!0}),o)},this.addActivationHandler((()=>{this.setupIntervalTimer();const e=()=>{this._autoRefreshBlocked&&"visible"===document.visibilityState&&(this._autoRefreshBlocked=!1,this.onRefresh())};return document.addEventListener("visibilitychange",e),()=>{var t;this._intervalTimer&&clearInterval(this._intervalTimer),document.removeEventListener("visibilitychange",e),null==(t=this._autoTimeRangeListener)||t.unsubscribe()}}))}getUrlState(){let e=this.state.refresh;return"string"==typeof e&&0!==e.length||(e=void 0),{refresh:e}}updateFromUrl(e){const{intervals:t}=this.state;let n=e.refresh;"string"==typeof n&&function(e){try{return c.rangeUtil.describeInterval(e).count>0}catch(e){return!1}}(n)&&((null==t?void 0:t.includes(n))?this.setState({refresh:n}):this.setState({refresh:t?t[0]:void 0}))}isTabVisible(){return void 0===document.visibilityState||"visible"===document.visibilityState}}af.Component=function({model:e}){var t;const{refresh:n,intervals:r,autoEnabled:o,autoValue:a,isOnCanvas:i,primary:l,withText:c}=e.useState(),u=function(e){const t=vs.getQueryController(e);return!!t&&t.useState().isRunning}(e);let d,p,f=n===(null==(t=rn.RefreshPicker.autoOption)?void 0:t.value)?a:c?"Refresh":void 0;return u&&(d="Cancel all queries",c&&(f="Cancel")),c&&(p="96px"),s().createElement(rn.RefreshPicker,{showAutoInterval:o,value:n,intervals:r,tooltip:d,width:p,text:f,onRefresh:e.onRefresh,primary:l,onIntervalChanged:e.onIntervalChanged,isLoading:u,isOnCanvas:null==i||i})};const sf=e=>`${e}-compare`;var lf=Object.defineProperty,cf=Object.defineProperties,uf=Object.getOwnPropertyDescriptors,df=Object.getOwnPropertySymbols,pf=Object.prototype.hasOwnProperty,ff=Object.prototype.propertyIsEnumerable,hf=(e,t,n)=>t in e?lf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gf=(e,t)=>{for(var n in t||(t={}))pf.call(t,n)&&hf(e,n,t[n]);if(df)for(var n of df(t))ff.call(t,n)&&hf(e,n,t[n]);return e},mf=(e,t)=>cf(e,uf(t));const bf="__previousPeriod",vf="__noPeriod",yf={label:"Previous period",value:bf},wf={label:"No comparison",value:vf},Ef=[{label:"Day before",value:"24h"},{label:"Week before",value:"1w"},{label:"Month before",value:"1M"}];class Sf extends J{constructor(e){super(gf({compareOptions:Ef},e)),this._urlSync=new Oe(this,{keys:["compareWith"]}),this._onActivate=()=>{const e=vs.getTimeRange(this);this.setState({compareOptions:this.getCompareOptions(e.state.value)}),this._subs.add(e.subscribeToState((e=>{const t=this.getCompareOptions(e.value),n={compareOptions:t};Boolean(this.state.compareWith)&&!t.find((({value:e})=>e===this.state.compareWith))&&(n.compareWith=bf),this.setState(n)})))},this.getCompareOptions=e=>{const t=Math.ceil(e.to.diff(e.from)),n=Ef.findIndex((({value:e})=>c.rangeUtil.intervalToMs(e)>=t));return[wf,yf,...Ef.slice(n).map((({label:e,value:t})=>({label:e,value:t})))]},this.onCompareWithChanged=e=>{e===vf?this.onClearCompare():this.setState({compareWith:e})},this.onClearCompare=()=>{this.setState({compareWith:void 0})},this.addActivationHandler(this._onActivate)}getExtraQueries(e){const t=[],n=this.getCompareTimeRange(e.range);if(!n)return t;const r=e.targets.filter((e=>!1!==e.timeRangeCompare));return r.length&&t.push({req:mf(gf({},e),{targets:r,range:n}),processor:Cf}),t}shouldRerun(e,t,n){return e.compareWith!==t.compareWith&&void 0!==n.find((e=>!1!==e.timeRangeCompare))}getCompareTimeRange(e){let t,n;if(this.state.compareWith){if(this.state.compareWith===bf){const r=e.to.diff(e.from);t=(0,c.dateTime)(e.from).subtract(r),n=(0,c.dateTime)(e.to).subtract(r)}else t=(0,c.dateTime)(e.from).subtract(c.rangeUtil.intervalToMs(this.state.compareWith)),n=(0,c.dateTime)(e.to).subtract(c.rangeUtil.intervalToMs(this.state.compareWith));return{from:t,to:n,raw:{from:t,to:n}}}}getUrlState(){return{compareWith:this.state.compareWith}}updateFromUrl(e){if(!e.compareWith)return;const t=De(e.compareWith);t&&(this.getCompareOptions(vs.getTimeRange(this).state.value).find((({value:e})=>e===t))?this.setState({compareWith:t}):this.setState({compareWith:"__previousPeriod"}))}}Sf.Component=function({model:e}){var t;const n=(0,rn.useStyles2)(xf),{compareWith:r,compareOptions:o}=e.useState(),[a,i]=s().useState(r),l=null!=(t=o.find((({value:e})=>e===a)))?t:yf,c=o.find((({value:e})=>e===r)),u=Boolean(c),d=()=>{u?(i(r),e.onClearCompare()):u||e.onCompareWithChanged(l.value)};return s().createElement(rn.ButtonGroup,null,s().createElement(rn.ToolbarButton,{variant:"canvas",tooltip:"Enable time frame comparison",onClick:e=>{e.stopPropagation(),e.preventDefault(),d()}},s().createElement(rn.Checkbox,{label:" ",value:u,onClick:d}),"Comparison"),u?s().createElement(rn.ButtonSelect,{variant:"canvas",value:c,options:o,onChange:t=>{e.onCompareWithChanged(t.value)}}):s().createElement(rn.ToolbarButton,{className:n.previewButton,disabled:!0,variant:"canvas",isOpen:!1},l.label))};const Cf=(e,t)=>{const n=t.timeRange.from.diff(e.timeRange.from);return t.series.forEach((e=>{e.refId=sf(e.refId||""),e.meta=mf(gf({},e.meta),{timeCompare:{diffMs:n,isTimeShiftQuery:!0}}),e.fields.forEach((e=>(e.type===c.FieldType.time&&(e.values=e.values.map((e=>n<0?e-n:e+n))),e.config=mf(gf({},e.config),{color:{mode:"fixed",fixedColor:u.config.theme.palette.gray60}}),e)))})),(0,A.of)(t)};function xf(e){return{previewButton:(0,sn.css)({"&:disabled":{border:`1px solid ${e.colors.secondary.border}`,color:e.colors.text.disabled,opacity:1}})}}class Of extends J{constructor(e){super(e),this.addActivationHandler((()=>{const e=vs.getData(this);this._subs.add(e.subscribeToState((e=>{var t;(null==(t=e.data)?void 0:t.state)===c.LoadingState.Done&&this.performRepeat(e.data)}))),e.state.data&&this.performRepeat(e.state.data)}))}performRepeat(e){const t=[];for(let n=0;n<e.series.length;n++){const r=this.state.getLayoutChild(e,e.series[n],n);t.push(r)}this.state.body.setState({children:t})}}Of.Component=({model:e})=>{const{body:t}=e.useState();return s().createElement(t.Component,{model:t})};class Af extends J{constructor(e){super(e),this._variableDependency=new Ui(this,{variableNames:[this.state.variableName],onVariableUpdateCompleted:()=>this.performRepeat()}),this.addActivationHandler((()=>this.performRepeat()))}performRepeat(){if(this._variableDependency.hasDependencyInLoadingState())return;const e=vs.lookupVariable(this.state.variableName,this);if(!(e instanceof ct))return void console.error("SceneByVariableRepeater: variable is not a MultiValueVariable");const t=function(e){const{value:t,text:n,options:r}=e.state;return e.hasAllValue()?r:Array.isArray(t)&&Array.isArray(n)?t.map(((e,t)=>({value:e,label:n[t]}))):[{value:t,label:n}]}(e),n=[];for(const e of t){const t=this.state.getLayoutChild(e);n.push(t)}this.state.body.setState({children:n})}}Af.Component=({model:e})=>{const{body:t}=e.useState();return s().createElement(t.Component,{model:t})};const Df=class extends J{constructor(){super({})}get Component(){return Df.Component}};let Rf=Df;Rf.Component=e=>s().createElement("div",{style:{flexGrow:1}});class _f extends J{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}_f.Component=function({model:e,parentState:t}){const{children:n,isHidden:r}=e.useState(),o=function(e,t){return(0,a.useMemo)((()=>{var n,r,o,a,i,s,l,c,d,p;const{direction:f="row",wrap:h}=e,g=u.config.theme2,m={};return t?Pf(m,e,t):(m.display="flex",m.flexGrow=1,m.minWidth=e.minWidth,m.minHeight=e.minHeight),m.flexDirection=f,m.gap="8px",m.flexWrap=h||"nowrap",m.alignContent="baseline",m.minWidth=m.minWidth||0,m.minHeight=m.minHeight||0,m[g.breakpoints.down("md")]={flexDirection:null!=(r=null==(n=e.md)?void 0:n.direction)?r:"column",maxWidth:null!=(a=null==(o=e.md)?void 0:o.maxWidth)?a:"unset",maxHeight:null!=(s=null==(i=e.md)?void 0:i.maxHeight)?s:"unset",height:null!=(c=null==(l=e.md)?void 0:l.height)?c:"unset",width:null!=(p=null==(d=e.md)?void 0:d.width)?p:"unset"},(0,sn.css)(m)}),[t,e])}(e.state,t);return r?null:s().createElement("div",{className:o},n.map((t=>{const n=t.Component;return s().createElement(n,{key:t.state.key,model:t,parentState:e.state})})))};class kf extends J{}function Pf(e,t,n){var r,o,a;const i=null!=(r=n.direction)?r:"row",{xSizing:s="fill",ySizing:l="fill"}=t;return e.display="flex",e.position="relative",e.flexDirection=i,"column"===i?(t.height?e.height=t.height:e.flexGrow="fill"===l?1:0,t.width?e.width=t.width:e.alignSelf="fill"===s?"stretch":"flex-start"):(t.height?e.height=t.height:e.alignSelf="fill"===l?"stretch":"flex-start",t.width?e.width=t.width:e.flexGrow="fill"===s?1:0),e.minWidth=t.minWidth,e.maxWidth=t.maxWidth,e.maxHeight=t.maxHeight,e.minHeight=null!=(o=t.minHeight)?o:n.minHeight,e.height=null!=(a=t.height)?a:n.height,e}kf.Component=function({model:e,parentState:t}){if(!t)throw new Error("SceneFlexItem must be a child of SceneFlexLayout");const{body:n,isHidden:r}=e.useState(),o=function(e,t){return(0,a.useMemo)((()=>{var n,r,o,a,i,s,l,c,d,p;const f=u.config.theme2,h=Pf({},e,t);return h[f.breakpoints.down("md")]={maxWidth:null!=(r=null==(n=e.md)?void 0:n.maxWidth)?r:"unset",maxHeight:null!=(a=null==(o=e.md)?void 0:o.maxHeight)?a:"unset",height:null!=(l=null==(i=e.md)?void 0:i.height)?l:null==(s=t.md)?void 0:s.height,width:null!=(p=null==(c=e.md)?void 0:c.width)?p:null==(d=t.md)?void 0:d.width},(0,sn.css)(h)}),[e,t])}(e.state,t);return!n||r?null:s().createElement("div",{className:o},s().createElement(n.Component,{model:n}))};var Tf=Object.defineProperty,If=Object.getOwnPropertySymbols,jf=Object.prototype.hasOwnProperty,Ff=Object.prototype.propertyIsEnumerable,Mf=(e,t,n)=>t in e?Tf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Lf extends J{constructor(e){var t,n;super(((e,t)=>{for(var n in t||(t={}))jf.call(t,n)&&Mf(e,n,t[n]);if(If)for(var n of If(t))Ff.call(t,n)&&Mf(e,n,t[n]);return e})({rowGap:1,columnGap:1,templateColumns:"repeat(auto-fit, minmax(400px, 1fr))",autoRows:null!=(t=e.autoRows)?t:"320px",children:null!=(n=e.children)?n:[]},e))}isDraggable(){return!1}}Lf.Component=function({model:e}){const{children:t,isHidden:n,isLazy:r}=e.useState(),o=(i=e.state,(0,a.useMemo)((()=>{var e,t,n,r,o,a,s,l,c,d,p;const f={},h=u.config.theme2;return f.display="grid",f.gridTemplateColumns=i.templateColumns,f.gridTemplateRows=i.templateRows||"unset",f.gridAutoRows=i.autoRows||"unset",f.rowGap=h.spacing(null!=(e=i.rowGap)?e:1),f.columnGap=h.spacing(null!=(t=i.columnGap)?t:1),f.justifyItems=i.justifyItems||"unset",f.alignItems=i.alignItems||"unset",f.justifyContent=i.justifyContent||"unset",f.flexGrow=1,i.md&&(f[h.breakpoints.down("md")]={gridTemplateRows:null==(n=i.md)?void 0:n.templateRows,gridTemplateColumns:null==(r=i.md)?void 0:r.templateColumns,rowGap:i.md.rowGap?h.spacing(null!=(a=null==(o=i.md)?void 0:o.rowGap)?a:1):void 0,columnGap:i.md.columnGap?h.spacing(null!=(l=null==(s=i.md)?void 0:s.rowGap)?l:1):void 0,justifyItems:null==(c=i.md)?void 0:c.justifyItems,alignItems:null==(d=i.md)?void 0:d.alignItems,justifyContent:null==(p=i.md)?void 0:p.justifyContent}),(0,sn.css)(f)}),[i]));var i;return n?null:s().createElement("div",{className:o},t.map((t=>{const n=t.Component;return r?s().createElement(Yd,{key:t.state.key,className:o},s().createElement(n,{key:t.state.key,model:t,parentState:e.state})):s().createElement(n,{key:t.state.key,model:t,parentState:e.state})})))};class Nf extends J{}Nf.Component=function({model:e,parentState:t}){if(!t)throw new Error("SceneCSSGridItem must be a child of SceneCSSGridLayout");const{body:n,isHidden:r}=e.useState(),o=(i=e.state,(0,a.useMemo)((()=>{const e={};return e.gridColumn=i.gridColumn||"unset",e.gridRow=i.gridRow||"unset",e.position="relative",(0,sn.css)(e)}),[i]));var i;return!n||r?null:s().createElement("div",{className:o},s().createElement(n.Component,{model:n}))};var Bf=Object.defineProperty,Vf=Object.getOwnPropertySymbols,zf=Object.prototype.hasOwnProperty,$f=Object.prototype.propertyIsEnumerable,Uf=(e,t,n)=>t in e?Bf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hf=(e,t)=>{for(var n in t||(t={}))zf.call(t,n)&&Uf(e,n,t[n]);if(Vf)for(var n of Vf(t))$f.call(t,n)&&Uf(e,n,t[n]);return e};const qf=new Set(["ArrowUp","ArrowDown"]),Gf=new Set(["ArrowLeft","ArrowRight"]),Wf={row:{dim:"width",axis:"clientX",min:"minWidth",max:"maxWidth"},column:{dim:"height",axis:"clientY",min:"minHeight",max:"maxHeight"}};function Qf({direction:e="row",handleSize:t=32,initialSize:n="auto",primaryPaneStyles:r,secondaryPaneStyles:o,onDragFinished:i,children:l}){const c=s().Children.toArray(l),u=(0,a.useRef)(null),d=(0,a.useRef)(null),p=(0,a.useRef)(null),f=(0,a.useRef)(null),h=(0,a.useRef)(null),g=(0,a.useRef)("1fr"),m=(0,a.useRef)(void 0),b=(0,a.useRef)(void 0),v=Wf[e].dim,y=Wf[e].axis,w=Wf[e].min,E=Wf[e].max;!function(e,t,n=0,r){const o=(0,fe.throttle)(t,n);(0,a.useLayoutEffect)((()=>{if(!e)return;const t=new ResizeObserver(o);return t.observe(e,{box:"device-pixel-content-box"}),()=>t.disconnect()}),r)}(f.current,(e=>{for(const t of e){if(!t.target.isSameNode(f.current))return;const e=d.current.getBoundingClientRect()[v],n=Xf(d.current);u.current.ariaValueNow=`${(0,fe.clamp)((e-n[w])/(n[E]-n[w])*100,0,100)}`}}),500,[E,w,e,v]);const S=(0,a.useRef)(null),C=(0,a.useCallback)((e=>{g.current=d.current.getBoundingClientRect()[v],h.current=f.current.getBoundingClientRect()[v],S.current=e[y],u.current.setPointerCapture(e.pointerId),m.current=Xf(d.current),b.current=void 0}),[v,y]),x=(0,a.useCallback)((e=>{if(null!==S.current&&"1fr"!==g.current){const n=e[y]-S.current,r=m.current,o=(0,fe.clamp)(g.current+n,r[w],r[E]),a=o/(h.current-t);d.current.style.flexGrow=`${a}`,p.current.style.flexGrow=""+(1-a);const i=(0,fe.clamp)((o-r[w])/(r[E]-r[w])*100,0,100);u.current.ariaValueNow=`${i}`}}),[t,y,w,E]),O=(0,a.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),u.current.releasePointerCapture(e.pointerId),S.current=null,null==i||i(parseFloat(d.current.style.flexGrow))}),[i]),A=(0,a.useRef)(new Set),D=(0,a.useRef)(null),R=(0,a.useCallback)((n=>{var r;if(0===A.current.size)return void(D.current=null);if("1fr"===g.current)return;const o=.3*(n-(null!=(r=D.current)?r:n));let a=0;"row"===e?(A.current.has("ArrowLeft")&&(a-=o),A.current.has("ArrowRight")&&(a+=o)):(A.current.has("ArrowUp")&&(a-=o),A.current.has("ArrowDown")&&(a+=o));const i=m.current,s=d.current.getBoundingClientRect()[v],l=(0,fe.clamp)(s+a,i[w],i[E]),c=l/(h.current-t);d.current.style.flexGrow=`${c}`,p.current.style.flexGrow=""+(1-c);const f=(l-i[w])/(i[E]-i[w])*100;u.current.ariaValueNow=`${(0,fe.clamp)(f,0,100)}`,D.current=n,window.requestAnimationFrame(R)}),[e,t,w,E,v]),_=(0,a.useCallback)((n=>{if("Enter"!==n.key){if("Home"===n.key){m.current=Xf(d.current),h.current=f.current.getBoundingClientRect()[v];const e=m.current[w]/(h.current-t);return d.current.style.flexGrow=`${e}`,p.current.style.flexGrow=""+(1-e),void(u.current.ariaValueNow="0")}if("End"===n.key){m.current=Xf(d.current),h.current=f.current.getBoundingClientRect()[v];const e=m.current[E]/(h.current-t);return d.current.style.flexGrow=`${e}`,p.current.style.flexGrow=""+(1-e),void(u.current.ariaValueNow="100")}if(("column"===e&&qf.has(n.key)||"row"===e&&Gf.has(n.key))&&!A.current.has(n.key)&&(b.current=void 0,n.preventDefault(),n.stopPropagation(),g.current=d.current.getBoundingClientRect()[v],h.current=f.current.getBoundingClientRect()[v],m.current=Xf(d.current),!A.current.has(n.key))){const e=0===A.current.size;A.current.add(n.key),e&&window.requestAnimationFrame(R)}}else void 0===b.current?(b.current=d.current.style.flexGrow,d.current.style.flexGrow="0",p.current.style.flexGrow="1"):(d.current.style.flexGrow=b.current,p.current.style.flexGrow=""+(1-parseFloat(b.current)),b.current=void 0)}),[e,R,t,E,v,w]),k=(0,a.useCallback)((t=>{"row"===e&&!Gf.has(t.key)||"column"===e&&!qf.has(t.key)||(A.current.delete(t.key),null==i||i(parseFloat(d.current.style.flexGrow)))}),[e,i]),P=(0,a.useCallback)((()=>{d.current.style.flexGrow="0.5",p.current.style.flexGrow="0.5";const e=Xf(d.current);m.current=e,g.current=d.current.getBoundingClientRect()[v],u.current.ariaValueNow=""+(g.current-e[w])/(e[E]-e[w])*100}),[E,v,w]),T=(0,a.useCallback)((()=>{A.current.size>0&&(A.current.clear(),S.current=null,null==i||i(parseFloat(d.current.style.flexGrow)))}),[i]),I=(0,rn.useStyles2)(Yf),j=Qd(),F=2===c.length?"visible":"hidden";return s().createElement("div",{ref:f,className:I.container,style:{flexDirection:e}},s().createElement("div",{ref:d,className:I.panel,style:Hf({flexGrow:"auto"===n?.5:(0,fe.clamp)(n,0,1),[w]:"min-content"},r),id:`start-panel-${j}`},c[0]),c[1]&&s().createElement(s().Fragment,null,s().createElement("div",{ref:u,style:{[v]:`${t}px`},className:(0,sn.cx)(I.handle,{[I.handleHorizontal]:"column"===e}),onPointerUp:O,onPointerDown:C,onPointerMove:x,onKeyDown:_,onKeyUp:k,onDoubleClick:P,onBlur:T,role:"separator","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":50,"aria-controls":`start-panel-${j}`,"aria-label":"Pane resize widget",tabIndex:0}),s().createElement("div",{ref:p,className:I.panel,style:Hf({flexGrow:"auto"===n?.5:(0,fe.clamp)(1-n,0,1),[w]:"min-content",visibility:`${F}`},o),id:`end-panel-${j}`},c[1])))}function Yf(e){return{handle:(0,sn.css)({cursor:"col-resize",position:"relative",flexShrink:0,userSelect:"none","&::before":{content:'""',position:"absolute",backgroundColor:e.colors.primary.main,left:"50%",transform:"translate(-50%)",top:0,height:"100%",width:"1px",opacity:0,transition:"opacity ease-in-out 0.2s"},"&::after":{content:'""',width:"4px",borderRadius:"4px",backgroundColor:e.colors.border.weak,transition:"background-color ease-in-out 0.2s",height:"50%",top:"calc(50% - (50%) / 2)",transform:"translateX(-50%)",position:"absolute",left:"50%"},"&:hover, &:focus-visible":{outline:"none","&::before":{opacity:1},"&::after":{backgroundColor:e.colors.primary.main}}}),handleHorizontal:(0,sn.css)({cursor:"row-resize","&::before":{left:"inherit",transform:"translateY(-50%)",top:"50%",height:"1px",width:"100%"},"&::after":{width:"50%",height:"4px",top:"50%",transform:"translateY(-50%)",left:"calc(50% - (50%) / 2)"}}),container:(0,sn.css)({display:"flex",width:"100%",flexGrow:1,overflow:"hidden"}),panel:(0,sn.css)({display:"flex",position:"relative",flexBasis:0})}}function Xf(e){if(null===e)return;const t=document.body.style.overflow,n=e.style.width,r=e.style.height,o=e.style.flexGrow;document.body.style.overflow="hidden",e.style.flexGrow="0";const{width:a,height:i}=e.getBoundingClientRect();e.style.flexGrow="100";const{width:s,height:l}=e.getBoundingClientRect();return document.body.style.overflow=t,e.style.width=n,e.style.height=r,e.style.flexGrow=o,{minWidth:a,maxWidth:s,minHeight:i,maxHeight:l}}class Kf extends J{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}Kf.Component=function({model:e}){const{primary:t,secondary:n,direction:r,isHidden:o,initialSize:a,primaryPaneStyles:i,secondaryPaneStyles:l}=e.useState();if(o)return null;const c=t.Component,u=null==n?void 0:n.Component;let d=n?a:1;return s().createElement(Qf,{direction:r,initialSize:null!=d?d:.5,primaryPaneStyles:i,secondaryPaneStyles:l},s().createElement(c,{key:t.state.key,model:t,parentState:e.state}),u&&n&&s().createElement(u,{key:n.state.key,model:n,parentState:e.state}))};class Zf extends J{enrichDataRequest(){return{app:this.state.name||"app"}}}Zf.Component=({model:e})=>{const{pages:t}=e.useState();return s().createElement(Jf.Provider,{value:e},s().createElement(l.Switch,null,t.map((e=>s().createElement(l.Route,{key:e.state.url,exact:!1,path:e.state.url,render:t=>b(e,t)})))))};const Jf=(0,a.createContext)(null),eh=new Map;function th(e){const t=eh.get(e);if(t)return t;const n=e();return eh.set(e,n),n}var nh=Object.defineProperty,rh=Object.getOwnPropertySymbols,oh=Object.prototype.hasOwnProperty,ah=Object.prototype.propertyIsEnumerable,ih=(e,t,n)=>t in e?nh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class sh extends J{}function lh({node:e}){const t=e.useState(),n=(0,rn.useStyles2)(ch);return s().createElement("div",{className:n.container},Object.keys(t).map((r=>s().createElement("div",{className:n.row,key:r},s().createElement("div",{className:n.keyName},r),s().createElement("div",{className:n.value},function(e,t,n){if(null===t)return"null";switch(typeof t){case"number":return s().createElement(rn.Input,{type:"number",defaultValue:t,onBlur:t=>n.setState({[e]:t.currentTarget.valueAsNumber})});case"string":return s().createElement(rn.Input,{type:"text",defaultValue:t,onBlur:t=>n.setState({[e]:t.currentTarget.value})});case"object":return xt(t)?t.constructor.name:(0,fe.isPlainObject)(t)||(0,fe.isArray)(t)?s().createElement(rn.JSONFormatter,{json:t,open:0}):String(t);default:return typeof t}}(r,t[r],e))))))}function ch(e){return{container:(0,sn.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),row:(0,sn.css)({display:"flex",gap:e.spacing(2)}),keyName:(0,sn.css)({display:"flex",flexGrow:"0",width:120,alignItems:"center",height:e.spacing(e.components.height.md)}),value:(0,sn.css)({flexGrow:1,minHeight:e.spacing(e.components.height.md),display:"flex",alignItems:"center"})}}function uh({node:e,selectedObject:t,onSelect:n}){const r=(0,rn.useStyles2)(dh),o=[],a=e===t;return e.forEachChild((e=>{o.push(s().createElement(uh,{node:e,key:e.state.key,selectedObject:t,onSelect:n}))})),s().createElement("div",{className:r.container},s().createElement("div",{className:(0,sn.cx)(r.name,a&&r.selected),onClick:()=>n(e)},e.constructor.name),s().createElement("div",{className:r.children},o))}function dh(e){return{container:(0,sn.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),name:(0,sn.css)({flexGrow:1,display:"flex",gap:e.spacing(1),fontSize:e.typography.bodySmall.fontSize,cursor:"pointer",padding:e.spacing(0,1),borderRadius:e.shape.borderRadius(2),position:"relative","&:hover":{background:e.colors.background.secondary}}),selected:(0,sn.css)({"&::before":{display:"block",content:"' '",position:"absolute",left:0,width:4,bottom:2,top:2,borderRadius:e.shape.radius.default,backgroundImage:e.colors.gradients.brandVertical}}),children:(0,sn.css)({flexGrow:1,display:"flex",flexDirection:"column",paddingLeft:e.spacing(1)})}}function ph({scene:e}){const t=(0,rn.useStyles2)(fh),[n,r]=(0,a.useState)(!1),[o,i]=(0,a.useState)();return s().createElement(s().Fragment,null,s().createElement(rn.ToolbarButton,{variant:"canvas",icon:"bug",onClick:()=>r(!0)}),n&&s().createElement(rn.Drawer,{title:"Scene debugger",onClose:()=>r(!1),size:"lg"},s().createElement("div",{className:t.panes},s().createElement("div",{className:t.pane1},s().createElement("div",{className:t.paneHeading},"Scene graph"),s().createElement(rn.CustomScrollbar,{autoHeightMin:"100%"},s().createElement("div",{className:t.treeWrapper},s().createElement(uh,{node:e,selectedObject:o,onSelect:i})))),s().createElement("div",{className:t.pane2},s().createElement("div",{className:t.paneHeading},"Object details"),o&&s().createElement(lh,{node:o})))))}function fh(e){return{panes:(0,sn.css)({flexGrow:1,display:"flex",height:"100%",flexDirection:"row",marginTop:e.spacing(-2)}),pane1:(0,sn.css)({flexGrow:0,display:"flex",height:"100%",flexDirection:"column",borderRight:`1px solid ${e.colors.border.weak}`}),pane2:(0,sn.css)({flexGrow:1,display:"flex",minHeight:"100%",flexDirection:"column",paddingLeft:e.spacing(2)}),treeWrapper:(0,sn.css)({paddingRight:e.spacing(2),height:"100%",marginLeft:e.spacing(-1)}),paneHeading:(0,sn.css)({padding:e.spacing(1,0),fontWeight:e.typography.fontWeightMedium})}}function hh({page:e,routeProps:t}){const n=function(e){return e.parent instanceof bh?e.parent:e}(e),r=n.useState(),o=function(){const e=(0,l.useLocation)();return(0,u.locationSearchToObject)(e.search||"")}(),i=e.getScene(t.match),c=(0,a.useContext)(Jf),d=r.initializedScene===i,{layout:p}=e.state,f=lt();(0,a.useLayoutEffect)((()=>{d||n.initializeScene(i)}),[i,n,d]),(0,a.useEffect)((()=>()=>n.setState({initializedScene:void 0})),[n]);const h=jd(n,null==c?void 0:c.state.urlSyncOptions);if(!d&&!h)return null;const g={text:r.title,img:r.titleImg,icon:r.titleIcon,url:m(r.url,f.getSearchObject(),r.preserveUrlKeys),hideFromBreadcrumbs:r.hideFromBreadcrumbs,parentItem:gh(r.getParentPage?r.getParentPage():n.parent,o,f.getSearchObject())};r.tabs&&(g.children=r.tabs.map((t=>({text:t.state.title,icon:t.state.titleIcon,tabSuffix:t.state.tabSuffix,active:e===t,url:m(t.state.url,f.getSearchObject(),t.state.preserveUrlKeys),parentItem:g}))));let b=[];return r.controls&&(b=r.controls.map((e=>s().createElement(e.Component,{model:e,key:e.state.key})))),o["scene-debugger"]&&b.push(s().createElement(ph,{scene:n,key:"scene-debugger"})),s().createElement(u.PluginPage,{layout:p,pageNav:g,actions:b,renderTitle:r.renderTitle,subTitle:r.subTitle},s().createElement(i.Component,{model:i}))}function gh(e,t,n){if(e instanceof bh)return{text:e.state.title,url:m(e.state.url,n,e.state.preserveUrlKeys),hideFromBreadcrumbs:e.state.hideFromBreadcrumbs,parentItem:gh(e.state.getParentPage?e.state.getParentPage():e.parent,t,n)}}function mh({drilldown:e,parent:t,routeProps:n}){return b(t.getDrilldownPage(e,n.match),n)}sh.Component=({model:e})=>{const{component:t,props:n,reactNode:r}=e.useState();return t?s().createElement(t,((e,t)=>{for(var n in t||(t={}))oh.call(t,n)&&ih(e,n,t[n]);if(rh)for(var n of rh(t))ah.call(t,n)&&ih(e,n,t[n]);return e})({},n)):r||null};class bh extends J{constructor(e){super(e),this._sceneCache=new Map,this._drilldownCache=new Map}initializeScene(e){this.setState({initializedScene:e})}getScene(e){let t=this._sceneCache.get(e.url);if(t)return t;if(!this.state.getScene)throw new Error("Missing getScene on SceneAppPage "+this.state.title);return t=this.state.getScene(e),this._sceneCache.set(e.url,t),t}getDrilldownPage(e,t){let n=this._drilldownCache.get(t.url);return n||(n=e.getPage(t,this),this._drilldownCache.set(t.url,n),n)}enrichDataRequest(e){if(this.state.getParentPage)return this.state.getParentPage().enrichDataRequest(e);if(!this.parent)return null;const t=this.getRoot();return Ot(t)?t.enrichDataRequest(e):null}}bh.Component=function({model:e,routeProps:t}){var n,r;const{tabs:o,drilldowns:a}=e.useState(),i=[];if(o&&o.length>0)for(let t=0;t<o.length;t++){const a=o[t];if(0===t&&i.push(s().createElement(l.Route,{exact:!0,key:e.state.url,path:null!=(n=e.state.routePath)?n:e.state.url,render:e=>b(a,e)})),i.push(s().createElement(l.Route,{exact:!0,key:a.state.url,path:null!=(r=a.state.routePath)?r:a.state.url,render:e=>b(a,e)})),a.state.drilldowns)for(const e of a.state.drilldowns)i.push(s().createElement(l.Route,{exact:!1,key:e.routePath,path:e.routePath,render:t=>s().createElement(mh,{drilldown:e,parent:a,routeProps:t})}))}if(a)for(const t of a)i.push(s().createElement(l.Route,{key:t.routePath,exact:!1,path:t.routePath,render:n=>s().createElement(mh,{drilldown:t,parent:e,routeProps:n})}));return!o&&(c=e,(u=t.match).isExact&&(u.url===c.state.url||c.parent instanceof bh&&c.parent.state.tabs[0]===c&&c.parent.state.url===u.url))?s().createElement(hh,{page:e,routeProps:t}):(i.push(function(e,t){return s().createElement(l.Route,{key:"fallback route",render:n=>{var r,o,a;const i=null!=(a=null==(o=(r=e.state).getFallbackPage)?void 0:o.call(r))?a:new bh({url:"",title:"Not found",subTitle:"The url did not match any page",getScene:()=>new Md({body:new _f({direction:"column",children:[new kf({body:new sh({component:()=>s().createElement("div",{"data-testid":"default-fallback-content"},"If you found your way here using a link then there might be a bug in this application.")})})]})})});return s().createElement(hh,{page:i,routeProps:t})}})}(e,t)),s().createElement(l.Switch,null,i));var c,u};var vh=(e=>(e.Always="always",e.Auto="auto",e.Never="never",e))(vh||{}),yh=(e=>(e.Hue="hue",e.None="none",e.Opacity="opacity",e.Scheme="scheme",e))(yh||{}),wh=(e=>(e.None="none",e.Normal="normal",e.Percent="percent",e))(wh||{}),Eh=(e=>(e.Auto="auto",e.Horizontal="horizontal",e.Vertical="vertical",e))(Eh||{}),Sh=(e=>(e.Background="background",e.BackgroundSolid="background_solid",e.None="none",e.Value="value",e))(Sh||{}),Ch=(e=>(e.Area="area",e.Line="line",e.None="none",e))(Ch||{}),xh=(e=>(e.Auto="auto",e.Center="center",e))(xh||{}),Oh=(e=>(e.Auto="auto",e.Name="name",e.None="none",e.Value="value",e.ValueAndName="value_and_name",e))(Oh||{}),Ah=(e=>(e.Inverted="inverted",e.SameAsValue="same_as_value",e.Standard="standard",e))(Ah||{}),Dh=(e=>(e.Multi="multi",e.None="none",e.Single="single",e))(Dh||{}),Rh=(e=>(e.Basic="basic",e.Gradient="gradient",e.Lcd="lcd",e))(Rh||{}),_h=(e=>(e.Color="color",e.Hidden="hidden",e.Text="text",e))(_h||{}),kh=(e=>(e.Auto="auto",e.Hidden="hidden",e.Left="left",e.Top="top",e))(kh||{}),Ph=(e=>(e.Auto="auto",e.Manual="manual",e))(Ph||{}),Th=(e=>(e.Auto="auto",e.Lg="lg",e.Md="md",e.Sm="sm",e))(Th||{});const Ih={barRadius:0,barWidth:.97,fullHighlight:!1,groupWidth:.7,orientation:Eh.Auto,showValue:vh.Auto,stacking:wh.None,xTickLabelRotation:0,xTickLabelSpacing:0},jh={fillOpacity:80,gradientMode:yh.None,lineWidth:1},Fh={displayMode:Rh.Gradient,maxVizHeight:300,minVizHeight:16,minVizWidth:8,namePlacement:kh.Auto,showUnfilled:!0,sizing:Ph.Auto,valueMode:_h.Color},Mh={selectedSeries:0},Lh={minVizHeight:75,minVizWidth:75,showThresholdLabels:!1,showThresholdMarkers:!0,sizing:Ph.Auto},Nh={layers:[]},Bh={calculate:!1,cellGap:1,cellValues:{},color:{scheme:"Oranges",fill:"dark-orange",reverse:!1,exponent:.5,steps:64},exemplars:{color:"rgba(255,0,255,0.7)"},filterValues:{le:1e-9},legend:{show:!0},selectionMode:"x",showValue:vh.Auto,tooltip:{mode:Dh.Single,yHistogram:!1,showColorScale:!1}},Vh={bucketCount:30,bucketOffset:0},zh={fillOpacity:80,gradientMode:yh.None,lineWidth:1},$h={showImage:!0},Uh={displayLabels:[]},Hh={colorMode:Sh.Value,graphMode:Ch.Area,justifyMode:xh.Auto,percentChangeColorMode:Ah.Standard,showPercentChange:!1,textMode:Oh.Auto,wideLayout:!0},qh={alignValue:"left",mergeValues:!0,perPage:20,rowHeight:.9,showValue:vh.Auto},Gh={fillOpacity:70,lineWidth:0},Wh={colWidth:.9,rowHeight:.9,showValue:vh.Auto},Qh={fillOpacity:70,lineWidth:1},Yh={cellHeight:Th.Sm,footer:{show:!1,countRows:!1,reducer:[]},frameIndex:0,showHeader:!0,showTypeIcons:!1,sortBy:[]},Xh={content:"# Title\n\nFor markdown syntax help: [commonmark.org/help](https://commonmark.org/help/)",mode:"markdown"},Kh={label:vh.Auto,show:"points"},Zh={series:[]};class Jh{constructor(){this._overrides=[]}overrideColor(e){return this._overrides[this._overrides.length-1].properties.push({id:"color",value:e}),this}overrideDecimals(e){return this._overrides[this._overrides.length-1].properties.push({id:"decimals",value:e}),this}overrideDisplayName(e){return this._overrides[this._overrides.length-1].properties.push({id:"displayName",value:e}),this}overrideFilterable(e){return this._overrides[this._overrides.length-1].properties.push({id:"filterable",value:e}),this}overrideLinks(e){return this._overrides[this._overrides.length-1].properties.push({id:"links",value:e}),this}overrideMappings(e){return this._overrides[this._overrides.length-1].properties.push({id:"mappings",value:e}),this}overrideMax(e){return this._overrides[this._overrides.length-1].properties.push({id:"max",value:e}),this}overrideMin(e){return this._overrides[this._overrides.length-1].properties.push({id:"min",value:e}),this}overrideNoValue(e){return this._overrides[this._overrides.length-1].properties.push({id:"noValue",value:e}),this}overrideThresholds(e){return this._overrides[this._overrides.length-1].properties.push({id:"thresholds",value:e}),this}overrideUnit(e){return this._overrides[this._overrides.length-1].properties.push({id:"unit",value:e}),this}}class eg extends Jh{match(e){return this._overrides.push({matcher:e,properties:[]}),this}matchFieldsWithName(e){return this._overrides.push({matcher:{id:c.FieldMatcherID.byName,options:e},properties:[]}),this}matchFieldsWithNameByRegex(e){return this._overrides.push({matcher:{id:c.FieldMatcherID.byRegexp,options:e},properties:[]}),this}matchFieldsByType(e){return this._overrides.push({matcher:{id:c.FieldMatcherID.byType,options:e},properties:[]}),this}matchFieldsByQuery(e){return this._overrides.push({matcher:{id:c.FieldMatcherID.byFrameRefID,options:e},properties:[]}),this}matchFieldsByValue(e){return this._overrides.push({matcher:{id:c.FieldMatcherID.byValue,options:e},properties:[]}),this}matchComparisonQuery(e){return this.matchFieldsByQuery(sf(e))}overrideCustomFieldConfig(e,t){const n=`custom.${String(e)}`;return this._overrides[this._overrides.length-1].properties.push({id:n,value:t}),this}build(){return this._overrides}}var tg=Object.defineProperty,ng=Object.defineProperties,rg=Object.getOwnPropertyDescriptors,og=Object.getOwnPropertySymbols,ag=Object.prototype.hasOwnProperty,ig=Object.prototype.propertyIsEnumerable,sg=(e,t,n)=>t in e?tg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lg=(e,t)=>{for(var n in t||(t={}))ag.call(t,n)&&sg(e,n,t[n]);if(og)for(var n of og(t))ig.call(t,n)&&sg(e,n,t[n]);return e},cg=(e,t)=>ng(e,rg(t));class ug{constructor(e){this.defaultFieldConfig=e,this._fieldConfig={defaults:{},overrides:[]},this._overridesBuilder=new eg,this.setDefaults()}setDefaults(){const e={defaults:{custom:this.defaultFieldConfig?(0,fe.cloneDeep)(this.defaultFieldConfig()):{}},overrides:[]};this._fieldConfig=e}setColor(e){return this.setFieldConfigDefaults("color",e)}setDecimals(e){return this.setFieldConfigDefaults("decimals",e)}setDisplayName(e){return this.setFieldConfigDefaults("displayName",e)}setFilterable(e){return this.setFieldConfigDefaults("filterable",e)}setLinks(e){return this.setFieldConfigDefaults("links",e)}setMappings(e){return this.setFieldConfigDefaults("mappings",e)}setMax(e){return this.setFieldConfigDefaults("max",e)}setMin(e){return this.setFieldConfigDefaults("min",e)}setNoValue(e){return this.setFieldConfigDefaults("noValue",e)}setThresholds(e){return this.setFieldConfigDefaults("thresholds",e)}setUnit(e){return this.setFieldConfigDefaults("unit",e)}setCustomFieldConfig(e,t){return this._fieldConfig.defaults=cg(lg({},this._fieldConfig.defaults),{custom:(0,fe.merge)(this._fieldConfig.defaults.custom,{[e]:t})}),this}setOverrides(e){return e(this._overridesBuilder),this}setFieldConfigDefaults(e,t){return this._fieldConfig.defaults=cg(lg({},this._fieldConfig.defaults),{[e]:t}),this}build(){return{defaults:this._fieldConfig.defaults,overrides:this._overridesBuilder.build()}}}class dg{constructor(e){this.defaultOptions=e,this._options={},this.setDefaults()}setDefaults(){this._options=this.defaultOptions?(0,fe.cloneDeep)(this.defaultOptions()):{}}setOption(e,t){return this._options=(0,fe.merge)(this._options,{[e]:t}),this}build(){return this._options}}var pg=Object.defineProperty,fg=Object.defineProperties,hg=Object.getOwnPropertyDescriptors,gg=Object.getOwnPropertySymbols,mg=Object.prototype.hasOwnProperty,bg=Object.prototype.propertyIsEnumerable,vg=(e,t,n)=>t in e?pg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class yg{constructor(e,t,n,r){this._state={},this._state.title="",this._state.description="",this._state.displayMode="default",this._state.hoverHeader=!1,this._state.pluginId=e,this._state.pluginVersion=t,this._fieldConfigBuilder=new ug(r),this._panelOptionsBuilder=new dg(n)}setTitle(e){return this._state.title=e,this}setDescription(e){return this._state.description=e,this}setDisplayMode(e){return this._state.displayMode=e,this}setHoverHeader(e){return this._state.hoverHeader=e,this}setMenu(e){return this._state.menu=e,this}setHeaderActions(e){return this._state.headerActions=e,this}setColor(e){return this._fieldConfigBuilder.setColor(e),this}setDecimals(e){return this._fieldConfigBuilder.setDecimals(e),this}setDisplayName(e){return this._fieldConfigBuilder.setDisplayName(e),this}setFilterable(e){return this._fieldConfigBuilder.setFilterable(e),this}setLinks(e){return this._fieldConfigBuilder.setLinks(e),this}setMappings(e){return this._fieldConfigBuilder.setMappings(e),this}setMax(e){return this._fieldConfigBuilder.setMax(e),this}setMin(e){return this._fieldConfigBuilder.setMin(e),this}setNoValue(e){return this._fieldConfigBuilder.setNoValue(e),this}setThresholds(e){return this._fieldConfigBuilder.setThresholds(e),this}setUnit(e){return this._fieldConfigBuilder.setUnit(e),this}setCustomFieldConfig(e,t){return this._fieldConfigBuilder.setCustomFieldConfig(e,t),this}setOverrides(e){return this._fieldConfigBuilder.setOverrides(e),this}setOption(e,t){return this._panelOptionsBuilder.setOption(e,t),this}setData(e){return this._state.$data=e,this}setTimeRange(e){return this._state.$timeRange=e,this}setVariables(e){return this._state.$variables=e,this}setBehaviors(e){return this._state.$behaviors=e,this}applyMixin(e){return e(this),this}build(){const e=new Dl((t=((e,t)=>{for(var n in t||(t={}))mg.call(t,n)&&vg(e,n,t[n]);if(gg)for(var n of gg(t))bg.call(t,n)&&vg(e,n,t[n]);return e})({},this._state),n={options:this._panelOptionsBuilder.build(),fieldConfig:this._fieldConfigBuilder.build()},fg(t,hg(n))));var t,n;return e}}const wg={barchart:()=>new yg("barchart","10.0.0",(()=>Ih),(()=>jh)),bargauge:()=>new yg("bargauge","10.0.0",(()=>Fh)),datagrid:()=>new yg("datagrid","10.0.0",(()=>Mh)),flamegraph:()=>new yg("flamegraph","10.0.0"),gauge:()=>new yg("gauge","10.0.0",(()=>Lh)),geomap:()=>new yg("geomap","10.0.0",(()=>Nh)),heatmap:()=>new yg("heatmap","10.0.0",(()=>Bh)),histogram:()=>new yg("histogram","10.0.0",(()=>Vh),(()=>zh)),logs:()=>new yg("logs","10.0.0"),news:()=>new yg("news","10.0.0",(()=>$h)),nodegraph:()=>new yg("nodeGraph","10.0.0"),piechart:()=>new yg("piechart","10.0.0",(()=>Uh)),stat:()=>new yg("stat","10.0.0",(()=>Hh)),statetimeline:()=>new yg("state-timeline","10.0.0",(()=>qh),(()=>Gh)),statushistory:()=>new yg("status-history","10.0.0",(()=>Wh),(()=>Qh)),table:()=>new yg("table","10.0.0",(()=>Yh)),text:()=>new yg("text","10.0.0",(()=>Xh)),timeseries:()=>new yg("timeseries","10.0.0"),trend:()=>new yg("trend","10.0.0"),traces:()=>new yg("traces","10.0.0"),xychart:()=>new yg("xychart","10.0.0",(()=>Zh),(()=>Kh))};class Eg{constructor(e,t,n,r){this._pluginId=e,this._pluginVersion=t,this._fieldConfigBuilder=new ug(r),this._panelOptionsBuilder=new dg(n)}setColor(e){return this._fieldConfigBuilder.setColor(e),this}setDecimals(e){return this._fieldConfigBuilder.setDecimals(e),this}setDisplayName(e){return this._fieldConfigBuilder.setDisplayName(e),this}setFilterable(e){return this._fieldConfigBuilder.setFilterable(e),this}setLinks(e){return this._fieldConfigBuilder.setLinks(e),this}setMappings(e){return this._fieldConfigBuilder.setMappings(e),this}setMax(e){return this._fieldConfigBuilder.setMax(e),this}setMin(e){return this._fieldConfigBuilder.setMin(e),this}setNoValue(e){return this._fieldConfigBuilder.setNoValue(e),this}setThresholds(e){return this._fieldConfigBuilder.setThresholds(e),this}setUnit(e){return this._fieldConfigBuilder.setUnit(e),this}setCustomFieldConfig(e,t){return this._fieldConfigBuilder.setCustomFieldConfig(e,t),this}setOverrides(e){return this._fieldConfigBuilder.setOverrides(e),this}setOption(e,t){return this._panelOptionsBuilder.setOption(e,t),this}build(){return{pluginId:this._pluginId,pluginVersion:this._pluginVersion,options:this._panelOptionsBuilder.build(),fieldConfig:this._fieldConfigBuilder.build()}}}const Sg={barchart:()=>new Eg("barchart","10.0.0",(()=>Ih),(()=>jh)),bargauge:()=>new Eg("bargauge","10.0.0",(()=>Fh)),datagrid:()=>new Eg("datagrid","10.0.0",(()=>Mh)),flamegraph:()=>new Eg("flamegraph","10.0.0"),gauge:()=>new Eg("gauge","10.0.0",(()=>Lh)),geomap:()=>new Eg("geomap","10.0.0",(()=>Nh)),heatmap:()=>new Eg("heatmap","10.0.0",(()=>Bh)),histogram:()=>new Eg("histogram","10.0.0",(()=>Vh),(()=>zh)),logs:()=>new Eg("logs","10.0.0"),news:()=>new Eg("news","10.0.0",(()=>$h)),nodegraph:()=>new Eg("nodeGraph","10.0.0"),piechart:()=>new Eg("piechart","10.0.0",(()=>Uh)),stat:()=>new Eg("stat","10.0.0",(()=>Hh)),statetimeline:()=>new Eg("state-timeline","10.0.0",(()=>qh),(()=>Gh)),statushistory:()=>new Eg("status-history","10.0.0",(()=>Wh),(()=>Qh)),table:()=>new Eg("table","10.0.0",(()=>Yh)),text:()=>new Eg("text","10.0.0",(()=>Xh)),timeseries:()=>new Eg("timeseries","10.0.0"),trend:()=>new Eg("trend","10.0.0"),traces:()=>new Eg("traces","10.0.0"),xychart:()=>new Eg("xychart","10.0.0",(()=>Zh),(()=>Kh))},Cg={barchart:()=>new dg((()=>Ih)),bargauge:()=>new dg((()=>Fh)),datagrid:()=>new dg((()=>Mh)),flamegraph:()=>new dg,gauge:()=>new dg((()=>Lh)),geomap:()=>new dg((()=>Nh)),heatmap:()=>new dg((()=>Bh)),histogram:()=>new dg((()=>Vh)),logs:()=>new dg,news:()=>new dg((()=>$h)),nodegraph:()=>new dg,piechart:()=>new dg((()=>Uh)),stat:()=>new dg((()=>Hh)),statetimeline:()=>new dg((()=>qh)),statushistory:()=>new dg((()=>Wh)),table:()=>new dg((()=>Yh)),text:()=>new dg((()=>Xh)),timeseries:()=>new dg,trend:()=>new dg,traces:()=>new dg,xychart:()=>new dg((()=>Zh))},xg={barchart:()=>new ug((()=>jh)),bargauge:()=>new ug,datagrid:()=>new ug,flamegraph:()=>new ug,gauge:()=>new ug,geomap:()=>new ug,heatmap:()=>new ug,histogram:()=>new ug((()=>zh)),logs:()=>new ug,news:()=>new ug,nodegraph:()=>new ug,piechart:()=>new ug,stat:()=>new ug,statetimeline:()=>new ug((()=>Gh)),statushistory:()=>new ug((()=>Qh)),table:()=>new ug,text:()=>new ug,timeseries:()=>new ug,trend:()=>new ug,traces:()=>new ug,xychart:()=>new ug((()=>Kh))},Og={getUrlWithAppState:m,registerRuntimePanelPlugin:function({pluginId:e,plugin:t}){if(O.has(e))throw new Error(`A runtime panel plugin with id ${e} has already been registered`);var n;t.meta=(n=((e,t)=>{for(var n in t||(t={}))S.call(t,n)&&x(e,n,t[n]);if(E)for(var n of E(t))C.call(t,n)&&x(e,n,t[n]);return e})({},t.meta),y(n,w({id:e,name:e,module:"runtime plugin",baseUrl:"runtime plugin",info:{author:{name:"Runtime plugin "+e},description:"",links:[],logos:{large:"",small:""},screenshots:[],updated:"",version:""}}))),O.set(e,t)},registerRuntimeDataSource:pe,registerVariableMacro:function(e,t){if(St.get(e))throw new Error(`Macro already registered ${e}`);return St.set(e,t),()=>{St.delete(e)}},cloneSceneObjectState:le,syncStateFromSearchParams:function(e,t){Ss(e,t,new ys)},getUrlState:Es,renderPrometheusLabelFilters:Pi,isAdHocVariable:function(e){return"adhoc"===e.state.type},isConstantVariable:function(e){return"constant"===e.state.type},isCustomVariable:function(e){return"custom"===e.state.type},isDataSourceVariable:function(e){return"datasource"===e.state.type},isIntervalVariable:function(e){return"interval"===e.state.type},isQueryVariable:function(e){return"query"===e.state.type},isTextBoxVariable:function(e){return"textbox"===e.state.type},isGroupByVariable:function(e){return"groupby"===e.state.type}}},7774:(e,t,n)=>{"use strict";var r=n(9997),o=n(2007),a=n(5959),i=n(6089),s=(n(3241),n(8531)),l=n(6101),c=n(7781),u=n(1269),d=n(9089);n(4354);const p={form:{root:r.createSelector((e=>`data-testid form-${e}`)),sectionHeader:r.createSelector((e=>`data-testid form section-${e}`),"headerDataTestId"),sectionContent:r.createSelector((e=>`data-testid form section-content-${e}`),"contentDataTestId"),fieldSelect:r.createSelector((e=>`form field-select-${e}`)),fieldCustom:r.createSelector((e=>`data-testid form field-custom-${e}`)),fieldSlider:r.createSelector((e=>`data-testid form field-slider-${e}`)),fieldRangeSlider:r.createSelector((e=>`form field-range-slider-${e}`),"sliderAriaLabel"),fieldNumberInput:r.createSelector((e=>`data-testid form field-number-input-${e}`)),fieldColor:r.createSelector((e=>`data-testid form field-color-${e}`)),fieldInput:r.createSelector((e=>`data-testid form field-input-${e}`)),fieldDatetime:r.createSelector((()=>"data-testid date-time-input")),fieldRadio:r.createSelector((e=>`data-testid form field-radio-${e}`))},codeEditor:{copyButton:r.createSelector((()=>"data-testid code-editor copy-button")),copyPasteText:r.createSelector((()=>"data-testid code-editor copy-paste-text")),modal:r.createSelector((()=>"data-testid code-editor modal-window")),miniMapButton:r.createSelector((()=>"data-testid code-editor mini-map-button")),modalButton:r.createSelector((e=>`data-testid code-editor modal-button-${e}`)),pasteButton:r.createSelector((()=>"data-testid code-editor paste-button")),wrapButton:r.createSelector((()=>"data-testid code-editor wrap-button"))},datasourceEditor:{fieldSelect:r.createSelector("data-testid datasource-editor field-select")},payloadEditor:{loadingMessage:r.createSelector("data-testid payload-editor loading-message"),errorMessage:r.createSelector("data-testid payload-editor error-message")}},f=e=>({line:i.css`
      margin: 0 0;
      border: 1px solid ${e.colors.border.medium};
      border-bottom: 0;
      background: ${e.colors.background.secondary};
      padding: ${e.spacing(.5)};
    `,modal:i.css`
      width: 80%;
      height: 80%;
    `,content:i.css`
      padding: ${e.spacing(1)};
      height: 100%;
    `,modalBody:i.css`
      height: 100%;
    `,modalIconLine:i.css`
      margin: ${e.spacing(.5)} 0 0 ${e.spacing(.5)};
    `,modalEditor:i.css`
      height: 100%;
      border-radius: 2px;
      border: 1px solid ${e.colors.border.medium};
    `,copyPasteSection:i.css`
      margin: ${e.spacing(.5)} 0 0 ${e.spacing(1)};
    `,copyPasteIcon:i.css`
      margin: ${e.spacing(0)};
    `,copyPasteText:i.css`
      margin: ${e.spacing(0)};
      font-size: 12px;
      color: ${e.colors.text.secondary};
      transition: width 0.5s ease;
    `,text:i.css`
      position: absolute;
      left: -20%;
      opacity: 0;
      top: 8px;
      transition:
        left 0.5s ease,
        opacity 0.5s ease;
    `,left:i.css`
      left: 0;
      opacity: 1;
    `}),h=({monacoEditor:e,setIsOpen:t,editorValue:n,isModal:r=!1,setCurrentMonacoOptions:s,currentMonacoOptions:l,isShowMiniMap:c,setIsShowMiniMap:u})=>{const d=o.useStyles2(f),[h,g]=a.useState("");return a.useEffect((()=>{h&&setTimeout((()=>{g("")}),1e3)}),[h]),a.createElement(o.PageToolbar,{buttonOverflowAlignment:"right",className:d.line,forceShowLeftItems:!0,leftItems:[a.createElement(o.ToolbarButton,{key:"code-editor-button-modal",tooltip:r?"Collapse code editor":"Expand code editor",icon:r?"compress-arrows":"expand-arrows-alt",iconSize:"lg",onClick:()=>t(!r),...p.codeEditor.modalButton.apply(r?"modal-close":"modal-open")})]},a.createElement(o.InlineFieldRow,{className:d.copyPasteSection},a.createElement(o.ToolbarButton,{className:d.copyPasteIcon,tooltip:"Copy code",icon:"file-blank",iconSize:"lg",onClick:()=>{navigator.clipboard.writeText(n).then((()=>{g("Copied!")}))},...p.codeEditor.copyButton.apply()}),a.createElement(o.ToolbarButton,{className:d.copyPasteIcon,tooltip:"Paste code",icon:"file-alt",iconSize:"lg",onClick:async()=>{if(e){const t=e.getSelection(),n=await navigator.clipboard.readText(),r={startLineNumber:t?.startLineNumber||1,startColumn:t?.startColumn||1,endLineNumber:t?.endLineNumber||1,endColumn:t?.endColumn||1};e.executeEdits("clipboard",[{range:r,text:n,forceMoveMarkers:!1}]),e.focus(),g("Pasted!")}},...p.codeEditor.pasteButton.apply()}),a.createElement(o.InlineField,{className:i.cx(d.copyPasteText,h?i.css`
                  width: 45px;
                `:i.css`
                  width: 10px;
                `),...p.codeEditor.copyPasteText.apply()},a.createElement("div",{className:i.cx(d.text,h?d.left:"")},h))),a.createElement(o.ToolbarButton,{tooltip:"Wrap code on new lines",icon:"wrap-text",iconSize:"lg",variant:"on"===l?.wordWrap?"active":"default",onClick:()=>{const e="on"===l?.wordWrap?"off":"on";s({...l,wordWrap:e})},...p.codeEditor.wrapButton.apply()}),n&&n.length>100&&a.createElement(o.ToolbarButton,{tooltip:c?"Hide mini map":"Show mini map",icon:"gf-movepane-right",iconSize:"lg",variant:c?"active":"default",onClick:()=>{u((e=>!e))},...p.codeEditor.miniMapButton.apply()}))},g=(e,t,n)=>{const r=18*e.split("\n").length,o=t||200,a=n||1e3;return r<o?o:r>a?a:r},m=e=>({rootOutline:i.css`
      border: 1px solid ${e.colors.border.weak};
      background-color: ${e.colors.background.primary};
    `,header:i.css`
      padding: ${e.spacing(.5,.5)};
      min-height: ${e.spacing(4)};
      display: flex;
      align-items: center;
      justify-content: flex-start;
      white-space: nowrap;

      &:focus {
        outline: none;
      }
    `,headerSolid:i.css`
      border-radius: ${e.shape.radius?.default};
      background: ${e.colors.background.secondary};
    `,title:i.css`
      font-weight: ${e.typography.fontWeightBold};
      margin: ${e.spacing(0,.5)};
      overflow: hidden;
      text-overflow: ellipsis;
    `,collapseIcon:i.css`
      margin-left: ${e.spacing(.5)};
      color: ${e.colors.text.disabled};
    `,actions:i.css`
      margin-left: auto;
      display: flex;
      align-items: center;
    `});class b{constructor(e,t){this.error=e,e&&"object"==typeof e?"message"in e&&"string"==typeof e.message?this.message=e.message:this.message=JSON.stringify(e,null,2):this.message="Unknown Error",this.message+=`\nRequest: ${t}`}}var v=(e=>(e.SELECT="select",e.SLIDER="slider",e.GROUP="group",e.CUSTOM="custom",e.COLOR="color",e.RADIO="radio",e.HIDDEN="hidden",e.INPUT="input",e.NUMBER_INPUT="numberInput",e.RANGE_SLIDER="rangeSlider",e.DATETIME_PICKER="datetimePicker",e))(v||{});const y=({value:e,onChange:t,min:n,max:r,step:i,...s})=>{const l=a.useRef(null),c=a.useRef(!1),[u,d]=a.useState(e?.toString()??"0"),p=a.useCallback((e=>{d(e.currentTarget.value),c.current=!0}),[]),f=a.useCallback((()=>{let e=Number(u);if(Number.isNaN(e)&&(e=0),void 0!==i){let t=1e3*i;for(void 0!==n&&(t=1e3*n);t<1e3*e;)t+=1e3*i;e=t/1e3}void 0!==r&&e>r?e=r:void 0!==n&&e<n&&(e=n),c.current&&(t?.(e),d(e.toString()),c.current=!1)}),[u,r,n,t,i]),h=a.useCallback((e=>{"Enter"===e.key&&l.current?.blur()}),[f]);return a.useEffect((()=>{d(e?.toString()||"0")}),[e]),a.createElement(o.Input,{ref:l,...s,type:"text",value:u,onChange:p,onBlur:f,onKeyDown:h})},{default:w}=n(3072),{default:E}=(o.stylesFactory(((e,t,n=!1)=>{const{spacing:r}=e,o=e.colors.border.strong,a=e.colors.primary.main,s=e.colors.primary.main,l=`box-shadow: 0px 0px 0px 6px ${e.colors.primary.transparent}`;return{container:i.css({width:"100%",margin:t?r(1,0,2.5):r(1,3,1,1),paddingBottom:t&&n?e.spacing(1):"inherit",height:t?"auto":"100%"}),slider:i.css`
      .rc-slider {
        display: flex;
        flex-grow: 1;
        margin-left: 7px; // half the size of the handle to align handle to the left on 0 value
      }
      .rc-slider-mark {
        top: ${e.spacing(1.75)};
      }
      .rc-slider-mark-text {
        color: ${e.colors.text.disabled};
        font-size: ${e.typography.bodySmall.fontSize};
      }
      .rc-slider-mark-text-active {
        color: ${e.colors.text.primary};
      }
      .rc-slider-handle {
        border: none;
        background-color: ${s};
        box-shadow: ${e.shadows.z1};
        cursor: pointer;
        opacity: 1;
      }

      .rc-slider-handle:hover,
      .rc-slider-handle:active,
      .rc-slider-handle-click-focused:focus {
        ${l};
      }

      // The triple class names is needed because that's the specificity used in the source css :(
      .rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging,
      .rc-slider-handle:focus-visible {
        box-shadow: 0 0 0 4px ${e.colors.text.primary};
      }

      .rc-slider-dot,
      .rc-slider-dot-active {
        background-color: ${e.colors.text.primary};
        border-color: ${e.colors.text.primary};
      }

      .rc-slider-track {
        background-color: ${a};
      }
      .rc-slider-rail {
        background-color: ${o};
        cursor: pointer;
      }
    `,tooltip:d.css`
      body {
        .rc-slider-tooltip {
          cursor: grab;
          user-select: none;
          z-index: ${e.zIndex.tooltip};
        }

        .rc-slider-tooltip-inner {
          color: ${e.colors.text.primary};
          background-color: transparent !important;
          border-radius: 0;
          box-shadow: none;
        }

        .rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {
          display: none;
        }

        .rc-slider-tooltip-placement-top {
          padding: 0;
        }
        
        .rc-tooltip-hidden {
          display: none;
        }
      }
    `,sliderInput:i.css({display:"flex",flexDirection:"row",alignItems:"center",width:"100%"}),sliderInputVertical:i.css({flexDirection:"column",height:"100%",".rc-slider":{margin:0,order:2}}),sliderInputField:i.css({marginLeft:e.spacing(3),input:{textAlign:"center"}}),sliderInputFieldVertical:i.css({margin:`0 0 ${e.spacing(3)} 0`,order:1})}})),n(7767)),{default:S}=n(7767);p.form;t.v4=({value:e,onChange:t,onBlur:n,minHeight:r,maxHeight:i,height:s,onEditorDidMount:l,monacoOptions:c,showMiniMap:u,isEscaping:d=!1,...m})=>{const b=o.useStyles2(f),[v,y]=a.useState(!1),[w,E]=a.useState(u),[S,C]=a.useState(c),[x,O]=a.useState(null),[A,D]=a.useState(null),[R,_]=a.useState(g(e,r,i)),k=a.useCallback(((e,t)=>{if(d){const n=e.getModel();n?.setEOL(t.editor.EndOfLineSequence.LF)}}),[d]),P=a.useCallback(((e,t)=>{k(e,t),O(e),l&&l(e,t)}),[k,l]),T=a.useCallback(((e,t)=>{if(k(e,t),D(e),x){const t=x?.getPosition();t&&(e.setPosition({lineNumber:t.lineNumber,column:t.column}),e.focus(),setTimeout((()=>{e.revealLineInCenter(t.lineNumber)}),0))}l&&l(e,t)}),[k,x,l]),I=a.useCallback((e=>{const n=d?e.replaceAll("\n","\\n"):e;t?.(n),_(g(e,r,i))}),[i,r,t,d]),j=a.useCallback((e=>{const t=d?e.replaceAll("\n","\\n"):e;n?.(t)}),[n,d]);return a.useEffect((()=>{_(g(e,r,i))}),[e,r,i]),a.createElement(a.Fragment,null,a.createElement(h,{editorValue:e,setIsOpen:y,monacoEditor:x,isShowMiniMap:w,setIsShowMiniMap:E,currentMonacoOptions:S,setCurrentMonacoOptions:C}),a.createElement(o.CodeEditor,{value:d?e.replaceAll("\\n","\n"):e,showMiniMap:w,height:s??R,monacoOptions:S,onEditorDidMount:P,onChange:I,onBlur:j,...m}),a.createElement(o.Modal,{title:"Code editor",isOpen:v,onDismiss:()=>y(!1),className:b.modal,contentClassName:b.modalBody,closeOnEscape:!0,trapFocus:!0},a.createElement("div",{className:b.content,...p.codeEditor.modal.apply()},a.createElement(h,{isModal:!0,editorValue:e,setIsOpen:y,isShowMiniMap:w,monacoEditor:A,setIsShowMiniMap:E,currentMonacoOptions:S,setCurrentMonacoOptions:C}),a.createElement(o.CodeEditor,{value:d?e.replaceAll("\\n","\n"):e,showMiniMap:w,containerStyles:b.modalEditor,monacoOptions:S,onEditorDidMount:T,onChange:I,onBlur:j,...m}))))},t.SD=({title:e,actions:t,children:n,isOpen:r=!1,onToggle:s,headerTestId:l,contentTestId:c,fill:u="outline",isInlineContent:d=!1,isExpandDisabled:p=!1})=>{const f=o.useTheme2(),h=o.useStyles2(m),g="solid"===u,b="outline"===u;return a.createElement("div",{className:i.cx({[h.rootOutline]:b})},a.createElement("div",{className:i.cx(h.header,{[h.headerSolid]:g}),"data-testid":l,onClick:()=>{p||s?.(!r)}},a.createElement(o.IconButton,{name:r?"angle-down":"angle-right",tooltip:r?"Collapse":"Expand",className:h.collapseIcon,disabled:p,"aria-expanded":r}),a.createElement("div",{className:h.title},e),t&&a.createElement("div",{className:h.actions,onClick:e=>e.stopPropagation()},t)),r&&a.createElement("div",{style:{padding:d?0:f.spacing(.5)},"data-testid":c},n))},t.Q7=y,t.rC=()=>a.useCallback((()=>window.__grafanaSceneContext?l.sceneGraph.getTimeRange(window.__grafanaSceneContext)?.onRefresh():s.getAppEvents().publish({type:"variables-changed",payload:{refreshAll:!0}})),[]),t.fD=({eventBus:e,variableName:t,refreshCheckCount:n=5,refreshCheckInterval:r=500,getOne:o,toState:i,initial:l})=>{const c=a.useRef({getOne:o,toState:i}),[u,d]=a.useState(l),[p,f]=a.useState(),h=window.__grafanaSceneContext?.useState(),[g,m]=a.useReducer((e=>e+1),0),b=a.useRef(null);a.useEffect((()=>{if(!h?.$variables?.state.variables||g>=n)return;const e=h.$variables?.state.variables,t=e?.some((e=>e?.state.loading)),o=()=>{b.current&&(clearTimeout(b.current),b.current=null)};return t?b.current=setTimeout((()=>{m()}),r):(o(),d(c.current.toState(s.getTemplateSrv().getVariables()))),()=>{o()}}),[h?.$variables?.state.variables,g]),a.useEffect((()=>{d(c.current.toState(s.getTemplateSrv().getVariables()));const t=e.getStream(s.RefreshEvent).subscribe((()=>{d(c.current.toState(s.getTemplateSrv().getVariables()))}));return()=>{t.unsubscribe()}}),[e]);const v=a.useCallback((e=>c.current.getOne(u,e)),[u]);return a.useEffect((()=>{f(v(t))}),[v,t]),{variable:p,getVariable:v,variables:u}},t.ki=()=>a.useCallback((async({query:e,datasource:t,replaceVariables:n,payload:r})=>{const o=await s.getDataSourceSrv().get(t),a=n(JSON.stringify(e,null,2),{payload:{value:r}}),i=JSON.parse(a);try{const e=o.query({targets:[i]}),t=e=>{if(e.state&&e.state===c.LoadingState.Error)throw e?.errors?.[0]||e;return e};return e instanceof Promise?await e.then(t):await u.lastValueFrom(e).then(t)}catch(e){throw new b(e,a)}}),[])},7767:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var r=n(7405),o=n(1705),a=n(4300),i=n(7850),s=n(694),l=n(4452),c=n.n(l),u=n(9273),d=n(4358);var p=n(5959),f=n(8102),h=n(9644);function g(e,t,n){return(e-t)/(n-t)}function m(e,t,n,r){var o=g(t,n,r),a={};switch(e){case"rtl":a.right="".concat(100*o,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(100*o,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(100*o,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(100*o,"%"),a.transform="translateX(-50%)"}return a}function b(e,t){return Array.isArray(e)?e[t]:e}var v={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=v.F1&&t<=v.F12)return!1;switch(t){case v.ALT:case v.CAPS_LOCK:case v.CONTEXT_MENU:case v.CTRL:case v.DOWN:case v.END:case v.ESC:case v.HOME:case v.INSERT:case v.LEFT:case v.MAC_FF_META:case v.META:case v.NUMLOCK:case v.NUM_CENTER:case v.PAGE_DOWN:case v.PAGE_UP:case v.PAUSE:case v.PRINT_SCREEN:case v.RIGHT:case v.SHIFT:case v.UP:case v.WIN_KEY:case v.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=v.ZERO&&e<=v.NINE)return!0;if(e>=v.NUM_ZERO&&e<=v.NUM_MULTIPLY)return!0;if(e>=v.A&&e<=v.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case v.SPACE:case v.QUESTION_MARK:case v.NUM_PLUS:case v.NUM_MINUS:case v.NUM_PERIOD:case v.NUM_DIVISION:case v.SEMICOLON:case v.DASH:case v.EQUALS:case v.COMMA:case v.PERIOD:case v.SLASH:case v.APOSTROPHE:case v.SINGLE_QUOTE:case v.OPEN_SQUARE_BRACKET:case v.BACKSLASH:case v.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const y=v,w=p.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});var E=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"];const S=p.forwardRef((function(e,t){var n,a=e.prefixCls,i=e.value,s=e.valueIndex,l=e.onStartMove,u=e.style,d=e.render,g=e.dragging,v=e.onOffsetChange,S=e.onChangeComplete,C=e.onFocus,x=e.onMouseEnter,O=(0,h.A)(e,E),A=p.useContext(w),D=A.min,R=A.max,_=A.direction,k=A.disabled,P=A.keyboard,T=A.range,I=A.tabIndex,j=A.ariaLabelForHandle,F=A.ariaLabelledByForHandle,M=A.ariaValueTextFormatterForHandle,L=A.styles,N=A.classNames,B="".concat(a,"-handle"),V=function(e){k||l(e,s)},z=m(_,i,D,R),$={};null!==s&&($={tabIndex:k?null:b(I,s),role:"slider","aria-valuemin":D,"aria-valuemax":R,"aria-valuenow":i,"aria-disabled":k,"aria-label":b(j,s),"aria-labelledby":b(F,s),"aria-valuetext":null===(n=b(M,s))||void 0===n?void 0:n(i),"aria-orientation":"ltr"===_||"rtl"===_?"horizontal":"vertical",onMouseDown:V,onTouchStart:V,onFocus:function(e){null==C||C(e,s)},onMouseEnter:function(e){x(e,s)},onKeyDown:function(e){if(!k&&P){var t=null;switch(e.which||e.keyCode){case y.LEFT:t="ltr"===_||"btt"===_?-1:1;break;case y.RIGHT:t="ltr"===_||"btt"===_?1:-1;break;case y.UP:t="ttb"!==_?1:-1;break;case y.DOWN:t="ttb"!==_?-1:1;break;case y.HOME:t="min";break;case y.END:t="max";break;case y.PAGE_UP:t=2;break;case y.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),v(t,s))}},onKeyUp:function(e){switch(e.which||e.keyCode){case y.LEFT:case y.RIGHT:case y.UP:case y.DOWN:case y.HOME:case y.END:case y.PAGE_UP:case y.PAGE_DOWN:null==S||S()}}});var U=p.createElement("div",(0,f.A)({ref:t,className:c()(B,(0,o.A)((0,o.A)({},"".concat(B,"-").concat(s+1),null!==s&&T),"".concat(B,"-dragging"),g),N.handle),style:(0,r.A)((0,r.A)((0,r.A)({},z),u),L.handle)},$,O));return d&&(U=d(U,{index:s,prefixCls:a,value:i,dragging:g})),U}));var C=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","onFocus"];const x=p.forwardRef((function(e,t){var n=e.prefixCls,o=e.style,a=e.onStartMove,s=e.onOffsetChange,l=e.values,c=e.handleRender,u=e.activeHandleRender,d=e.draggingIndex,g=e.onFocus,m=(0,h.A)(e,C),v=p.useRef({});p.useImperativeHandle(t,(function(){return{focus:function(e){var t;null===(t=v.current[e])||void 0===t||t.focus()}}}));var y=p.useState(-1),w=(0,i.A)(y,2),E=w[0],x=w[1],O=(0,r.A)({prefixCls:n,onStartMove:a,onOffsetChange:s,render:c,onFocus:function(e,t){x(t),null==g||g(e)},onMouseEnter:function(e,t){x(t)}},m);return p.createElement(p.Fragment,null,l.map((function(e,t){return p.createElement(S,(0,f.A)({ref:function(e){e?v.current[t]=e:delete v.current[t]},dragging:d===t,style:b(o,t),key:t,value:e,valueIndex:t},O))})),u&&p.createElement(S,(0,f.A)({key:"a11y"},O,{value:l[E],valueIndex:null,dragging:-1!==d,render:u,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))})),O=function(e){var t=e.prefixCls,n=e.style,a=e.children,i=e.value,s=e.onClick,l=p.useContext(w),u=l.min,d=l.max,f=l.direction,h=l.includedStart,g=l.includedEnd,b=l.included,v="".concat(t,"-text"),y=m(f,i,u,d);return p.createElement("span",{className:c()(v,(0,o.A)({},"".concat(v,"-active"),b&&h<=i&&i<=g)),style:(0,r.A)((0,r.A)({},y),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){s(i)}},a)},A=function(e){var t=e.prefixCls,n=e.marks,r=e.onClick,o="".concat(t,"-mark");return n.length?p.createElement("div",{className:o},n.map((function(e){var t=e.value,n=e.style,a=e.label;return p.createElement(O,{key:t,prefixCls:o,style:n,value:t,onClick:r},a)}))):null},D=function(e){var t=e.prefixCls,n=e.value,a=e.style,i=e.activeStyle,s=p.useContext(w),l=s.min,u=s.max,d=s.direction,f=s.included,h=s.includedStart,g=s.includedEnd,b="".concat(t,"-dot"),v=f&&h<=n&&n<=g,y=(0,r.A)((0,r.A)({},m(d,n,l,u)),"function"==typeof a?a(n):a);return v&&(y=(0,r.A)((0,r.A)({},y),"function"==typeof i?i(n):i)),p.createElement("span",{className:c()(b,(0,o.A)({},"".concat(b,"-active"),v)),style:y})},R=function(e){var t=e.prefixCls,n=e.marks,r=e.dots,o=e.style,a=e.activeStyle,i=p.useContext(w),s=i.min,l=i.max,c=i.step,u=p.useMemo((function(){var e=new Set;if(n.forEach((function(t){e.add(t.value)})),r&&null!==c)for(var t=s;t<=l;)e.add(t),t+=c;return Array.from(e)}),[s,l,c,r,n]);return p.createElement("div",{className:"".concat(t,"-step")},u.map((function(e){return p.createElement(D,{prefixCls:t,key:e,value:e,style:o,activeStyle:a})})))},_=function(e){var t=e.prefixCls,n=e.style,a=e.start,i=e.end,s=e.index,l=e.onStartMove,u=e.replaceCls,d=p.useContext(w),f=d.direction,h=d.min,m=d.max,b=d.disabled,v=d.range,y=d.classNames,E="".concat(t,"-track"),S=g(a,h,m),C=g(i,h,m),x=function(e){!b&&l&&l(e,-1)},O={};switch(f){case"rtl":O.right="".concat(100*S,"%"),O.width="".concat(100*C-100*S,"%");break;case"btt":O.bottom="".concat(100*S,"%"),O.height="".concat(100*C-100*S,"%");break;case"ttb":O.top="".concat(100*S,"%"),O.height="".concat(100*C-100*S,"%");break;default:O.left="".concat(100*S,"%"),O.width="".concat(100*C-100*S,"%")}var A=u||c()(E,(0,o.A)((0,o.A)({},"".concat(E,"-").concat(s+1),null!==s&&v),"".concat(t,"-track-draggable"),l),y.track);return p.createElement("div",{className:A,style:(0,r.A)((0,r.A)({},O),n),onMouseDown:x,onTouchStart:x})},k=function(e){var t=e.prefixCls,n=e.style,o=e.values,a=e.startPoint,i=e.onStartMove,s=p.useContext(w),l=s.included,u=s.range,d=s.min,f=s.styles,h=s.classNames,g=p.useMemo((function(){if(!u){if(0===o.length)return[];var e=null!=a?a:d,t=o[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],r=0;r<o.length-1;r+=1)n.push({start:o[r],end:o[r+1]});return n}),[o,u,a,d]);if(!l)return null;var m=h.tracks||f.tracks?p.createElement(_,{index:null,prefixCls:t,start:g[0].start,end:g[g.length-1].end,replaceCls:c()(h.tracks,"".concat(t,"-tracks")),style:f.tracks}):null;return p.createElement(p.Fragment,null,m,g.map((function(e,o){var a=e.start,s=e.end;return p.createElement(_,{index:o,prefixCls:t,style:(0,r.A)((0,r.A)({},b(n,o)),f.track),start:a,end:s,key:o,onStartMove:i})})))};var P=n(291);function T(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}const I=p.forwardRef((function(e,t){var n=e.prefixCls,l=void 0===n?"rc-slider":n,f=e.className,h=e.style,g=e.classNames,m=e.styles,b=e.disabled,v=void 0!==b&&b,y=e.keyboard,E=void 0===y||y,S=e.autoFocus,C=e.onFocus,O=e.onBlur,D=e.min,_=void 0===D?0:D,I=e.max,j=void 0===I?100:I,F=e.step,M=void 0===F?1:F,L=e.value,N=e.defaultValue,B=e.range,V=e.count,z=e.onChange,$=e.onBeforeChange,U=e.onAfterChange,H=e.onChangeComplete,q=e.allowCross,G=void 0===q||q,W=e.pushable,Q=void 0!==W&&W,Y=e.draggableTrack,X=e.reverse,K=e.vertical,Z=e.included,J=void 0===Z||Z,ee=e.startPoint,te=e.trackStyle,ne=e.handleStyle,re=e.railStyle,oe=e.dotStyle,ae=e.activeDotStyle,ie=e.marks,se=e.dots,le=e.handleRender,ce=e.activeHandleRender,ue=e.tabIndex,de=void 0===ue?0:ue,pe=e.ariaLabelForHandle,fe=e.ariaLabelledByForHandle,he=e.ariaValueTextFormatterForHandle,ge=p.useRef(null),me=p.useRef(null),be=p.useMemo((function(){return K?X?"ttb":"btt":X?"rtl":"ltr"}),[X,K]),ve=p.useMemo((function(){return isFinite(_)?_:0}),[_]),ye=p.useMemo((function(){return isFinite(j)?j:100}),[j]),we=p.useMemo((function(){return null!==M&&M<=0?1:M}),[M]),Ee=p.useMemo((function(){return"boolean"==typeof Q?!!Q&&we:Q>=0&&Q}),[Q,we]),Se=p.useMemo((function(){return Object.keys(ie||{}).map((function(e){var t=ie[e],n={value:Number(e)};return t&&"object"===(0,s.A)(t)&&!p.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n})).filter((function(e){var t=e.label;return t||"number"==typeof t})).sort((function(e,t){return e.value-t.value}))}),[ie]),Ce=function(e,t,n,r,o,i){var s=p.useCallback((function(n){return Math.max(e,Math.min(t,n))}),[e,t]),l=p.useCallback((function(r){if(null!==n){var o=e+Math.round((s(r)-e)/n)*n,a=function(e){return(String(e).split(".")[1]||"").length},i=Math.max(a(n),a(t),a(e)),l=Number(o.toFixed(i));return e<=l&&l<=t?l:null}return null}),[n,e,t,s]),c=p.useCallback((function(o){var a=s(o),i=r.map((function(e){return e.value}));null!==n&&i.push(l(o)),i.push(e,t);var c=i[0],u=t-e;return i.forEach((function(e){var t=Math.abs(a-e);t<=u&&(c=e,u=t)})),c}),[e,t,r,n,s,l]),u=function o(i,s,c){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof s){var d,p=i[c],f=p+s,h=[];r.forEach((function(e){h.push(e.value)})),h.push(e,t),h.push(l(p));var g=s>0?1:-1;"unit"===u?h.push(l(p+g*n)):h.push(l(f)),h=h.filter((function(e){return null!==e})).filter((function(e){return s<0?e<=p:e>=p})),"unit"===u&&(h=h.filter((function(e){return e!==p})));var m="unit"===u?p:f;d=h[0];var b=Math.abs(d-m);if(h.forEach((function(e){var t=Math.abs(e-m);t<b&&(d=e,b=t)})),void 0===d)return s<0?e:t;if("dist"===u)return d;if(Math.abs(s)>1){var v=(0,a.A)(i);return v[c]=d,o(v,s-g,c,u)}return d}return"min"===s?e:"max"===s?t:void 0},d=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e[n],a=u(e,t,n,r);return{value:a,changed:a!==o}},f=function(e){return null===i&&0===e||"number"==typeof i&&e<i};return[c,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e.map(c),s=a[n],l=u(a,t,n,r);if(a[n]=l,!1===o){var p=i||0;n>0&&a[n-1]!==s&&(a[n]=Math.max(a[n],a[n-1]+p)),n<a.length-1&&a[n+1]!==s&&(a[n]=Math.min(a[n],a[n+1]-p))}else if("number"==typeof i||null===i){for(var h=n+1;h<a.length;h+=1)for(var g=!0;f(a[h]-a[h-1])&&g;){var m=d(a,1,h);a[h]=m.value,g=m.changed}for(var b=n;b>0;b-=1)for(var v=!0;f(a[b]-a[b-1])&&v;){var y=d(a,-1,b-1);a[b-1]=y.value,v=y.changed}for(var w=a.length-1;w>0;w-=1)for(var E=!0;f(a[w]-a[w-1])&&E;){var S=d(a,-1,w-1);a[w-1]=S.value,E=S.changed}for(var C=0;C<a.length-1;C+=1)for(var x=!0;f(a[C+1]-a[C])&&x;){var O=d(a,1,C+1);a[C+1]=O.value,x=O.changed}}return{value:a[n],values:a}}]}(ve,ye,we,Se,G,Ee),xe=(0,i.A)(Ce,2),Oe=xe[0],Ae=xe[1],De=(0,u.A)(N,{value:L}),Re=(0,i.A)(De,2),_e=Re[0],ke=Re[1],Pe=p.useMemo((function(){var e=null==_e?[]:Array.isArray(_e)?_e:[_e],t=(0,i.A)(e,1)[0],n=null===_e?[]:[void 0===t?ve:t];if(B){if(n=(0,a.A)(e),V||void 0===_e){var r=V>=0?V+1:2;for(n=n.slice(0,r);n.length<r;){var o;n.push(null!==(o=n[n.length-1])&&void 0!==o?o:ve)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=Oe(e)})),n}),[_e,B,ve,V,Oe]),Te=p.useRef(Pe);Te.current=Pe;var Ie=function(e){return B?e:e[0]},je=function(e){var t=(0,a.A)(e).sort((function(e,t){return e-t}));z&&!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=r.has(t);if((0,d.Ay)(!i,"Warning: There may be circular references"),i)return!1;if(t===o)return!0;if(n&&a>1)return!1;r.add(t);var l=a+1;if(Array.isArray(t)){if(!Array.isArray(o)||t.length!==o.length)return!1;for(var c=0;c<t.length;c++)if(!e(t[c],o[c],l))return!1;return!0}if(t&&o&&"object"===(0,s.A)(t)&&"object"===(0,s.A)(o)){var u=Object.keys(t);return u.length===Object.keys(o).length&&u.every((function(n){return e(t[n],o[n],l)}))}return!1}(e,t)}(t,Te.current,!0)&&z(Ie(t)),ke(t)},Fe=function(){var e=Ie(Te.current);null==U||U(e),(0,d.Ay)(!U,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==H||H(e)},Me=function(e,t,n,r,o,s,l,c,u){var d=p.useState(null),f=(0,i.A)(d,2),h=f[0],g=f[1],m=p.useState(-1),b=(0,i.A)(m,2),v=b[0],y=b[1],w=p.useState(n),E=(0,i.A)(w,2),S=E[0],C=E[1],x=p.useState(n),O=(0,i.A)(x,2),A=O[0],D=O[1],R=p.useRef(null),_=p.useRef(null);p.useLayoutEffect((function(){-1===v&&C(n)}),[n,v]),p.useEffect((function(){return function(){document.removeEventListener("mousemove",R.current),document.removeEventListener("mouseup",_.current),document.removeEventListener("touchmove",R.current),document.removeEventListener("touchend",_.current)}}),[]);var k=function(e,t){S.some((function(t,n){return t!==e[n]}))&&(void 0!==t&&g(t),C(e),l(e))},I=(0,P._q)((function(e,t){if(-1===e){var n=A[0],i=A[A.length-1],l=r-n,c=o-i,d=t*(o-r);d=Math.max(d,l),d=Math.min(d,c);var p=s(n+d);d=p-n;var f=A.map((function(e){return e+d}));k(f)}else{var h=(o-r)*t,g=(0,a.A)(S);g[e]=A[e];var m=u(g,h,e,"dist");k(m.values,m.value)}})),j=p.useMemo((function(){var e=(0,a.A)(n).sort((function(e,t){return e-t})),t=(0,a.A)(S).sort((function(e,t){return e-t}));return e.every((function(e,n){return e===t[n]}))?S:n}),[n,S]);return[v,h,j,function(r,o,a){r.stopPropagation();var i=a||n,s=i[o];y(o),g(s),D(i);var l=T(r),u=l.pageX,d=l.pageY,p=function(n){n.preventDefault();var r,a=T(n),i=a.pageX,s=a.pageY,l=i-u,c=s-d,p=e.current.getBoundingClientRect(),f=p.width,h=p.height;switch(t){case"btt":r=-c/h;break;case"ttb":r=c/h;break;case"rtl":r=-l/f;break;default:r=l/f}I(o,r)},f=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",p),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",p),R.current=null,_.current=null,y(-1),c()};document.addEventListener("mouseup",f),document.addEventListener("mousemove",p),document.addEventListener("touchend",f),document.addEventListener("touchmove",p),R.current=p,_.current=f}]}(me,be,Pe,ve,ye,Oe,je,Fe,Ae),Le=(0,i.A)(Me,4),Ne=Le[0],Be=Le[1],Ve=Le[2],ze=Le[3],$e=function(e,t){if(!v){var n=0,r=ye-ve;Pe.forEach((function(t,o){var a=Math.abs(e-t);a<=r&&(r=a,n=o)}));var o,i,s=(0,a.A)(Pe);s[n]=e,B&&!Pe.length&&void 0===V&&s.push(e),null==$||$(Ie(s)),je(s),t&&(null===(o=document.activeElement)||void 0===o||null===(i=o.blur)||void 0===i||i.call(o),ge.current.focus(n),ze(t,n,s))}},Ue=p.useState(null),He=(0,i.A)(Ue,2),qe=He[0],Ge=He[1];p.useEffect((function(){if(null!==qe){var e=Pe.indexOf(qe);e>=0&&ge.current.focus(e)}Ge(null)}),[qe]);var We=p.useMemo((function(){return(!Y||null!==we)&&Y}),[Y,we]),Qe=function(e,t){ze(e,t),null==$||$(Ie(Te.current))},Ye=-1!==Ne;p.useEffect((function(){if(!Ye){var e=Pe.lastIndexOf(Be);ge.current.focus(e)}}),[Ye]);var Xe=p.useMemo((function(){return(0,a.A)(Ve).sort((function(e,t){return e-t}))}),[Ve]),Ke=p.useMemo((function(){return B?[Xe[0],Xe[Xe.length-1]]:[ve,Xe[0]]}),[Xe,B,ve]),Ze=(0,i.A)(Ke,2),Je=Ze[0],et=Ze[1];p.useImperativeHandle(t,(function(){return{focus:function(){ge.current.focus(0)},blur:function(){var e,t=document.activeElement;null!==(e=me.current)&&void 0!==e&&e.contains(t)&&(null==t||t.blur())}}})),p.useEffect((function(){S&&ge.current.focus(0)}),[]);var tt=p.useMemo((function(){return{min:ve,max:ye,direction:be,disabled:v,keyboard:E,step:we,included:J,includedStart:Je,includedEnd:et,range:B,tabIndex:de,ariaLabelForHandle:pe,ariaLabelledByForHandle:fe,ariaValueTextFormatterForHandle:he,styles:m||{},classNames:g||{}}}),[ve,ye,be,v,E,we,J,Je,et,B,de,pe,fe,he,m,g]);return p.createElement(w.Provider,{value:tt},p.createElement("div",{ref:me,className:c()(l,f,(0,o.A)((0,o.A)((0,o.A)((0,o.A)({},"".concat(l,"-disabled"),v),"".concat(l,"-vertical"),K),"".concat(l,"-horizontal"),!K),"".concat(l,"-with-marks"),Se.length)),style:h,onMouseDown:function(e){e.preventDefault();var t,n=me.current.getBoundingClientRect(),r=n.width,o=n.height,a=n.left,i=n.top,s=n.bottom,l=n.right,c=e.clientX,u=e.clientY;switch(be){case"btt":t=(s-u)/o;break;case"ttb":t=(u-i)/o;break;case"rtl":t=(l-c)/r;break;default:t=(c-a)/r}$e(Oe(ve+t*(ye-ve)),e)}},p.createElement("div",{className:c()("".concat(l,"-rail"),null==g?void 0:g.rail),style:(0,r.A)((0,r.A)({},re),null==m?void 0:m.rail)}),p.createElement(k,{prefixCls:l,style:te,values:Xe,startPoint:ee,onStartMove:We?Qe:void 0}),p.createElement(R,{prefixCls:l,marks:Se,dots:se,style:oe,activeStyle:ae}),p.createElement(x,{ref:ge,prefixCls:l,style:ne,values:Ve,draggingIndex:Ne,onStartMove:Qe,onOffsetChange:function(e,t){if(!v){var n=Ae(Pe,e,t);null==$||$(Ie(Pe)),je(n.values),Ge(n.value)}},onFocus:C,onBlur:O,handleRender:le,activeHandleRender:ce,onChangeComplete:Fe}),p.createElement(A,{prefixCls:l,marks:Se,onClick:$e})))}))},9997:(e,t)=>{"use strict";t.createSelector=function(e,t){const n="string"==typeof e?()=>e:e;let r="aria-label";return t?r=t:n().startsWith("data-testid")&&(r="data-testid"),{selector:n,apply:(...e)=>({[r]:n(...e)})}},t.getJestSelectors=(e,t=[])=>n=>Object.entries(e).reduce(((e,[r,o])=>({...e,[r]:(e=!1,...a)=>{const i="object"==typeof o&&"selector"in o?o.selector:o,s="function"==typeof i?i(...a):i;return s.startsWith("data-testid")||t.includes(r)?e?n.queryByTestId(s):n.getByTestId(s):e?n.queryByLabelText(s):n.getByLabelText(s)}})),{})},6005:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4942),o=n.n(r),a=n(278),i=n.n(a)()(o());i.push([e.id,".rc-slider {\n  position: relative;\n  width: 100%;\n  height: 14px;\n  padding: 5px 0;\n  border-radius: 6px;\n  touch-action: none;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-rail {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background-color: #e9e9e9;\n  border-radius: 6px;\n}\n.rc-slider-track,\n.rc-slider-tracks {\n  position: absolute;\n  height: 4px;\n  background-color: #abe2fb;\n  border-radius: 6px;\n}\n.rc-slider-track-draggable {\n  z-index: 1;\n  box-sizing: content-box;\n  background-clip: content-box;\n  border-top: 5px solid rgba(0, 0, 0, 0);\n  border-bottom: 5px solid rgba(0, 0, 0, 0);\n  transform: translateY(-5px);\n}\n.rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  width: 14px;\n  height: 14px;\n  margin-top: -5px;\n  background-color: #fff;\n  border: solid 2px #96dbfa;\n  border-radius: 50%;\n  cursor: pointer;\n  cursor: -webkit-grab;\n  cursor: grab;\n  opacity: 0.8;\n  touch-action: pan-x;\n}\n.rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging {\n  border-color: #57c5f7;\n  box-shadow: 0 0 0 5px #96dbfa;\n}\n.rc-slider-handle:focus {\n  outline: none;\n  box-shadow: none;\n}\n.rc-slider-handle:focus-visible {\n  border-color: #2db7f5;\n  box-shadow: 0 0 0 3px #96dbfa;\n}\n.rc-slider-handle-click-focused:focus {\n  border-color: #96dbfa;\n  box-shadow: unset;\n}\n.rc-slider-handle:hover {\n  border-color: #57c5f7;\n}\n.rc-slider-handle:active {\n  border-color: #57c5f7;\n  box-shadow: 0 0 5px #57c5f7;\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n.rc-slider-mark {\n  position: absolute;\n  top: 18px;\n  left: 0;\n  width: 100%;\n  font-size: 12px;\n}\n.rc-slider-mark-text {\n  position: absolute;\n  display: inline-block;\n  color: #999;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.rc-slider-mark-text-active {\n  color: #666;\n}\n.rc-slider-step {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background: transparent;\n}\n.rc-slider-dot {\n  position: absolute;\n  bottom: -2px;\n  width: 8px;\n  height: 8px;\n  vertical-align: middle;\n  background-color: #fff;\n  border: 2px solid #e9e9e9;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.rc-slider-dot-active {\n  border-color: #96dbfa;\n}\n.rc-slider-dot-reverse {\n  margin-right: -4px;\n}\n.rc-slider-disabled {\n  background-color: #e9e9e9;\n}\n.rc-slider-disabled .rc-slider-track {\n  background-color: #ccc;\n}\n.rc-slider-disabled .rc-slider-handle,\n.rc-slider-disabled .rc-slider-dot {\n  background-color: #fff;\n  border-color: #ccc;\n  box-shadow: none;\n  cursor: not-allowed;\n}\n.rc-slider-disabled .rc-slider-mark-text,\n.rc-slider-disabled .rc-slider-dot {\n  cursor: not-allowed !important;\n}\n.rc-slider-vertical {\n  width: 14px;\n  height: 100%;\n  padding: 0 5px;\n}\n.rc-slider-vertical .rc-slider-rail {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-track {\n  bottom: 0;\n  left: 5px;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-track-draggable {\n  border-top: 0;\n  border-bottom: 0;\n  border-right: 5px solid rgba(0, 0, 0, 0);\n  border-left: 5px solid rgba(0, 0, 0, 0);\n  transform: translateX(-5px);\n}\n.rc-slider-vertical .rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  margin-top: 0;\n  margin-left: -5px;\n  touch-action: pan-y;\n}\n.rc-slider-vertical .rc-slider-mark {\n  top: 0;\n  left: 18px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-step {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-dot {\n  margin-left: -2px;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-leave {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,\n.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active {\n  animation-name: rcSliderTooltipZoomDownIn;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active {\n  animation-name: rcSliderTooltipZoomDownOut;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  transform: scale(0, 0);\n  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n}\n.rc-slider-tooltip-zoom-down-leave {\n  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n}\n@keyframes rcSliderTooltipZoomDownIn {\n  0% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n}\n@keyframes rcSliderTooltipZoomDownOut {\n  0% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n  100% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n}\n.rc-slider-tooltip {\n  position: absolute;\n  top: -9999px;\n  left: -9999px;\n  visibility: visible;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip-hidden {\n  display: none;\n}\n.rc-slider-tooltip-placement-top {\n  padding: 4px 0 8px 0;\n}\n.rc-slider-tooltip-inner {\n  min-width: 24px;\n  height: 24px;\n  padding: 6px 2px;\n  color: #fff;\n  font-size: 12px;\n  line-height: 1;\n  text-align: center;\n  text-decoration: none;\n  background-color: #6c6c6c;\n  border-radius: 6px;\n  box-shadow: 0 0 4px #d9d9d9;\n}\n.rc-slider-tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {\n  bottom: 4px;\n  left: 50%;\n  margin-left: -4px;\n  border-width: 4px 4px 0;\n  border-top-color: #6c6c6c;\n}\n","",{version:3,sources:["webpack://./../node_modules/@volkovlabs/components/node_modules/rc-slider/assets/index.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,WAAW;EACX,yBAAyB;EACzB,kBAAkB;AACpB;AACA;;EAEE,kBAAkB;EAClB,WAAW;EACX,yBAAyB;EACzB,kBAAkB;AACpB;AACA;EACE,UAAU;EACV,uBAAuB;EACvB,4BAA4B;EAC5B,sCAAsC;EACtC,yCAAyC;EACzC,2BAA2B;AAC7B;AACA;EACE,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,sBAAsB;EACtB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,oBAAoB;EACpB,YAAY;EACZ,YAAY;EACZ,mBAAmB;AACrB;AACA;EACE,qBAAqB;EACrB,6BAA6B;AAC/B;AACA;EACE,aAAa;EACb,gBAAgB;AAClB;AACA;EACE,qBAAqB;EACrB,6BAA6B;AAC/B;AACA;EACE,qBAAqB;EACrB,iBAAiB;AACnB;AACA;EACE,qBAAqB;AACvB;AACA;EACE,qBAAqB;EACrB,2BAA2B;EAC3B,wBAAwB;EACxB,gBAAgB;AAClB;AACA;EACE,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,WAAW;EACX,eAAe;AACjB;AACA;EACE,kBAAkB;EAClB,qBAAqB;EACrB,WAAW;EACX,kBAAkB;EAClB,sBAAsB;EACtB,eAAe;AACjB;AACA;EACE,WAAW;AACb;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,WAAW;EACX,uBAAuB;AACzB;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,UAAU;EACV,WAAW;EACX,sBAAsB;EACtB,sBAAsB;EACtB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;AACjB;AACA;EACE,qBAAqB;AACvB;AACA;EACE,kBAAkB;AACpB;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,sBAAsB;AACxB;AACA;;EAEE,sBAAsB;EACtB,kBAAkB;EAClB,gBAAgB;EAChB,mBAAmB;AACrB;AACA;;EAEE,8BAA8B;AAChC;AACA;EACE,WAAW;EACX,YAAY;EACZ,cAAc;AAChB;AACA;EACE,UAAU;EACV,YAAY;AACd;AACA;EACE,SAAS;EACT,SAAS;EACT,UAAU;AACZ;AACA;EACE,aAAa;EACb,gBAAgB;EAChB,wCAAwC;EACxC,uCAAuC;EACvC,2BAA2B;AAC7B;AACA;EACE,kBAAkB;EAClB,UAAU;EACV,aAAa;EACb,iBAAiB;EACjB,mBAAmB;AACrB;AACA;EACE,MAAM;EACN,UAAU;EACV,YAAY;AACd;AACA;EACE,UAAU;EACV,YAAY;AACd;AACA;EACE,iBAAiB;AACnB;AACA;;EAEE,yBAAyB;EACzB,wBAAwB;EACxB,yBAAyB;EACzB,4BAA4B;AAC9B;AACA;EACE,yBAAyB;EACzB,wBAAwB;EACxB,yBAAyB;EACzB,4BAA4B;AAC9B;AACA;;EAEE,yCAAyC;EACzC,6BAA6B;AAC/B;AACA;EACE,0CAA0C;EAC1C,6BAA6B;AAC/B;AACA;;EAEE,sBAAsB;EACtB,yDAAyD;AAC3D;AACA;EACE,iEAAiE;AACnE;AACA;EACE;IACE,sBAAsB;IACtB,0BAA0B;IAC1B,UAAU;EACZ;EACA;IACE,sBAAsB;IACtB,0BAA0B;EAC5B;AACF;AACA;EACE;IACE,sBAAsB;IACtB,0BAA0B;EAC5B;EACA;IACE,sBAAsB;IACtB,0BAA0B;IAC1B,UAAU;EACZ;AACF;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,aAAa;AACf;AACA;EACE,oBAAoB;AACtB;AACA;EACE,eAAe;EACf,YAAY;EACZ,gBAAgB;EAChB,WAAW;EACX,eAAe;EACf,cAAc;EACd,kBAAkB;EAClB,qBAAqB;EACrB,yBAAyB;EACzB,kBAAkB;EAClB,2BAA2B;AAC7B;AACA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,yBAAyB;EACzB,mBAAmB;AACrB;AACA;EACE,WAAW;EACX,SAAS;EACT,iBAAiB;EACjB,uBAAuB;EACvB,yBAAyB;AAC3B",sourcesContent:[".rc-slider {\n  position: relative;\n  width: 100%;\n  height: 14px;\n  padding: 5px 0;\n  border-radius: 6px;\n  touch-action: none;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-rail {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background-color: #e9e9e9;\n  border-radius: 6px;\n}\n.rc-slider-track,\n.rc-slider-tracks {\n  position: absolute;\n  height: 4px;\n  background-color: #abe2fb;\n  border-radius: 6px;\n}\n.rc-slider-track-draggable {\n  z-index: 1;\n  box-sizing: content-box;\n  background-clip: content-box;\n  border-top: 5px solid rgba(0, 0, 0, 0);\n  border-bottom: 5px solid rgba(0, 0, 0, 0);\n  transform: translateY(-5px);\n}\n.rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  width: 14px;\n  height: 14px;\n  margin-top: -5px;\n  background-color: #fff;\n  border: solid 2px #96dbfa;\n  border-radius: 50%;\n  cursor: pointer;\n  cursor: -webkit-grab;\n  cursor: grab;\n  opacity: 0.8;\n  touch-action: pan-x;\n}\n.rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging {\n  border-color: #57c5f7;\n  box-shadow: 0 0 0 5px #96dbfa;\n}\n.rc-slider-handle:focus {\n  outline: none;\n  box-shadow: none;\n}\n.rc-slider-handle:focus-visible {\n  border-color: #2db7f5;\n  box-shadow: 0 0 0 3px #96dbfa;\n}\n.rc-slider-handle-click-focused:focus {\n  border-color: #96dbfa;\n  box-shadow: unset;\n}\n.rc-slider-handle:hover {\n  border-color: #57c5f7;\n}\n.rc-slider-handle:active {\n  border-color: #57c5f7;\n  box-shadow: 0 0 5px #57c5f7;\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n.rc-slider-mark {\n  position: absolute;\n  top: 18px;\n  left: 0;\n  width: 100%;\n  font-size: 12px;\n}\n.rc-slider-mark-text {\n  position: absolute;\n  display: inline-block;\n  color: #999;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.rc-slider-mark-text-active {\n  color: #666;\n}\n.rc-slider-step {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background: transparent;\n}\n.rc-slider-dot {\n  position: absolute;\n  bottom: -2px;\n  width: 8px;\n  height: 8px;\n  vertical-align: middle;\n  background-color: #fff;\n  border: 2px solid #e9e9e9;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.rc-slider-dot-active {\n  border-color: #96dbfa;\n}\n.rc-slider-dot-reverse {\n  margin-right: -4px;\n}\n.rc-slider-disabled {\n  background-color: #e9e9e9;\n}\n.rc-slider-disabled .rc-slider-track {\n  background-color: #ccc;\n}\n.rc-slider-disabled .rc-slider-handle,\n.rc-slider-disabled .rc-slider-dot {\n  background-color: #fff;\n  border-color: #ccc;\n  box-shadow: none;\n  cursor: not-allowed;\n}\n.rc-slider-disabled .rc-slider-mark-text,\n.rc-slider-disabled .rc-slider-dot {\n  cursor: not-allowed !important;\n}\n.rc-slider-vertical {\n  width: 14px;\n  height: 100%;\n  padding: 0 5px;\n}\n.rc-slider-vertical .rc-slider-rail {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-track {\n  bottom: 0;\n  left: 5px;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-track-draggable {\n  border-top: 0;\n  border-bottom: 0;\n  border-right: 5px solid rgba(0, 0, 0, 0);\n  border-left: 5px solid rgba(0, 0, 0, 0);\n  transform: translateX(-5px);\n}\n.rc-slider-vertical .rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  margin-top: 0;\n  margin-left: -5px;\n  touch-action: pan-y;\n}\n.rc-slider-vertical .rc-slider-mark {\n  top: 0;\n  left: 18px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-step {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-dot {\n  margin-left: -2px;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-leave {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,\n.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active {\n  animation-name: rcSliderTooltipZoomDownIn;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active {\n  animation-name: rcSliderTooltipZoomDownOut;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  transform: scale(0, 0);\n  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n}\n.rc-slider-tooltip-zoom-down-leave {\n  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n}\n@keyframes rcSliderTooltipZoomDownIn {\n  0% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n}\n@keyframes rcSliderTooltipZoomDownOut {\n  0% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n  100% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n}\n.rc-slider-tooltip {\n  position: absolute;\n  top: -9999px;\n  left: -9999px;\n  visibility: visible;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip-hidden {\n  display: none;\n}\n.rc-slider-tooltip-placement-top {\n  padding: 4px 0 8px 0;\n}\n.rc-slider-tooltip-inner {\n  min-width: 24px;\n  height: 24px;\n  padding: 6px 2px;\n  color: #fff;\n  font-size: 12px;\n  line-height: 1;\n  text-align: center;\n  text-decoration: none;\n  background-color: #6c6c6c;\n  border-radius: 6px;\n  box-shadow: 0 0 4px #d9d9d9;\n}\n.rc-slider-tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {\n  bottom: 4px;\n  left: 50%;\n  margin-left: -4px;\n  border-width: 4px 4px 0;\n  border-top-color: #6c6c6c;\n}\n"],sourceRoot:""}]);const s=i},278:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},4942:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},2249:function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,i=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,n,i){var s=a.URL||a.webkitURL,l=document.createElement("a");n=n||e.name||"download",l.download=n,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):r(l.href)?t(e,n,i):o(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,a),n);else if(r(e))t(e,n,a);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){o(i)}))}}:function(e,n,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var s="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||i)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var d=a.URL||a.webkitURL,p=d.createObjectURL(e);o?o.location=p:location.href=p,o=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});a.saveAs=s.saveAs=s,e.exports=s})?r.apply(t,[]):r)||(e.exports=o)},7842:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",p="[object Number]",f="[object Object]",h="[object Promise]",g="[object RegExp]",m="[object Set]",b="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",E=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[a]=C[i]=C[y]=C[s]=C[w]=C[l]=C[c]=C[u]=C[d]=C[p]=C[f]=C[g]=C[m]=C[b]=C[v]=!1;var x="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,O="object"==typeof self&&self&&self.Object===Object&&self,A=x||O||Function("return this")(),D=t&&!t.nodeType&&t,R=D&&e&&!e.nodeType&&e,_=R&&R.exports===D,k=_&&x.process,P=function(){try{return k&&k.binding&&k.binding("util")}catch(e){}}(),T=P&&P.isTypedArray;function I(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function j(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function F(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var M,L,N,B=Array.prototype,V=Function.prototype,z=Object.prototype,$=A["__core-js_shared__"],U=V.toString,H=z.hasOwnProperty,q=(M=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",G=z.toString,W=RegExp("^"+U.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=_?A.Buffer:void 0,Y=A.Symbol,X=A.Uint8Array,K=z.propertyIsEnumerable,Z=B.splice,J=Y?Y.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=Q?Q.isBuffer:void 0,ne=(L=Object.keys,N=Object,function(e){return L(N(e))}),re=Re(A,"DataView"),oe=Re(A,"Map"),ae=Re(A,"Promise"),ie=Re(A,"Set"),se=Re(A,"WeakMap"),le=Re(Object,"create"),ce=Te(re),ue=Te(oe),de=Te(ae),pe=Te(ie),fe=Te(se),he=Y?Y.prototype:void 0,ge=he?he.valueOf:void 0;function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ve;++t<n;)this.add(e[t])}function we(e){var t=this.__data__=new be(e);this.size=t.size}function Ee(e,t){for(var n=e.length;n--;)if(Ie(e[n][0],t))return n;return-1}function Se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":J&&J in Object(e)?function(e){var t=H.call(e,J),n=e[J];try{e[J]=void 0;var r=!0}catch(e){}var o=G.call(e);return r&&(t?e[J]=n:delete e[J]),o}(e):function(e){return G.call(e)}(e)}function Ce(e){return Ve(e)&&Se(e)==a}function xe(e,t,n,r,o){return e===t||(null==e||null==t||!Ve(e)&&!Ve(t)?e!=e&&t!=t:function(e,t,n,r,o,u){var h=Fe(e),v=Fe(t),E=h?i:ke(e),S=v?i:ke(t),C=(E=E==a?f:E)==f,x=(S=S==a?f:S)==f,O=E==S;if(O&&Me(e)){if(!Me(t))return!1;h=!0,C=!1}if(O&&!C)return u||(u=new we),h||ze(e)?Oe(e,t,n,r,o,u):function(e,t,n,r,o,a,i){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!a(new X(e),new X(t)));case s:case l:case p:return Ie(+e,+t);case c:return e.name==t.name&&e.message==t.message;case g:case b:return e==t+"";case d:var u=j;case m:var f=1&r;if(u||(u=F),e.size!=t.size&&!f)return!1;var h=i.get(e);if(h)return h==t;r|=2,i.set(e,t);var v=Oe(u(e),u(t),r,o,a,i);return i.delete(e),v;case"[object Symbol]":if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,E,n,r,o,u);if(!(1&n)){var A=C&&H.call(e,"__wrapped__"),D=x&&H.call(t,"__wrapped__");if(A||D){var R=A?e.value():e,_=D?t.value():t;return u||(u=new we),o(R,_,n,r,u)}}return!!O&&(u||(u=new we),function(e,t,n,r,o,a){var i=1&n,s=Ae(e),l=s.length;if(l!=Ae(t).length&&!i)return!1;for(var c=l;c--;){var u=s[c];if(!(i?u in t:H.call(t,u)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var p=!0;a.set(e,t),a.set(t,e);for(var f=i;++c<l;){var h=e[u=s[c]],g=t[u];if(r)var m=i?r(g,h,u,t,e,a):r(h,g,u,e,t,a);if(!(void 0===m?h===g||o(h,g,n,r,a):m)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var b=e.constructor,v=t.constructor;b==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,r,o,u))}(e,t,n,r,xe,o))}function Oe(e,t,n,r,o,a){var i=1&n,s=e.length,l=t.length;if(s!=l&&!(i&&l>s))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var u=-1,d=!0,p=2&n?new ye:void 0;for(a.set(e,t),a.set(t,e);++u<s;){var f=e[u],h=t[u];if(r)var g=i?r(h,f,u,t,e,a):r(f,h,u,e,t,a);if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!I(t,(function(e,t){if(i=t,!p.has(i)&&(f===e||o(f,e,n,r,a)))return p.push(t);var i}))){d=!1;break}}else if(f!==h&&!o(f,h,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function Ae(e){return function(e,t,n){var r=t(e);return Fe(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,$e,_e)}function De(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Re(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Be(e)||function(e){return!!q&&q in e}(e))&&(Le(e)?W:E).test(Te(e))}(n)?n:void 0}me.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},me.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},me.prototype.get=function(e){var t=this.__data__;if(le){var n=t[e];return n===r?void 0:n}return H.call(t,e)?t[e]:void 0},me.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:H.call(t,e)},me.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=le&&void 0===t?r:t,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(e){var t=this.__data__,n=Ee(t,e);return!(n<0||(n==t.length-1?t.pop():Z.call(t,n,1),--this.size,0))},be.prototype.get=function(e){var t=this.__data__,n=Ee(t,e);return n<0?void 0:t[n][1]},be.prototype.has=function(e){return Ee(this.__data__,e)>-1},be.prototype.set=function(e,t){var n=this.__data__,r=Ee(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ve.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(oe||be),string:new me}},ve.prototype.delete=function(e){var t=De(this,e).delete(e);return this.size-=t?1:0,t},ve.prototype.get=function(e){return De(this,e).get(e)},ve.prototype.has=function(e){return De(this,e).has(e)},ve.prototype.set=function(e,t){var n=De(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ye.prototype.add=ye.prototype.push=function(e){return this.__data__.set(e,r),this},ye.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new be,this.size=0},we.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var n=this.__data__;if(n instanceof be){var r=n.__data__;if(!oe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ve(r)}return n.set(e,t),this.size=n.size,this};var _e=ee?function(e){return null==e?[]:(e=Object(e),function(t){for(var n=-1,r=null==t?0:t.length,o=0,a=[];++n<r;){var i=t[n];s=i,K.call(e,s)&&(a[o++]=i)}var s;return a}(ee(e)))}:function(){return[]},ke=Se;function Pe(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||S.test(e))&&e>-1&&e%1==0&&e<t}function Te(e){if(null!=e){try{return U.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ie(e,t){return e===t||e!=e&&t!=t}(re&&ke(new re(new ArrayBuffer(1)))!=w||oe&&ke(new oe)!=d||ae&&ke(ae.resolve())!=h||ie&&ke(new ie)!=m||se&&ke(new se)!=v)&&(ke=function(e){var t=Se(e),n=t==f?e.constructor:void 0,r=n?Te(n):"";if(r)switch(r){case ce:return w;case ue:return d;case de:return h;case pe:return m;case fe:return v}return t});var je=Ce(function(){return arguments}())?Ce:function(e){return Ve(e)&&H.call(e,"callee")&&!K.call(e,"callee")},Fe=Array.isArray,Me=te||function(){return!1};function Le(e){if(!Be(e))return!1;var t=Se(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ne(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Be(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ve(e){return null!=e&&"object"==typeof e}var ze=T?function(e){return function(t){return e(t)}}(T):function(e){return Ve(e)&&Ne(e.length)&&!!C[Se(e)]};function $e(e){return null!=(t=e)&&Ne(t.length)&&!Le(t)?function(e,t){var n=Fe(e),r=!n&&je(e),o=!n&&!r&&Me(e),a=!n&&!r&&!o&&ze(e),i=n||r||o||a,s=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!H.call(e,c)||i&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Pe(c,l))||s.push(c);return s}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||z))return ne(e);var t,n,r=[];for(var o in Object(e))H.call(e,o)&&"constructor"!=o&&r.push(o);return r}(e);var t}e.exports=function(e,t){return xe(e,t)}},362:(e,t,n)=>{"use strict";var r=n(6441);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},2688:(e,t,n)=>{e.exports=n(362)()},6441:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3072:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Popup:()=>s,default:()=>un});var r=n(4452),o=n.n(r),a=n(5959),i=n.n(a);function s(e){var t=e.children,n=e.prefixCls,r=e.id,i=e.overlayInnerStyle,s=e.className,l=e.style;return a.createElement("div",{className:o()("".concat(n,"-content"),s),style:l},a.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:i},"function"==typeof t?t():t))}var l=n(8102),c=n(7405),u=n(9644),d=n(7850),p=n(8398),f=n.n(p),h=n(9370),g=(n(4358),n(9115));const m=a.createContext(null);var b=n(4300),v=n(697),y=[],w="data-rc-order",E="data-rc-priority",S=new Map;function C(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):"rc-util-key"}function x(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function O(e){return Array.from((S.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,h.A)())return null;var n=t.csp,r=t.prepend,o=t.priority,a=void 0===o?0:o,i=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),s="prependQueue"===i,l=document.createElement("style");l.setAttribute(w,i),s&&a&&l.setAttribute(E,"".concat(a)),null!=n&&n.nonce&&(l.nonce=null==n?void 0:n.nonce),l.innerHTML=e;var c=x(t),u=c.firstChild;if(r){if(s){var d=(t.styles||O(c)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(w)))return!1;var t=Number(e.getAttribute(E)||0);return a>=t}));if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=x(t);return(t.styles||O(n)).find((function(n){return n.getAttribute(C(t))===e}))}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=D(e,t);n&&x(t).removeChild(n)}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=x(n),o=O(r),a=(0,c.A)((0,c.A)({},n),{},{styles:o});!function(e,t){var n=S.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=A("",t),o=r.parentNode;S.set(e,o),e.removeChild(r)}}(r,a);var i,s,l,u=D(t,a);if(u)return null!==(i=a.csp)&&void 0!==i&&i.nonce&&u.nonce!==(null===(s=a.csp)||void 0===s?void 0:s.nonce)&&(u.nonce=null===(l=a.csp)||void 0===l?void 0:l.nonce),u.innerHTML!==e&&(u.innerHTML=e),u;var d=A(e,a);return d.setAttribute(C(a),t),d}var k="rc-util-locker-".concat(Date.now()),P=0;function T(e){var t=!!e,n=a.useState((function(){return P+=1,"".concat(k,"_").concat(P)})),r=(0,d.A)(n,1)[0];(0,v.A)((function(){if(t){var e=(o=document.body,"undefined"!=typeof document&&o&&o instanceof Element?function(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,o,a=n.style;if(a.position="absolute",a.left="0",a.top="0",a.width="100px",a.height="100px",a.overflow="scroll",e){var i=getComputedStyle(e);a.scrollbarColor=i.scrollbarColor,a.scrollbarWidth=i.scrollbarWidth;var s=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(s.width,10),c=parseInt(s.height,10);try{var u=l?"width: ".concat(s.width,";"):"",d=c?"height: ".concat(s.height,";"):"";_("\n#".concat(t,"::-webkit-scrollbar {\n").concat(u,"\n").concat(d,"\n}"),t)}catch(e){console.error(e),r=l,o=c}}document.body.appendChild(n);var p=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,f=e&&o&&!isNaN(o)?o:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),R(t),{width:p,height:f}}(o):{width:0,height:0}).width,n=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;_("\nhtml body {\n  overflow-y: hidden;\n  ".concat(n?"width: calc(100% - ".concat(e,"px);"):"","\n}"),r)}else R(r);var o;return function(){R(r)}}),[t,r])}var I=!1,j=function(e){return!1!==e&&((0,h.A)()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)},F=a.forwardRef((function(e,t){var n=e.open,r=e.autoLock,o=e.getContainer,i=(e.debug,e.autoDestroy),s=void 0===i||i,l=e.children,c=a.useState(n),u=(0,d.A)(c,2),f=u[0],w=u[1],E=f||n;a.useEffect((function(){(s||n)&&w(n)}),[n,s]);var S=a.useState((function(){return j(o)})),C=(0,d.A)(S,2),x=C[0],O=C[1];a.useEffect((function(){var e=j(o);O(null!=e?e:null)}));var A=function(e){var t=a.useState((function(){return(0,h.A)()?document.createElement("div"):null})),n=(0,d.A)(t,1)[0],r=a.useRef(!1),o=a.useContext(m),i=a.useState(y),s=(0,d.A)(i,2),l=s[0],c=s[1],u=o||(r.current?void 0:function(e){c((function(t){return[e].concat((0,b.A)(t))}))});function p(){n.parentElement||document.body.appendChild(n),r.current=!0}function f(){var e;null===(e=n.parentElement)||void 0===e||e.removeChild(n),r.current=!1}return(0,v.A)((function(){return e?o?o(p):p():f(),f}),[e]),(0,v.A)((function(){l.length&&(l.forEach((function(e){return e()})),c(y))}),[l]),[n,u]}(E&&!x),D=(0,d.A)(A,2),R=D[0],_=D[1],k=null!=x?x:R;T(r&&n&&(0,h.A)()&&(k===R||k===document.body));var P=null;l&&(0,g.f3)(l)&&t&&(P=l.ref);var F=(0,g.xK)(P,t);if(!E||!(0,h.A)()||void 0===x)return null;var M=!1===k||I,L=l;return t&&(L=a.cloneElement(l,{ref:F})),a.createElement(m.Provider,{value:_},M?L:(0,p.createPortal)(L,k))}));const M=F;var L=n(4271);function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return i().Children.forEach(e,(function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(N(e)):(0,L.isFragment)(e)&&e.props?n=n.concat(N(e.props.children,t)):n.push(e))})),n}var B=n(694);function V(e){return e instanceof HTMLElement||e instanceof SVGElement}function z(e){var t,n=function(e){return e&&"object"===(0,B.A)(e)&&V(e.nativeElement)?e.nativeElement:V(e)?e:null}(e);return n||(e instanceof i().Component?null===(t=f().findDOMNode)||void 0===t?void 0:t.call(f(),e):null)}var $=a.createContext(null),U=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),H="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,q=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),G="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(q):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},W=["top","right","bottom","left","width","height","size","weight"],Q="undefined"!=typeof MutationObserver,Y=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e){var t=!1,n=!1,r=0;function o(){t&&(t=!1,e()),n&&i()}function a(){G(o)}function i(){var e=Date.now();if(t){if(e-r<2)return;n=!0}else t=!0,n=!1,setTimeout(a,20);r=e}return i}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){H&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Q?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){H&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;W.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),X=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},K=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||q},Z=re(0,0,0,0);function J(e){return parseFloat(e)||0}function ee(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+J(e["border-"+n+"-width"])}),0)}var te="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof K(e).SVGGraphicsElement}:function(e){return e instanceof K(e).SVGElement&&"function"==typeof e.getBBox};function ne(e){return H?te(e)?function(e){var t=e.getBBox();return re(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Z;var r=K(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],a=e["padding-"+o];t[o]=J(a)}return t}(r),a=o.left+o.right,i=o.top+o.bottom,s=J(r.width),l=J(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=ee(r,"left","right")+a),Math.round(l+i)!==n&&(l-=ee(r,"top","bottom")+i)),!function(e){return e===K(e).document.documentElement}(e)){var c=Math.round(s+a)-t,u=Math.round(l+i)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return re(o.left,o.top,s,l)}(e):Z}function re(e,t,n,r){return{x:e,y:t,width:n,height:r}}var oe=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=re(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=ne(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),ae=function(e,t){var n,r,o,a,i,s,l,c=(r=(n=t).x,o=n.y,a=n.width,i=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),X(l,{x:r,y:o,width:a,height:i,top:o,right:r+a,bottom:i+o,left:r}),l);X(this,{target:e,contentRect:c})},ie=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new U,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof K(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new oe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof K(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new ae(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),se="undefined"!=typeof WeakMap?new WeakMap:new U,le=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Y.getInstance(),r=new ie(t,n,this);se.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){le.prototype[e]=function(){var t;return(t=se.get(this))[e].apply(t,arguments)}}));const ce=void 0!==q.ResizeObserver?q.ResizeObserver:le;var ue=new Map,de=new ce((function(e){e.forEach((function(e){var t,n=e.target;null===(t=ue.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var fe=n(2162);function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,fe.A)(r.key),r)}}function ge(e,t,n){return t&&he(e.prototype,t),n&&he(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function me(e,t){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},me(e,t)}function be(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&me(e,t)}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function ye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ye=function(){return!!e})()}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){var t=ye();return function(){var n,r=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==(0,B.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return we(e)}(this,n)}}var Se=function(e){be(n,e);var t=Ee(n);function n(){return pe(this,n),t.apply(this,arguments)}return ge(n,[{key:"render",value:function(){return this.props.children}}]),n}(a.Component);function Ce(e,t){var n=e.children,r=e.disabled,o=a.useRef(null),i=a.useRef(null),s=a.useContext($),l="function"==typeof n,u=l?n(o):n,d=a.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),p=!l&&a.isValidElement(u)&&(0,g.f3)(u),f=p?u.ref:null,h=(0,g.xK)(f,o),m=function(){var e;return z(o.current)||(o.current&&"object"===(0,B.A)(o.current)?z(null===(e=o.current)||void 0===e?void 0:e.nativeElement):null)||z(i.current)};a.useImperativeHandle(t,(function(){return m()}));var b=a.useRef(e);b.current=e;var v=a.useCallback((function(e){var t=b.current,n=t.onResize,r=t.data,o=e.getBoundingClientRect(),a=o.width,i=o.height,l=e.offsetWidth,u=e.offsetHeight,p=Math.floor(a),f=Math.floor(i);if(d.current.width!==p||d.current.height!==f||d.current.offsetWidth!==l||d.current.offsetHeight!==u){var h={width:p,height:f,offsetWidth:l,offsetHeight:u};d.current=h;var g=l===Math.round(a)?a:l,m=u===Math.round(i)?i:u,v=(0,c.A)((0,c.A)({},h),{},{offsetWidth:g,offsetHeight:m});null==s||s(v,e,r),n&&Promise.resolve().then((function(){n(v,e)}))}}),[]);return a.useEffect((function(){var e,t,n=m();return n&&!r&&(e=n,t=v,ue.has(e)||(ue.set(e,new Set),de.observe(e)),ue.get(e).add(t)),function(){return function(e,t){ue.has(e)&&(ue.get(e).delete(t),ue.get(e).size||(de.unobserve(e),ue.delete(e)))}(n,v)}}),[o.current,r]),a.createElement(Se,{ref:i},p?a.cloneElement(u,{ref:h}):u)}const xe=a.forwardRef(Ce);function Oe(e,t){var n=e.children;return("function"==typeof n?[n]:N(n)).map((function(n,r){var o=(null==n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return a.createElement(xe,(0,l.A)({},e,{key:o,ref:0===r?t:void 0}),n)}))}var Ae=a.forwardRef(Oe);Ae.Collection=function(e){var t=e.children,n=e.onBatchResize,r=a.useRef(0),o=a.useRef([]),i=a.useContext($),s=a.useCallback((function(e,t,a){r.current+=1;var s=r.current;o.current.push({size:e,element:t,data:a}),Promise.resolve().then((function(){s===r.current&&(null==n||n(o.current),o.current=[])})),null==i||i(e,t,a)}),[n,i]);return a.createElement($.Provider,{value:s},t)};const De=Ae;function Re(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function _e(e){return function(e){return Re(e)instanceof ShadowRoot}(e)?Re(e):null}var ke=n(8728),Pe=0,Te=(0,c.A)({},a).useId;const Ie=Te?function(e){var t=Te();return e||t}:function(e){var t=a.useState("ssr-id"),n=(0,d.A)(t,2),r=n[0],o=n[1];return a.useEffect((function(){var e=Pe;Pe+=1,o("rc_unique_".concat(e))}),[]),e||r};var je=n(1705),Fe=a.createContext({}),Me=function(e){be(n,e);var t=Ee(n);function n(){return pe(this,n),t.apply(this,arguments)}return ge(n,[{key:"render",value:function(){return this.props.children}}]),n}(a.Component);const Le=Me;var Ne=n(291),Be=n(1773),Ve="none",ze="appear",$e="enter",Ue="leave",He="none",qe="prepare",Ge="start",We="active",Qe="end",Ye="prepared";function Xe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Ke,Ze,Je,et=(Ke=(0,h.A)(),Ze="undefined"!=typeof window?window:{},Je={animationend:Xe("Animation","AnimationEnd"),transitionend:Xe("Transition","TransitionEnd")},Ke&&("AnimationEvent"in Ze||delete Je.animationend.animation,"TransitionEvent"in Ze||delete Je.transitionend.transition),Je),tt={};if((0,h.A)()){var nt=document.createElement("div");tt=nt.style}var rt={};function ot(e){if(rt[e])return rt[e];var t=et[e];if(t)for(var n=Object.keys(t),r=n.length,o=0;o<r;o+=1){var a=n[o];if(Object.prototype.hasOwnProperty.call(t,a)&&a in tt)return rt[e]=t[a],rt[e]}return""}var at=ot("animationend"),it=ot("transitionend"),st=!(!at||!it),lt=at||"animationend",ct=it||"transitionend";function ut(e,t){return e?"object"===(0,B.A)(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}const dt=(0,h.A)()?a.useLayoutEffect:a.useEffect;var pt=function(e){return+setTimeout(e,16)},ft=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(pt=function(e){return window.requestAnimationFrame(e)},ft=function(e){return window.cancelAnimationFrame(e)});var ht=0,gt=new Map;function mt(e){gt.delete(e)}var bt=function(e){var t=ht+=1;return function n(r){if(0===r)mt(t),e();else{var o=pt((function(){n(r-1)}));gt.set(t,o)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};bt.cancel=function(e){var t=gt.get(e);return mt(e),ft(t)};const vt=bt;var yt=[qe,Ge,We,Qe],wt=[qe,Ye],Et=!1;function St(e){return e===We||e===Qe}function Ct(e,t,n,r){var o,i,s,l,u=r.motionEnter,p=void 0===u||u,f=r.motionAppear,h=void 0===f||f,g=r.motionLeave,m=void 0===g||g,b=r.motionDeadline,v=r.motionLeaveImmediately,y=r.onAppearPrepare,w=r.onEnterPrepare,E=r.onLeavePrepare,S=r.onAppearStart,C=r.onEnterStart,x=r.onLeaveStart,O=r.onAppearActive,A=r.onEnterActive,D=r.onLeaveActive,R=r.onAppearEnd,_=r.onEnterEnd,k=r.onLeaveEnd,P=r.onVisibleChanged,T=(0,Be.A)(),I=(0,d.A)(T,2),j=I[0],F=I[1],M=(o=Ve,i=a.useReducer((function(e){return e+1}),0),s=(0,d.A)(i,2)[1],l=a.useRef(o),[(0,ke.A)((function(){return l.current})),(0,ke.A)((function(e){l.current="function"==typeof e?e(l.current):e,s()}))]),L=(0,d.A)(M,2),N=L[0],B=L[1],V=(0,Be.A)(null),z=(0,d.A)(V,2),$=z[0],U=z[1],H=N(),q=(0,a.useRef)(!1),G=(0,a.useRef)(null);function W(){return n()}var Q=(0,a.useRef)(!1);function Y(){B(Ve),U(null,!0)}var X=(0,Ne._q)((function(e){var t=N();if(t!==Ve){var n=W();if(!e||e.deadline||e.target===n){var r,o=Q.current;t===ze&&o?r=null==R?void 0:R(n,e):t===$e&&o?r=null==_?void 0:_(n,e):t===Ue&&o&&(r=null==k?void 0:k(n,e)),o&&!1!==r&&Y()}}})),K=function(e){var t=(0,a.useRef)();function n(t){t&&(t.removeEventListener(ct,e),t.removeEventListener(lt,e))}return a.useEffect((function(){return function(){n(t.current)}}),[]),[function(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(ct,e),r.addEventListener(lt,e),t.current=r)},n]}(X),Z=(0,d.A)(K,1)[0],J=function(e){switch(e){case ze:return(0,je.A)((0,je.A)((0,je.A)({},qe,y),Ge,S),We,O);case $e:return(0,je.A)((0,je.A)((0,je.A)({},qe,w),Ge,C),We,A);case Ue:return(0,je.A)((0,je.A)((0,je.A)({},qe,E),Ge,x),We,D);default:return{}}},ee=a.useMemo((function(){return J(H)}),[H]),te=function(e,t,n){var r=(0,Be.A)(He),o=(0,d.A)(r,2),i=o[0],s=o[1],l=function(){var e=a.useRef(null);function t(){vt.cancel(e.current)}return a.useEffect((function(){return function(){t()}}),[]),[function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=vt((function(){o<=1?r({isCanceled:function(){return a!==e.current}}):n(r,o-1)}));e.current=a},t]}(),c=(0,d.A)(l,2),u=c[0],p=c[1],f=t?wt:yt;return dt((function(){if(i!==He&&i!==Qe){var e=f.indexOf(i),t=f[e+1],r=n(i);r===Et?s(t,!0):t&&u((function(e){function n(){e.isCanceled()||s(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,i]),a.useEffect((function(){return function(){p()}}),[]),[function(){s(qe,!0)},i]}(H,!e,(function(e){if(e===qe){var t=ee[qe];return t?t(W()):Et}var n;return oe in ee&&U((null===(n=ee[oe])||void 0===n?void 0:n.call(ee,W(),null))||null),oe===We&&H!==Ve&&(Z(W()),b>0&&(clearTimeout(G.current),G.current=setTimeout((function(){X({deadline:!0})}),b))),oe===Ye&&Y(),!0})),ne=(0,d.A)(te,2),re=ne[0],oe=ne[1],ae=St(oe);Q.current=ae,dt((function(){F(t);var n,r=q.current;q.current=!0,!r&&t&&h&&(n=ze),r&&t&&p&&(n=$e),(r&&!t&&m||!r&&v&&!t&&m)&&(n=Ue);var o=J(n);n&&(e||o[qe])?(B(n),re()):B(Ve)}),[t]),(0,a.useEffect)((function(){(H===ze&&!h||H===$e&&!p||H===Ue&&!m)&&B(Ve)}),[h,p,m]),(0,a.useEffect)((function(){return function(){q.current=!1,clearTimeout(G.current)}}),[]);var ie=a.useRef(!1);(0,a.useEffect)((function(){j&&(ie.current=!0),void 0!==j&&H===Ve&&((ie.current||j)&&(null==P||P(j)),ie.current=!0)}),[j,H]);var se=$;return ee[qe]&&oe===Ge&&(se=(0,c.A)({transition:"none"},se)),[H,oe,se,null!=j?j:t]}const xt=function(e){var t=e;"object"===(0,B.A)(e)&&(t=e.transitionSupport);var n=a.forwardRef((function(e,n){var r=e.visible,i=void 0===r||r,s=e.removeOnLeave,l=void 0===s||s,u=e.forceRender,p=e.children,f=e.motionName,h=e.leavedClassName,m=e.eventProps,b=function(e,n){return!(!e.motionName||!t||!1===n)}(e,a.useContext(Fe).motion),v=(0,a.useRef)(),y=(0,a.useRef)(),w=Ct(b,i,(function(){try{return v.current instanceof HTMLElement?v.current:z(y.current)}catch(e){return null}}),e),E=(0,d.A)(w,4),S=E[0],C=E[1],x=E[2],O=E[3],A=a.useRef(O);O&&(A.current=!0);var D,R=a.useCallback((function(e){v.current=e,(0,g.Xf)(n,e)}),[n]),_=(0,c.A)((0,c.A)({},m),{},{visible:i});if(p)if(S===Ve)D=O?p((0,c.A)({},_),R):!l&&A.current&&h?p((0,c.A)((0,c.A)({},_),{},{className:h}),R):u||!l&&!h?p((0,c.A)((0,c.A)({},_),{},{style:{display:"none"}}),R):null;else{var k;C===qe?k="prepare":St(C)?k="active":C===Ge&&(k="start");var P=ut(f,"".concat(S,"-").concat(k));D=p((0,c.A)((0,c.A)({},_),{},{className:o()(ut(f,S),(0,je.A)((0,je.A)({},P,P&&k),f,"string"==typeof f)),style:x}),R)}else D=null;return a.isValidElement(D)&&(0,g.f3)(D)&&(D.ref||(D=a.cloneElement(D,{ref:R}))),a.createElement(Le,{ref:y},D)}));return n.displayName="CSSMotion",n}(st);var Ot="add",At="keep",Dt="remove",Rt="removed";function _t(e){var t;return t=e&&"object"===(0,B.A)(e)&&"key"in e?e:{key:e},(0,c.A)((0,c.A)({},t),{},{key:String(t.key)})}function kt(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(_t)}var Pt=["component","children","onVisibleChanged","onAllRemoved"],Tt=["status"],It=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt,t=function(t){be(r,t);var n=Ee(r);function r(){var e;pe(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),(0,je.A)(we(e),"state",{keyEntities:[]}),(0,je.A)(we(e),"removeKey",(function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:(0,c.A)((0,c.A)({},e),{},{status:Rt})}))}}),(function(){0===e.state.keyEntities.filter((function(e){return e.status!==Rt})).length&&e.props.onAllRemoved&&e.props.onAllRemoved()}))})),e}return ge(r,[{key:"render",value:function(){var t=this,n=this.state.keyEntities,r=this.props,o=r.component,i=r.children,s=r.onVisibleChanged,d=(r.onAllRemoved,(0,u.A)(r,Pt)),p=o||a.Fragment,f={};return It.forEach((function(e){f[e]=d[e],delete d[e]})),delete d.keys,a.createElement(p,d,n.map((function(n,r){var o=n.status,d=(0,u.A)(n,Tt),p=o===Ot||o===At;return a.createElement(e,(0,l.A)({},f,{key:d.key,visible:p,eventProps:d,onVisibleChanged:function(e){null==s||s(e,{key:d.key}),e||t.removeKey(d.key)}}),(function(e,t){return i((0,c.A)((0,c.A)({},e),{},{index:r}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,o=kt(n),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,o=t.length,a=kt(e),i=kt(t);a.forEach((function(e){for(var t=!1,a=r;a<o;a+=1){var s=i[a];if(s.key===e.key){r<a&&(n=n.concat(i.slice(r,a).map((function(e){return(0,c.A)((0,c.A)({},e),{},{status:Ot})}))),r=a),n.push((0,c.A)((0,c.A)({},s),{},{status:At})),r+=1,t=!0;break}}t||n.push((0,c.A)((0,c.A)({},e),{},{status:Dt}))})),r<o&&(n=n.concat(i.slice(r).map((function(e){return(0,c.A)((0,c.A)({},e),{},{status:Ot})}))));var s={};return n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1})),Object.keys(s).filter((function(e){return s[e]>1})).forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Dt}))).forEach((function(t){t.key===e&&(t.status=At)}))})),n}(r,o);return{keyEntities:a.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Rt||e.status!==Dt}))}}}]),r}(a.Component);(0,je.A)(t,"defaultProps",{component:"div"})}(st);const jt=xt;function Ft(e){var t=e.prefixCls,n=e.align,r=e.arrow,i=e.arrowPos,s=r||{},l=s.className,c=s.content,u=i.x,d=void 0===u?0:u,p=i.y,f=void 0===p?0:p,h=a.useRef();if(!n||!n.points)return null;var g={position:"absolute"};if(!1!==n.autoArrow){var m=n.points[0],b=n.points[1],v=m[0],y=m[1],w=b[0],E=b[1];v!==w&&["t","b"].includes(v)?"t"===v?g.top=0:g.bottom=0:g.top=f,y!==E&&["l","r"].includes(y)?"l"===y?g.left=0:g.right=0:g.left=d}return a.createElement("div",{ref:h,className:o()("".concat(t,"-arrow"),l),style:g},c)}function Mt(e){var t=e.prefixCls,n=e.open,r=e.zIndex,i=e.mask,s=e.motion;return i?a.createElement(jt,(0,l.A)({},s,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return a.createElement("div",{style:{zIndex:r},className:o()("".concat(t,"-mask"),n)})})):null}const Lt=a.memo((function(e){return e.children}),(function(e,t){return t.cache}));var Nt=a.forwardRef((function(e,t){var n=e.popup,r=e.className,i=e.prefixCls,s=e.style,u=e.target,p=e.onVisibleChanged,f=e.open,h=e.keepDom,m=e.fresh,b=e.onClick,y=e.mask,w=e.arrow,E=e.arrowPos,S=e.align,C=e.motion,x=e.maskMotion,O=e.forceRender,A=e.getPopupContainer,D=e.autoDestroy,R=e.portal,_=e.zIndex,k=e.onMouseEnter,P=e.onMouseLeave,T=e.onPointerEnter,I=e.ready,j=e.offsetX,F=e.offsetY,M=e.offsetR,L=e.offsetB,N=e.onAlign,B=e.onPrepare,V=e.stretch,z=e.targetWidth,$=e.targetHeight,U="function"==typeof n?n():n,H=f||h,q=(null==A?void 0:A.length)>0,G=a.useState(!A||!q),W=(0,d.A)(G,2),Q=W[0],Y=W[1];if((0,v.A)((function(){!Q&&q&&u&&Y(!0)}),[Q,q,u]),!Q)return null;var X="auto",K={left:"-1000vw",top:"-1000vh",right:X,bottom:X};if(I||!f){var Z,J=S.points,ee=S.dynamicInset||(null===(Z=S._experimental)||void 0===Z?void 0:Z.dynamicInset),te=ee&&"r"===J[0][1],ne=ee&&"b"===J[0][0];te?(K.right=M,K.left=X):(K.left=j,K.right=X),ne?(K.bottom=L,K.top=X):(K.top=F,K.bottom=X)}var re={};return V&&(V.includes("height")&&$?re.height=$:V.includes("minHeight")&&$&&(re.minHeight=$),V.includes("width")&&z?re.width=z:V.includes("minWidth")&&z&&(re.minWidth=z)),f||(re.pointerEvents="none"),a.createElement(R,{open:O||H,getContainer:A&&function(){return A(u)},autoDestroy:D},a.createElement(Mt,{prefixCls:i,open:f,zIndex:_,mask:y,motion:x}),a.createElement(De,{onResize:N,disabled:!f},(function(e){return a.createElement(jt,(0,l.A)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:O,leavedClassName:"".concat(i,"-hidden")},C,{onAppearPrepare:B,onEnterPrepare:B,visible:f,onVisibleChanged:function(e){var t;null==C||null===(t=C.onVisibleChanged)||void 0===t||t.call(C,e),p(e)}}),(function(n,l){var u=n.className,d=n.style,p=o()(i,u,r);return a.createElement("div",{ref:(0,g.K4)(e,t,l),className:p,style:(0,c.A)((0,c.A)((0,c.A)((0,c.A)({"--arrow-x":"".concat(E.x||0,"px"),"--arrow-y":"".concat(E.y||0,"px")},K),re),d),{},{boxSizing:"border-box",zIndex:_},s),onMouseEnter:k,onMouseLeave:P,onPointerEnter:T,onClick:b},w&&a.createElement(Ft,{prefixCls:i,arrow:w,arrowPos:E,align:S}),a.createElement(Lt,{cache:!f&&!m},U))}))})))}));const Bt=Nt,Vt=a.forwardRef((function(e,t){var n=e.children,r=e.getTriggerDOMNode,o=(0,g.f3)(n),i=a.useCallback((function(e){(0,g.Xf)(t,r?r(e):e)}),[r]),s=(0,g.xK)(i,n.ref);return o?a.cloneElement(n,{ref:s}):n})),zt=a.createContext(null);function $t(e){return e?Array.isArray(e)?e:[e]:[]}function Ut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Ht(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function qt(e){return e.ownerDocument.defaultView}function Gt(e){for(var t=[],n=null==e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var o=qt(n).getComputedStyle(n);[o.overflowX,o.overflowY,o.overflow].some((function(e){return r.includes(e)}))&&t.push(n),n=n.parentElement}return t}function Wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function Qt(e){return Wt(parseFloat(e),0)}function Yt(e,t){var n=(0,c.A)({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=qt(e).getComputedStyle(e),r=t.overflow,o=t.overflowClipMargin,a=t.borderTopWidth,i=t.borderBottomWidth,s=t.borderLeftWidth,l=t.borderRightWidth,c=e.getBoundingClientRect(),u=e.offsetHeight,d=e.clientHeight,p=e.offsetWidth,f=e.clientWidth,h=Qt(a),g=Qt(i),m=Qt(s),b=Qt(l),v=Wt(Math.round(c.width/p*1e3)/1e3),y=Wt(Math.round(c.height/u*1e3)/1e3),w=(p-f-m-b)*v,E=(u-d-h-g)*y,S=h*y,C=g*y,x=m*v,O=b*v,A=0,D=0;if("clip"===r){var R=Qt(o);A=R*v,D=R*y}var _=c.x+x-A,k=c.y+S-D,P=_+c.width+2*A-x-O-w,T=k+c.height+2*D-S-C-E;n.left=Math.max(n.left,_),n.top=Math.max(n.top,k),n.right=Math.min(n.right,P),n.bottom=Math.min(n.bottom,T)}})),n}function Xt(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Kt(e,t){var n=t||[],r=(0,d.A)(n,2),o=r[0],a=r[1];return[Xt(e.width,o),Xt(e.height,a)]}function Zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function Jt(e,t){var n,r=t[0],o=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===o?e.x:"r"===o?e.x+e.width:e.x+e.width/2,y:n}}function en(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,r){return r===t?n[e]||"c":e})).join("")}var tn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=a.forwardRef((function(t,n){var r=t.prefixCls,i=void 0===r?"rc-trigger-popup":r,s=t.children,l=t.action,p=void 0===l?"hover":l,f=t.showAction,h=t.hideAction,g=t.popupVisible,m=t.defaultPopupVisible,y=t.onPopupVisibleChange,w=t.afterPopupVisibleChange,E=t.mouseEnterDelay,S=t.mouseLeaveDelay,C=void 0===S?.1:S,x=t.focusDelay,O=t.blurDelay,A=t.mask,D=t.maskClosable,R=void 0===D||D,_=t.getPopupContainer,k=t.forceRender,P=t.autoDestroy,T=t.destroyPopupOnHide,I=t.popup,j=t.popupClassName,F=t.popupStyle,M=t.popupPlacement,L=t.builtinPlacements,N=void 0===L?{}:L,B=t.popupAlign,z=t.zIndex,$=t.stretch,U=t.getPopupClassNameFromAlign,H=t.fresh,q=t.alignPoint,G=t.onPopupClick,W=t.onPopupAlign,Q=t.arrow,Y=t.popupMotion,X=t.maskMotion,K=t.popupTransitionName,Z=t.popupAnimation,J=t.maskTransitionName,ee=t.maskAnimation,te=t.className,ne=t.getTriggerDOMNode,re=(0,u.A)(t,tn),oe=P||T||!1,ae=a.useState(!1),ie=(0,d.A)(ae,2),se=ie[0],le=ie[1];(0,v.A)((function(){le(function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))}())}),[]);var ce=a.useRef({}),ue=a.useContext(zt),de=a.useMemo((function(){return{registerSubPopup:function(e,t){ce.current[e]=t,null==ue||ue.registerSubPopup(e,t)}}}),[ue]),pe=Ie(),fe=a.useState(null),he=(0,d.A)(fe,2),ge=he[0],me=he[1],be=a.useRef(null),ve=(0,ke.A)((function(e){be.current=e,V(e)&&ge!==e&&me(e),null==ue||ue.registerSubPopup(pe,e)})),ye=a.useState(null),we=(0,d.A)(ye,2),Ee=we[0],Se=we[1],Ce=a.useRef(null),xe=(0,ke.A)((function(e){V(e)&&Ee!==e&&(Se(e),Ce.current=e)})),Oe=a.Children.only(s),Ae=(null==Oe?void 0:Oe.props)||{},Re={},Pe=(0,ke.A)((function(e){var t,n,r=Ee;return(null==r?void 0:r.contains(e))||(null===(t=_e(r))||void 0===t?void 0:t.host)===e||e===r||(null==ge?void 0:ge.contains(e))||(null===(n=_e(ge))||void 0===n?void 0:n.host)===e||e===ge||Object.values(ce.current).some((function(t){return(null==t?void 0:t.contains(e))||e===t}))})),Te=Ht(i,Y,Z,K),je=Ht(i,X,ee,J),Fe=a.useState(m||!1),Me=(0,d.A)(Fe,2),Le=Me[0],Ne=Me[1],Be=null!=g?g:Le,Ve=(0,ke.A)((function(e){void 0===g&&Ne(e)}));(0,v.A)((function(){Ne(g||!1)}),[g]);var ze=a.useRef(Be);ze.current=Be;var $e=a.useRef([]);$e.current=[];var Ue=(0,ke.A)((function(e){var t;Ve(e),(null!==(t=$e.current[$e.current.length-1])&&void 0!==t?t:Be)!==e&&($e.current.push(e),null==y||y(e))})),He=a.useRef(),qe=function(){clearTimeout(He.current)},Ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;qe(),0===t?Ue(e):He.current=setTimeout((function(){Ue(e)}),1e3*t)};a.useEffect((function(){return qe}),[]);var We=a.useState(!1),Qe=(0,d.A)(We,2),Ye=Qe[0],Xe=Qe[1];(0,v.A)((function(e){e&&!Be||Xe(!0)}),[Be]);var Ke=a.useState(null),Ze=(0,d.A)(Ke,2),Je=Ze[0],et=Ze[1],tt=a.useState(null),nt=(0,d.A)(tt,2),rt=nt[0],ot=nt[1],at=function(e){ot([e.clientX,e.clientY])},it=function(e,t,n,r,o,i,s){var l=a.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[r]||{}}),u=(0,d.A)(l,2),p=u[0],f=u[1],h=a.useRef(0),g=a.useMemo((function(){return t?Gt(t):[]}),[t]),m=a.useRef({});e||(m.current={});var b=(0,ke.A)((function(){if(t&&n&&e){var a,l,u,p,h,b=t,v=b.ownerDocument,y=qt(b).getComputedStyle(b),w=y.width,E=y.height,S=y.position,C=b.style.left,x=b.style.top,O=b.style.right,A=b.style.bottom,D=b.style.overflow,R=(0,c.A)((0,c.A)({},o[r]),i),_=v.createElement("div");if(null===(a=b.parentElement)||void 0===a||a.appendChild(_),_.style.left="".concat(b.offsetLeft,"px"),_.style.top="".concat(b.offsetTop,"px"),_.style.position=S,_.style.height="".concat(b.offsetHeight,"px"),_.style.width="".concat(b.offsetWidth,"px"),b.style.left="0",b.style.top="0",b.style.right="auto",b.style.bottom="auto",b.style.overflow="hidden",Array.isArray(n))h={x:n[0],y:n[1],width:0,height:0};else{var k,P,T=n.getBoundingClientRect();T.x=null!==(k=T.x)&&void 0!==k?k:T.left,T.y=null!==(P=T.y)&&void 0!==P?P:T.top,h={x:T.x,y:T.y,width:T.width,height:T.height}}var I=b.getBoundingClientRect();I.x=null!==(l=I.x)&&void 0!==l?l:I.left,I.y=null!==(u=I.y)&&void 0!==u?u:I.top;var j=v.documentElement,F=j.clientWidth,M=j.clientHeight,L=j.scrollWidth,N=j.scrollHeight,B=j.scrollTop,z=j.scrollLeft,$=I.height,U=I.width,H=h.height,q=h.width,G={left:0,top:0,right:F,bottom:M},W={left:-z,top:-B,right:L-z,bottom:N-B},Q=R.htmlRegion,Y="visible",X="visibleFirst";"scroll"!==Q&&Q!==X&&(Q=Y);var K=Q===X,Z=Yt(W,g),J=Yt(G,g),ee=Q===Y?J:Z,te=K?J:ee;b.style.left="auto",b.style.top="auto",b.style.right="0",b.style.bottom="0";var ne=b.getBoundingClientRect();b.style.left=C,b.style.top=x,b.style.right=O,b.style.bottom=A,b.style.overflow=D,null===(p=b.parentElement)||void 0===p||p.removeChild(_);var re=Wt(Math.round(U/parseFloat(w)*1e3)/1e3),oe=Wt(Math.round($/parseFloat(E)*1e3)/1e3);if(0===re||0===oe||V(n)&&!function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var o=e.getBoundingClientRect(),a=o.width,i=o.height;if(a||i)return!0}}return!1}(n))return;var ae=R.offset,ie=R.targetOffset,se=Kt(I,ae),le=(0,d.A)(se,2),ce=le[0],ue=le[1],de=Kt(h,ie),pe=(0,d.A)(de,2),fe=pe[0],he=pe[1];h.x-=fe,h.y-=he;var ge=R.points||[],me=(0,d.A)(ge,2),be=me[0],ve=Zt(me[1]),ye=Zt(be),we=Jt(h,ve),Ee=Jt(I,ye),Se=(0,c.A)({},R),Ce=we.x-Ee.x+ce,xe=we.y-Ee.y+ue;function bt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ee,r=I.x+e,o=I.y+t,a=r+U,i=o+$,s=Math.max(r,n.left),l=Math.max(o,n.top),c=Math.min(a,n.right),u=Math.min(i,n.bottom);return Math.max(0,(c-s)*(u-l))}var Oe,Ae,De,Re,_e=bt(Ce,xe),ke=bt(Ce,xe,J),Pe=Jt(h,["t","l"]),Te=Jt(I,["t","l"]),Ie=Jt(h,["b","r"]),je=Jt(I,["b","r"]),Fe=R.overflow||{},Me=Fe.adjustX,Le=Fe.adjustY,Ne=Fe.shiftX,Be=Fe.shiftY,Ve=function(e){return"boolean"==typeof e?e:e>=0};function vt(){Oe=I.y+xe,Ae=Oe+$,De=I.x+Ce,Re=De+U}vt();var ze=Ve(Le),$e=ye[0]===ve[0];if(ze&&"t"===ye[0]&&(Ae>te.bottom||m.current.bt)){var Ue=xe;$e?Ue-=$-H:Ue=Pe.y-je.y-ue;var He=bt(Ce,Ue),qe=bt(Ce,Ue,J);He>_e||He===_e&&(!K||qe>=ke)?(m.current.bt=!0,xe=Ue,ue=-ue,Se.points=[en(ye,0),en(ve,0)]):m.current.bt=!1}if(ze&&"b"===ye[0]&&(Oe<te.top||m.current.tb)){var Ge=xe;$e?Ge+=$-H:Ge=Ie.y-Te.y-ue;var We=bt(Ce,Ge),Qe=bt(Ce,Ge,J);We>_e||We===_e&&(!K||Qe>=ke)?(m.current.tb=!0,xe=Ge,ue=-ue,Se.points=[en(ye,0),en(ve,0)]):m.current.tb=!1}var Ye=Ve(Me),Xe=ye[1]===ve[1];if(Ye&&"l"===ye[1]&&(Re>te.right||m.current.rl)){var Ke=Ce;Xe?Ke-=U-q:Ke=Pe.x-je.x-ce;var Ze=bt(Ke,xe),Je=bt(Ke,xe,J);Ze>_e||Ze===_e&&(!K||Je>=ke)?(m.current.rl=!0,Ce=Ke,ce=-ce,Se.points=[en(ye,1),en(ve,1)]):m.current.rl=!1}if(Ye&&"r"===ye[1]&&(De<te.left||m.current.lr)){var et=Ce;Xe?et+=U-q:et=Ie.x-Te.x-ce;var tt=bt(et,xe),nt=bt(et,xe,J);tt>_e||tt===_e&&(!K||nt>=ke)?(m.current.lr=!0,Ce=et,ce=-ce,Se.points=[en(ye,1),en(ve,1)]):m.current.lr=!1}vt();var rt=!0===Ne?0:Ne;"number"==typeof rt&&(De<J.left&&(Ce-=De-J.left-ce,h.x+q<J.left+rt&&(Ce+=h.x-J.left+q-rt)),Re>J.right&&(Ce-=Re-J.right-ce,h.x>J.right-rt&&(Ce+=h.x-J.right+rt)));var ot=!0===Be?0:Be;"number"==typeof ot&&(Oe<J.top&&(xe-=Oe-J.top-ue,h.y+H<J.top+ot&&(xe+=h.y-J.top+H-ot)),Ae>J.bottom&&(xe-=Ae-J.bottom-ue,h.y>J.bottom-ot&&(xe+=h.y-J.bottom+ot)));var at=I.x+Ce,it=at+U,st=I.y+xe,lt=st+$,ct=h.x,ut=ct+q,dt=h.y,pt=dt+H,ft=(Math.max(at,ct)+Math.min(it,ut))/2-at,ht=(Math.max(st,dt)+Math.min(lt,pt))/2-st;null==s||s(t,Se);var gt=ne.right-I.x-(Ce+I.width),mt=ne.bottom-I.y-(xe+I.height);1===re&&(Ce=Math.round(Ce),gt=Math.round(gt)),1===oe&&(xe=Math.round(xe),mt=Math.round(mt)),f({ready:!0,offsetX:Ce/re,offsetY:xe/oe,offsetR:gt/re,offsetB:mt/oe,arrowX:ft/re,arrowY:ht/oe,scaleX:re,scaleY:oe,align:Se})}})),y=function(){f((function(e){return(0,c.A)((0,c.A)({},e),{},{ready:!1})}))};return(0,v.A)(y,[r]),(0,v.A)((function(){e||y()}),[e]),[p.ready,p.offsetX,p.offsetY,p.offsetR,p.offsetB,p.arrowX,p.arrowY,p.scaleX,p.scaleY,p.align,function(){h.current+=1;var e=h.current;Promise.resolve().then((function(){h.current===e&&b()}))}]}(Be,ge,q&&null!==rt?rt:Ee,M,N,B,W),st=(0,d.A)(it,11),lt=st[0],ct=st[1],ut=st[2],dt=st[3],pt=st[4],ft=st[5],ht=st[6],gt=st[7],mt=st[8],bt=st[9],vt=st[10],yt=function(e,t,n,r){return a.useMemo((function(){var o=$t(null!=n?n:t),a=$t(null!=r?r:t),i=new Set(o),s=new Set(a);return e&&(i.has("hover")&&(i.delete("hover"),i.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[i,s]}),[e,t,n,r])}(se,p,f,h),wt=(0,d.A)(yt,2),Et=wt[0],St=wt[1],Ct=Et.has("click"),xt=St.has("click")||St.has("contextMenu"),Ot=(0,ke.A)((function(){Ye||vt()}));!function(e,t,n,r){(0,v.A)((function(){if(e&&t&&n){var o=n,a=Gt(t),i=Gt(o),s=qt(o),l=new Set([s].concat((0,b.A)(a),(0,b.A)(i)));function c(){r(),ze.current&&q&&xt&&Ge(!1)}return l.forEach((function(e){e.addEventListener("scroll",c,{passive:!0})})),s.addEventListener("resize",c,{passive:!0}),r(),function(){l.forEach((function(e){e.removeEventListener("scroll",c),s.removeEventListener("resize",c)}))}}}),[e,t,n])}(Be,Ee,ge,Ot),(0,v.A)((function(){Ot()}),[rt,M]),(0,v.A)((function(){!Be||null!=N&&N[M]||Ot()}),[JSON.stringify(B)]);var At=a.useMemo((function(){var e=function(e,t,n,r){for(var o=n.points,a=Object.keys(e),i=0;i<a.length;i+=1){var s,l=a[i];if(Ut(null===(s=e[l])||void 0===s?void 0:s.points,o,r))return"".concat(t,"-placement-").concat(l)}return""}(N,i,bt,q);return o()(e,null==U?void 0:U(bt))}),[bt,U,N,i,q]);a.useImperativeHandle(n,(function(){return{nativeElement:Ce.current,popupElement:be.current,forceAlign:Ot}}));var Dt=a.useState(0),Rt=(0,d.A)(Dt,2),_t=Rt[0],kt=Rt[1],Pt=a.useState(0),Tt=(0,d.A)(Pt,2),It=Tt[0],jt=Tt[1],Ft=function(){if($&&Ee){var e=Ee.getBoundingClientRect();kt(e.width),jt(e.height)}};function Mt(e,t,n,r){Re[e]=function(o){var a;null==r||r(o),Ge(t,n);for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];null===(a=Ae[e])||void 0===a||a.call.apply(a,[Ae,o].concat(s))}}(0,v.A)((function(){Je&&(vt(),Je(),et(null))}),[Je]),(Ct||xt)&&(Re.onClick=function(e){var t;ze.current&&xt?Ge(!1):!ze.current&&Ct&&(at(e),Ge(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=Ae.onClick)||void 0===t||t.call.apply(t,[Ae,e].concat(r))}),function(e,t,n,r,o,i,s,l){var c=a.useRef(e);c.current=e,a.useEffect((function(){if(t&&r&&(!o||i)){var e=function(e){var t;c.current&&!s((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)&&l(!1)},a=qt(r);a.addEventListener("mousedown",e,!0),a.addEventListener("contextmenu",e,!0);var u=_e(n);return u&&(u.addEventListener("mousedown",e,!0),u.addEventListener("contextmenu",e,!0)),function(){a.removeEventListener("mousedown",e,!0),a.removeEventListener("contextmenu",e,!0),u&&(u.removeEventListener("mousedown",e,!0),u.removeEventListener("contextmenu",e,!0))}}}),[t,n,r,o,i])}(Be,xt,Ee,ge,A,R,Pe,Ge);var Lt,Nt,Qt=Et.has("hover"),Xt=St.has("hover");Qt&&(Mt("onMouseEnter",!0,E,(function(e){at(e)})),Mt("onPointerEnter",!0,E,(function(e){at(e)})),Lt=function(e){(Be||Ye)&&null!=ge&&ge.contains(e.target)&&Ge(!0,E)},q&&(Re.onMouseMove=function(e){var t;null===(t=Ae.onMouseMove)||void 0===t||t.call(Ae,e)})),Xt&&(Mt("onMouseLeave",!1,C),Mt("onPointerLeave",!1,C),Nt=function(){Ge(!1,C)}),Et.has("focus")&&Mt("onFocus",!0,x),St.has("focus")&&Mt("onBlur",!1,O),Et.has("contextMenu")&&(Re.onContextMenu=function(e){var t;ze.current&&St.has("contextMenu")?Ge(!1):(at(e),Ge(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=Ae.onContextMenu)||void 0===t||t.call.apply(t,[Ae,e].concat(r))}),te&&(Re.className=o()(Ae.className,te));var nn=(0,c.A)((0,c.A)({},Ae),Re),rn={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){re[e]&&(rn[e]=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(t=nn[e])||void 0===t||t.call.apply(t,[nn].concat(r)),re[e].apply(re,r)})}));var on=a.cloneElement(Oe,(0,c.A)((0,c.A)({},nn),rn)),an={x:ft,y:ht},sn=Q?(0,c.A)({},!0!==Q?Q:{}):null;return a.createElement(a.Fragment,null,a.createElement(De,{disabled:!Be,ref:xe,onResize:function(){Ft(),Ot()}},a.createElement(Vt,{getTriggerDOMNode:ne},on)),a.createElement(zt.Provider,{value:de},a.createElement(Bt,{portal:e,ref:ve,prefixCls:i,popup:I,className:o()(j,At),style:F,target:Ee,onMouseEnter:Lt,onMouseLeave:Nt,onPointerEnter:Lt,zIndex:z,open:Be,keepDom:Ye,fresh:H,onClick:G,mask:A,motion:Te,maskMotion:je,onVisibleChanged:function(e){Xe(!1),vt(),null==w||w(e)},onPrepare:function(){return new Promise((function(e){Ft(),et((function(){return e}))}))},forceRender:k,autoDestroy:oe,getPopupContainer:_,align:bt,arrow:sn,arrowPos:an,ready:lt,offsetX:ct,offsetY:ut,offsetR:dt,offsetB:pt,onAlign:Ot,stretch:$,targetWidth:_t/gt,targetHeight:It/mt})))}));return t}(M);var rn={shiftX:64,adjustY:1},on={adjustX:1,shiftY:!0},an=[0,0],sn={left:{points:["cr","cl"],overflow:on,offset:[-4,0],targetOffset:an},right:{points:["cl","cr"],overflow:on,offset:[4,0],targetOffset:an},top:{points:["bc","tc"],overflow:rn,offset:[0,-4],targetOffset:an},bottom:{points:["tc","bc"],overflow:rn,offset:[0,4],targetOffset:an},topLeft:{points:["bl","tl"],overflow:rn,offset:[0,-4],targetOffset:an},leftTop:{points:["tr","tl"],overflow:on,offset:[-4,0],targetOffset:an},topRight:{points:["br","tr"],overflow:rn,offset:[0,-4],targetOffset:an},rightTop:{points:["tl","tr"],overflow:on,offset:[4,0],targetOffset:an},bottomRight:{points:["tr","br"],overflow:rn,offset:[0,4],targetOffset:an},rightBottom:{points:["bl","br"],overflow:on,offset:[4,0],targetOffset:an},bottomLeft:{points:["tl","bl"],overflow:rn,offset:[0,4],targetOffset:an},leftBottom:{points:["br","bl"],overflow:on,offset:[-4,0],targetOffset:an}},ln=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],cn=function(e,t){var n=e.overlayClassName,r=e.trigger,o=void 0===r?["hover"]:r,i=e.mouseEnterDelay,d=void 0===i?0:i,p=e.mouseLeaveDelay,f=void 0===p?.1:p,h=e.overlayStyle,g=e.prefixCls,m=void 0===g?"rc-tooltip":g,b=e.children,v=e.onVisibleChange,y=e.afterVisibleChange,w=e.transitionName,E=e.animation,S=e.motion,C=e.placement,x=void 0===C?"right":C,O=e.align,A=void 0===O?{}:O,D=e.destroyTooltipOnHide,R=void 0!==D&&D,_=e.defaultVisible,k=e.getTooltipContainer,P=e.overlayInnerStyle,T=(e.arrowContent,e.overlay),I=e.id,j=e.showArrow,F=void 0===j||j,M=(0,u.A)(e,ln),L=(0,a.useRef)(null);(0,a.useImperativeHandle)(t,(function(){return L.current}));var N=(0,c.A)({},M);return"visible"in e&&(N.popupVisible=e.visible),a.createElement(nn,(0,l.A)({popupClassName:n,prefixCls:m,popup:function(){return a.createElement(s,{key:"content",prefixCls:m,id:I,overlayInnerStyle:P},T)},action:o,builtinPlacements:sn,popupPlacement:x,ref:L,popupAlign:A,getPopupContainer:k,onPopupVisibleChange:v,afterPopupVisibleChange:y,popupTransitionName:w,popupAnimation:E,popupMotion:S,defaultPopupVisible:_,autoDestroy:R,mouseLeaveDelay:f,popupStyle:h,mouseEnterDelay:d,arrow:F},N),b)};const un=(0,a.forwardRef)(cn)},9370:(e,t,n)=>{"use strict";function r(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}n.d(t,{A:()=>r})},8728:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5959);function o(e){var t=r.useRef();t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}},697:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,o:()=>i});var r=n(5959),o=(0,n(9370).A)()?r.useLayoutEffect:r.useEffect,a=function(e,t){var n=r.useRef(!0);o((function(){return e(n.current)}),t),o((function(){return n.current=!1,function(){n.current=!0}}),[])},i=function(e,t){a((function(t){if(!t)return e()}),t)};const s=a},9273:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(7850),o=n(8728),a=n(697),i=n(1773);function s(e){return void 0!==e}function l(e,t){var n=t||{},l=n.defaultValue,c=n.value,u=n.onChange,d=n.postState,p=(0,i.A)((function(){return s(c)?c:s(l)?"function"==typeof l?l():l:"function"==typeof e?e():e})),f=(0,r.A)(p,2),h=f[0],g=f[1],m=void 0!==c?c:h,b=d?d(m):m,v=(0,o.A)(u),y=(0,i.A)([m]),w=(0,r.A)(y,2),E=w[0],S=w[1];return(0,a.o)((function(){var e=E[0];h!==e&&v(h,e)}),[E]),(0,a.o)((function(){s(c)||g(c)}),[c]),[b,(0,o.A)((function(e,t){g(e,t),S([m],t)}))]}},1773:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(7850),o=n(5959);function a(e){var t=o.useRef(!1),n=o.useState(e),a=(0,r.A)(n,2),i=a[0],s=a[1];return o.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[i,function(e,n){n&&t.current||s(e)}]}},291:(e,t,n)=>{"use strict";n.d(t,{_q:()=>r.A});var r=n(8728);n(9273),n(9115),"undefined"==typeof Reflect?Object.keys:Reflect.ownKeys,n(4358)},9115:(e,t,n)=>{"use strict";n.d(t,{K4:()=>s,Xf:()=>i,f3:()=>c,xK:()=>l});var r=n(694),o=n(5959),a=n(4271),i=function(e,t){"function"==typeof e?e(t):"object"===(0,r.A)(e)&&e&&"current"in e&&(e.current=t)},s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach((function(t){i(t,e)}))}},l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=function(){return s.apply(void 0,t)},a=t,i=function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))},"value"in(l=o.useRef({})).current&&!i(l.current.condition,a)||(l.current.value=r(),l.current.condition=a),l.current.value;var r,a,i,l},c=function(e){var t,n,r=(0,a.isMemo)(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===a.ForwardRef)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===a.ForwardRef)};Number(o.version.split(".")[0])},4358:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>c});var r={},o=[];function a(e,t){}function i(e,t){}function s(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}function l(e,t){s(a,e,t)}l.preMessage=function(e){o.push(e)},l.resetWarned=function(){r={}},l.noteOnce=function(e,t){s(i,e,t)};const c=l},9111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(5959)),o=p(n(2688)),a=p(n(8398)),i=p(n(8262)),s=n(2837),l=n(402),c=n(6732),u=p(n(1060)),d=p(n(7988));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function g(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),g(this,"onDragStart",((e,t)=>{if((0,d.default)("Draggable: onDragStart: %j",t),!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})})),g(this,"onDrag",((e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);const n=(0,l.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[o,a]=(0,l.getBoundPosition)(this,r.x,r.y);r.x=o,r.y=a,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)})),g(this,"onDragStop",((e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)})),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:a.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:o,defaultClassName:a,defaultClassNameDragging:c,defaultClassNameDragged:d,position:p,positionOffset:f,scale:g,...m}=this.props;let b={},v=null;const y=!Boolean(p)||this.state.dragging,w=p||o,E={x:(0,l.canDragX)(this)&&y?this.state.x:w.x,y:(0,l.canDragY)(this)&&y?this.state.y:w.y};this.state.isElementSVG?v=(0,s.createSVGTransform)(E,f):b=(0,s.createCSSTransform)(E,f);const S=(0,i.default)(n.props.className||"",a,{[c]:this.state.dragging,[d]:this.state.dragged});return r.createElement(u.default,h({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:S,style:{...n.props.style,...b},transform:v}))}}t.default=m,g(m,"displayName","Draggable"),g(m,"propTypes",{...u.default.propTypes,axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),g(m,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},1060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(5959)),o=u(n(2688)),a=u(n(8398)),i=n(2837),s=n(402),l=n(6732),c=u(n(7988));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={start:"touchstart",move:"touchmove",stop:"touchend"},h={start:"mousedown",move:"mousemove",stop:"mouseup"};let g=h;class m extends r.Component{constructor(){super(...arguments),p(this,"dragging",!1),p(this,"lastX",NaN),p(this,"lastY",NaN),p(this,"touchIdentifier",null),p(this,"mounted",!1),p(this,"handleDragStart",(e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,i.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,i.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();const r=(0,i.getTouchIdentifier)(e);this.touchIdentifier=r;const o=(0,s.getControlPosition)(e,r,this);if(null==o)return;const{x:a,y:l}=o,u=(0,s.createCoreData)(this,a,l);(0,c.default)("DraggableCore: handleDragStart: %j",u),(0,c.default)("calling",this.props.onStart),!1!==this.props.onStart(e,u)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(n),this.dragging=!0,this.lastX=a,this.lastY=l,(0,i.addEvent)(n,g.move,this.handleDrag),(0,i.addEvent)(n,g.stop,this.handleDragStop))})),p(this,"handleDrag",(e=>{const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,s.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const o=(0,s.createCoreData)(this,n,r);if((0,c.default)("DraggableCore: handleDrag: %j",o),!1!==this.props.onDrag(e,o)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(e){const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}})),p(this,"handleDragStop",(e=>{if(!this.dragging)return;const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,s.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const o=(0,s.createCoreData)(this,n,r);if(!1===this.props.onStop(e,o)||!1===this.mounted)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(a.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,c.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(a.ownerDocument,g.move,this.handleDrag),(0,i.removeEvent)(a.ownerDocument,g.stop,this.handleDragStop))})),p(this,"onMouseDown",(e=>(g=h,this.handleDragStart(e)))),p(this,"onMouseUp",(e=>(g=h,this.handleDragStop(e)))),p(this,"onTouchStart",(e=>(g=f,this.handleDragStart(e)))),p(this,"onTouchEnd",(e=>(g=f,this.handleDragStop(e))))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,i.addEvent)(e,f.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,i.removeEvent)(t,h.move,this.handleDrag),(0,i.removeEvent)(t,f.move,this.handleDrag),(0,i.removeEvent)(t,h.stop,this.handleDragStop),(0,i.removeEvent)(t,f.stop,this.handleDragStop),(0,i.removeEvent)(e,f.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:a.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=m,p(m,"displayName","DraggableCore"),p(m,"propTypes",{allowAnyClick:o.default.bool,children:o.default.node.isRequired,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),p(m,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},8230:(e,t,n)=>{"use strict";const{default:r,DraggableCore:o}=n(9111);e.exports=r,e.exports.default=r,e.exports.DraggableCore=o},2837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=c,t.addEvent=function(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&c(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=l(e,t,"px");return{[(0,o.browserPrefixToKey)("transform",o.default)]:n}},t.createSVGTransform=function(e,t){return l(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,(e=>t===e.identifier))||e.changedTouches&&(0,r.findInArray)(e.changedTouches,(e=>t===e.identifier))},t.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},t.getTranslation=l,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=s,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(s(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=u,t.removeEvent=function(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(e)try{if(e.body&&u(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var r=n(6732),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(7350));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}let i="";function s(e,t){return i||(i=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,r.isFunction)(e[t])}))),!!(0,r.isFunction)(e[i])&&e[i](t)}function l(e,t,n){let{x:r,y:o}=e,a="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){const e="".concat("string"==typeof t.x?t.x:t.x+n),r="".concat("string"==typeof t.y?t.y:t.y+n);a="translate(".concat(e,", ").concat(r,")")+a}return a}function c(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},7350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=o,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";const r=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!r)return"";if(t in r)return"";for(let e=0;e<n.length;e++)if(o(t,n[e])in r)return n[e];return""}function o(e,t){return t?"".concat(t).concat(function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}t.default=r()},7988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const o=!(0,r.isNum)(e.lastX),i=a(e);return o?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:i}=e.props;i="string"==typeof i?i:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(i);const s=a(e);if("string"==typeof i){const{ownerDocument:e}=s,t=e.defaultView;let n;if(n="parent"===i?s.parentNode:e.querySelector(i),!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const a=n,l=t.getComputedStyle(s),c=t.getComputedStyle(a);i={left:-s.offsetLeft+(0,r.int)(c.paddingLeft)+(0,r.int)(l.marginLeft),top:-s.offsetTop+(0,r.int)(c.paddingTop)+(0,r.int)(l.marginTop),right:(0,o.innerWidth)(a)-(0,o.outerWidth)(s)-s.offsetLeft+(0,r.int)(c.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,o.innerHeight)(a)-(0,o.outerHeight)(s)-s.offsetTop+(0,r.int)(c.paddingBottom)-(0,r.int)(l.marginBottom)}}return(0,r.isNum)(i.right)&&(t=Math.min(t,i.right)),(0,r.isNum)(i.bottom)&&(n=Math.min(n,i.bottom)),(0,r.isNum)(i.left)&&(t=Math.max(t,i.left)),(0,r.isNum)(i.top)&&(n=Math.max(n,i.top)),[t,n]},t.getControlPosition=function(e,t,n){const r="number"==typeof t?(0,o.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;const i=a(n),s=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,o.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]};var r=n(6732),o=n(2837);function a(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},6732:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},8262:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function o(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.r(t),n.d(t,{clsx:()=>o,default:()=>a});const a=o},8100:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=p(n(5959)),a=p(n(2688)),i=n(8230),s=n(936),l=n(414),c=n(906),u=n(7222),d=p(n(7256));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(f,e);var t,n,a,u,p=(a=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(a);if(u){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(b(e=p.call.apply(p,[this].concat(n))),"state",{resizing:null,dragging:null,className:""}),y(b(e),"elementRef",o.default.createRef()),y(b(e),"onDragStart",(function(t,n){var r=n.node,o=e.props,a=o.onDragStart,i=o.transformScale;if(a){var s={top:0,left:0},l=r.offsetParent;if(l){var u=l.getBoundingClientRect(),d=r.getBoundingClientRect(),p=d.left/i,f=u.left/i,h=d.top/i,g=u.top/i;s.left=p-f+l.scrollLeft,s.top=h-g+l.scrollTop,e.setState({dragging:s});var m=(0,c.calcXY)(e.getPositionParams(),s.top,s.left,e.props.w,e.props.h),v=m.x,y=m.y;return a.call(b(e),e.props.i,v,y,{e:t,node:r,newPosition:s})}}})),y(b(e),"onDrag",(function(t,n){var r=n.node,o=n.deltaX,a=n.deltaY,i=e.props.onDrag;if(i){if(!e.state.dragging)throw new Error("onDrag called before onDragStart.");var s=e.state.dragging.top+a,l=e.state.dragging.left+o,u=e.props,d=u.isBounded,p=u.i,f=u.w,h=u.h,g=u.containerWidth,m=e.getPositionParams();if(d){var v=r.offsetParent;if(v){var y=e.props,w=y.margin,E=y.rowHeight,S=v.clientHeight-(0,c.calcGridItemWHPx)(h,E,w[1]);s=(0,c.clamp)(s,0,S);var C=(0,c.calcGridColWidth)(m),x=g-(0,c.calcGridItemWHPx)(f,C,w[0]);l=(0,c.clamp)(l,0,x)}}var O={top:s,left:l};e.setState({dragging:O});var A=(0,c.calcXY)(m,s,l,f,h),D=A.x,R=A.y;return i.call(b(e),p,D,R,{e:t,node:r,newPosition:O})}})),y(b(e),"onDragStop",(function(t,n){var r=n.node,o=e.props.onDragStop;if(o){if(!e.state.dragging)throw new Error("onDragEnd called before onDragStart.");var a=e.props,i=a.w,s=a.h,l=a.i,u=e.state.dragging,d=u.left,p=u.top,f={top:p,left:d};e.setState({dragging:null});var h=(0,c.calcXY)(e.getPositionParams(),p,d,i,s),g=h.x,m=h.y;return o.call(b(e),l,g,m,{e:t,node:r,newPosition:f})}})),y(b(e),"onResizeStop",(function(t,n){e.onResizeHandler(t,n,"onResizeStop")})),y(b(e),"onResizeStart",(function(t,n){e.onResizeHandler(t,n,"onResizeStart")})),y(b(e),"onResize",(function(t,n){e.onResizeHandler(t,n,"onResize")})),e}return t=f,n=[{key:"shouldComponentUpdate",value:function(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;var n=(0,c.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,c.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,l.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==e.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(e){this.moveDroppingItem(e)}},{key:"moveDroppingItem",value:function(e){var t=this.props.droppingPosition;if(t){var n=this.elementRef.current;if(n){var r=e.droppingPosition||{left:0,top:0},o=this.state.dragging,a=o&&t.left!==r.left||t.top!==r.top;if(o){if(a){var i=t.left-o.left,s=t.top-o.top;this.onDrag(t.e,{node:n,deltaX:i,deltaY:s})}}else this.onDragStart(t.e,{node:n,deltaX:t.left,deltaY:t.top})}}}},{key:"getPositionParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}},{key:"createStyle",value:function(e){var t,n=this.props,r=n.usePercentages,o=n.containerWidth;return n.useCSSTransforms?t=(0,l.setTransform)(e):(t=(0,l.setTopLeft)(e),r&&(t.left=(0,l.perc)(e.left/o),t.width=(0,l.perc)(e.width/o))),t}},{key:"mixinDraggable",value:function(e,t){return o.default.createElement(i.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},e)}},{key:"mixinResizable",value:function(e,t,n){var r=this.props,a=r.cols,i=r.x,l=r.minW,u=r.minH,d=r.maxW,p=r.maxH,f=r.transformScale,h=r.resizeHandles,g=r.resizeHandle,m=this.getPositionParams(),b=(0,c.calcGridItemPosition)(m,0,0,a-i,0).width,v=(0,c.calcGridItemPosition)(m,0,0,l,u),y=(0,c.calcGridItemPosition)(m,0,0,d,p),w=[v.width,v.height],E=[Math.min(y.width,b),Math.min(y.height,1/0)];return o.default.createElement(s.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:w,maxConstraints:E,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:f,resizeHandles:h,handle:g},e)}},{key:"onResizeHandler",value:function(e,t,n){var r=t.node,o=t.size,a=this.props[n];if(a){var i=this.props,s=i.cols,l=i.x,u=i.y,d=i.i,p=i.maxH,f=i.minH,h=this.props,g=h.minW,m=h.maxW,b=(0,c.calcWH)(this.getPositionParams(),o.width,o.height,l,u),v=b.w,y=b.h;g=Math.max(g,1),m=Math.min(m,s-l),v=(0,c.clamp)(v,g,m),y=(0,c.clamp)(y,f,p),this.setState({resizing:"onResizeStop"===n?null:o}),a.call(this,d,v,y,{e,node:r,size:o})}}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=e.w,a=e.h,i=e.isDraggable,s=e.isResizable,l=e.droppingPosition,u=e.useCSSTransforms,p=(0,c.calcGridItemPosition)(this.getPositionParams(),t,n,r,a,this.state),f=o.default.Children.only(this.props.children),g=o.default.cloneElement(f,{ref:this.elementRef,className:(0,d.default)("react-grid-item",f.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":i,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(l),cssTransforms:u}),style:h(h(h({},this.props.style),f.props.style),this.createStyle(p))});return g=this.mixinResizable(g,p,s),this.mixinDraggable(g,i)}}],n&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(o.default.Component);t.default=w,y(w,"propTypes",{children:a.default.element,cols:a.default.number.isRequired,containerWidth:a.default.number.isRequired,rowHeight:a.default.number.isRequired,margin:a.default.array.isRequired,maxRows:a.default.number.isRequired,containerPadding:a.default.array.isRequired,x:a.default.number.isRequired,y:a.default.number.isRequired,w:a.default.number.isRequired,h:a.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:a.default.string.isRequired,resizeHandles:u.resizeHandleAxesType,resizeHandle:u.resizeHandleType,onDragStop:a.default.func,onDragStart:a.default.func,onDrag:a.default.func,onResizeStop:a.default.func,onResizeStart:a.default.func,onResize:a.default.func,isDraggable:a.default.bool.isRequired,isResizable:a.default.bool.isRequired,isBounded:a.default.bool.isRequired,static:a.default.bool,useCSSTransforms:a.default.bool.isRequired,transformScale:a.default.number,className:a.default.string,handle:a.default.string,cancel:a.default.string,droppingPosition:a.default.shape({e:a.default.object.isRequired,left:a.default.number.isRequired,top:a.default.number.isRequired})}),y(w,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},9482:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(n(5959)),a=d(n(7842)),i=d(n(7256)),s=n(414),l=n(906),c=d(n(8100)),u=d(n(7222));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S="react-grid-layout",C=!1;try{C=/firefox/i.test(navigator.userAgent)}catch(e){}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(x,e);var t,n,u,d,p,f=(d=x,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(d);if(p){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function x(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,x);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(y(e=f.call.apply(f,[this].concat(n))),"state",{activeDrag:null,layout:(0,s.synchronizeLayoutWithChildren)(e.props.layout,e.props.children,e.props.cols,(0,s.compactType)(e.props),e.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),E(y(e),"dragEnterCounter",0),E(y(e),"onDragStart",(function(t,n,r,o){var a=o.e,i=o.node,l=e.state.layout,c=(0,s.getLayoutItem)(l,t);if(c)return e.setState({oldDragItem:(0,s.cloneLayoutItem)(c),oldLayout:l}),e.props.onDragStart(l,c,c,null,a,i)})),E(y(e),"onDrag",(function(t,n,r,o){var a=o.e,i=o.node,l=e.state.oldDragItem,c=e.state.layout,u=e.props,d=u.cols,p=u.allowOverlap,f=u.preventCollision,h=(0,s.getLayoutItem)(c,t);if(h){var g={w:h.w,h:h.h,x:h.x,y:h.y,placeholder:!0,i:t};c=(0,s.moveElement)(c,h,n,r,!0,f,(0,s.compactType)(e.props),d,p),e.props.onDrag(c,l,h,g,a,i),e.setState({layout:p?c:(0,s.compact)(c,(0,s.compactType)(e.props),d),activeDrag:g})}})),E(y(e),"onDragStop",(function(t,n,r,o){var a=o.e,i=o.node;if(e.state.activeDrag){var l=e.state.oldDragItem,c=e.state.layout,u=e.props,d=u.cols,p=u.preventCollision,f=u.allowOverlap,h=(0,s.getLayoutItem)(c,t);if(h){c=(0,s.moveElement)(c,h,n,r,!0,p,(0,s.compactType)(e.props),d,f),e.props.onDragStop(c,l,h,null,a,i);var g=f?c:(0,s.compact)(c,(0,s.compactType)(e.props),d),m=e.state.oldLayout;e.setState({activeDrag:null,layout:g,oldDragItem:null,oldLayout:null}),e.onLayoutMaybeChanged(g,m)}}})),E(y(e),"onResizeStart",(function(t,n,r,o){var a=o.e,i=o.node,l=e.state.layout,c=(0,s.getLayoutItem)(l,t);c&&(e.setState({oldResizeItem:(0,s.cloneLayoutItem)(c),oldLayout:e.state.layout}),e.props.onResizeStart(l,c,c,null,a,i))})),E(y(e),"onResize",(function(t,n,r,o){var a=o.e,i=o.node,l=e.state,c=l.layout,u=l.oldResizeItem,d=e.props,p=d.cols,f=d.preventCollision,m=d.allowOverlap,b=(0,s.withLayoutItem)(c,t,(function(e){var t;if(f&&!m){var o=(0,s.getAllCollisions)(c,h(h({},e),{},{w:n,h:r})).filter((function(t){return t.i!==e.i}));if(t=o.length>0){var a=1/0,i=1/0;o.forEach((function(t){t.x>e.x&&(a=Math.min(a,t.x)),t.y>e.y&&(i=Math.min(i,t.y))})),Number.isFinite(a)&&(e.w=a-e.x),Number.isFinite(i)&&(e.h=i-e.y)}}return t||(e.w=n,e.h=r),e})),v=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(b,2),y=v[0],w=v[1];if(w){var E={w:w.w,h:w.h,x:w.x,y:w.y,static:!0,i:t};e.props.onResize(y,u,w,E,a,i),e.setState({layout:m?y:(0,s.compact)(y,(0,s.compactType)(e.props),p),activeDrag:E})}})),E(y(e),"onResizeStop",(function(t,n,r,o){var a=o.e,i=o.node,l=e.state,c=l.layout,u=l.oldResizeItem,d=e.props,p=d.cols,f=d.allowOverlap,h=(0,s.getLayoutItem)(c,t);e.props.onResizeStop(c,u,h,null,a,i);var g=f?c:(0,s.compact)(c,(0,s.compactType)(e.props),p),m=e.state.oldLayout;e.setState({activeDrag:null,layout:g,oldResizeItem:null,oldLayout:null}),e.onLayoutMaybeChanged(g,m)})),E(y(e),"onDragOver",(function(t){var n;if(t.preventDefault(),t.stopPropagation(),C&&(null===(n=t.nativeEvent.target)||void 0===n||!n.classList.contains(S)))return!1;var r=e.props,a=r.droppingItem,i=r.onDropDragOver,s=r.margin,c=r.cols,u=r.rowHeight,d=r.maxRows,p=r.width,f=r.containerPadding,b=r.transformScale,v=null==i?void 0:i(t);if(!1===v)return e.state.droppingDOMNode&&e.removeDroppingPlaceholder(),!1;var y,w=h(h({},a),v),E=e.state.layout,x=t.nativeEvent,O=x.layerX,A=x.layerY,D={left:O/b,top:A/b,e:t};if(e.state.droppingDOMNode){if(e.state.droppingPosition){var R=e.state.droppingPosition,_=R.left,k=R.top;(_!=O||k!=A)&&e.setState({droppingPosition:D})}}else{var P={cols:c,margin:s,maxRows:d,rowHeight:u,containerWidth:p,containerPadding:f||s},T=(0,l.calcXY)(P,A,O,w.w,w.h);e.setState({droppingDOMNode:o.createElement("div",{key:w.i}),droppingPosition:D,layout:[].concat((y=E,function(e){if(Array.isArray(e))return m(e)}(y)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(y)||g(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[h(h({},w),{},{x:T.x,y:T.y,static:!1,isDraggable:!0})])})}})),E(y(e),"removeDroppingPlaceholder",(function(){var t=e.props,n=t.droppingItem,r=t.cols,o=e.state.layout,a=(0,s.compact)(o.filter((function(e){return e.i!==n.i})),(0,s.compactType)(e.props),r);e.setState({layout:a,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})})),E(y(e),"onDragLeave",(function(t){t.preventDefault(),t.stopPropagation(),e.dragEnterCounter--,0===e.dragEnterCounter&&e.removeDroppingPlaceholder()})),E(y(e),"onDragEnter",(function(t){t.preventDefault(),t.stopPropagation(),e.dragEnterCounter++})),E(y(e),"onDrop",(function(t){t.preventDefault(),t.stopPropagation();var n=e.props.droppingItem,r=e.state.layout,o=r.find((function(e){return e.i===n.i}));e.dragEnterCounter=0,e.removeDroppingPlaceholder(),e.props.onDrop(r,o,t)})),e}return t=x,u=[{key:"getDerivedStateFromProps",value:function(e,t){var n;return t.activeDrag?null:((0,a.default)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,s.childrenEqual)(e.children,t.children)||(n=t.layout):n=e.layout,n?{layout:(0,s.synchronizeLayoutWithChildren)(n,e.children,e.cols,(0,s.compactType)(e),e.allowOverlap),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}}],(n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.children!==e.children||!(0,s.fastRGLPropsEqual)(this.props,e,a.default)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.activeDrag){var n=this.state.layout,r=t.layout;this.onLayoutMaybeChanged(n,r)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var e=(0,s.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}}},{key:"onLayoutMaybeChanged",value:function(e,t){t||(t=this.state.layout),(0,a.default)(t,e)||this.props.onLayoutChange(e)}},{key:"placeholder",value:function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,r=t.cols,a=t.margin,i=t.containerPadding,s=t.rowHeight,l=t.maxRows,u=t.useCSSTransforms,d=t.transformScale;return o.createElement(c.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:a,containerPadding:i||a,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:u,transformScale:d},o.createElement("div",null))}},{key:"processGridItem",value:function(e,t){if(e&&e.key){var n=(0,s.getLayoutItem)(this.state.layout,String(e.key));if(!n)return null;var r=this.props,a=r.width,i=r.cols,l=r.margin,u=r.containerPadding,d=r.rowHeight,p=r.maxRows,f=r.isDraggable,h=r.isResizable,g=r.isBounded,m=r.useCSSTransforms,b=r.transformScale,v=r.draggableCancel,y=r.draggableHandle,w=r.resizeHandles,E=r.resizeHandle,S=this.state,C=S.mounted,x=S.droppingPosition,O="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&f,A="boolean"==typeof n.isResizable?n.isResizable:!n.static&&h,D=n.resizeHandles||w,R=O&&g&&!1!==n.isBounded;return o.createElement(c.default,{containerWidth:a,cols:i,margin:l,containerPadding:u||l,maxRows:p,rowHeight:d,cancel:v,handle:y,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:O,isResizable:A,isBounded:R,useCSSTransforms:m&&C,usePercentages:!C,transformScale:b,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:t?x:void 0,resizeHandles:D,resizeHandle:E},e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.style,a=t.isDroppable,l=t.innerRef,c=(0,i.default)(S,n),u=h({height:this.containerHeight()},r);return o.createElement("div",{ref:l,className:c,style:u,onDrop:a?this.onDrop:s.noop,onDragLeave:a?this.onDragLeave:s.noop,onDragEnter:a?this.onDragEnter:s.noop,onDragOver:a?this.onDragOver:s.noop},o.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),a&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&b(t.prototype,n),u&&b(t,u),Object.defineProperty(t,"prototype",{writable:!1}),x}(o.Component);t.default=x,E(x,"displayName","ReactGridLayout"),E(x,"propTypes",u.default),E(x,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:s.noop,onDragStart:s.noop,onDrag:s.noop,onDragStop:s.noop,onResizeStart:s.noop,onResize:s.noop,onResizeStop:s.noop,onDrop:s.noop,onDropDragOver:s.noop})},7222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resizeHandleType=t.resizeHandleAxesType=t.default=void 0;var r=a(n(2688)),o=a(n(5959));function a(e){return e&&e.__esModule?e:{default:e}}var i=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));t.resizeHandleAxesType=i;var s=r.default.oneOfType([r.default.node,r.default.func]);t.resizeHandleType=s;var l={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(e){e.verticalCompact},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&n(414).validateLayout(t,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,allowOverlap:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:i,resizeHandle:s,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(e,t){var n=e[t],r={};o.default.Children.forEach(n,(function(e){if(null!=(null==e?void 0:e.key)){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}}))},innerRef:r.default.any};t.default=l},4636:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.default=void 0;var o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(n(5959)),a=d(n(2688)),i=d(n(7842)),s=n(414),l=n(544),c=d(n(9482)),u=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){return Object.prototype.toString.call(e)};function S(e,t){return null==e?null:Array.isArray(e)?e:e[t]}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(E,e);var t,n,a,d,p,h=(d=E,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(d);if(p){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function E(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(v(e=h.call.apply(h,[this].concat(n))),"state",e.generateInitialState()),w(v(e),"onLayoutChange",(function(t){e.props.onLayoutChange(t,g(g({},e.props.layouts),{},w({},e.state.breakpoint,t)))})),e}return t=E,a=[{key:"getDerivedStateFromProps",value:function(e,t){if(!(0,i.default)(e.layouts,t.layouts)){var n=t.breakpoint,r=t.cols;return{layout:(0,l.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType),layouts:e.layouts}}return null}}],(n=[{key:"generateInitialState",value:function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,o=e.cols,a=(0,l.getBreakpointFromWidth)(n,t),i=(0,l.getColsFromBreakpoint)(a,o),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(r,n,a,a,i,s),breakpoint:a,cols:i}}},{key:"componentDidUpdate",value:function(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,i.default)(this.props.breakpoints,e.breakpoints)&&(0,i.default)(this.props.cols,e.cols)||this.onWidthChange(e)}},{key:"onWidthChange",value:function(e){var t=this.props,n=t.breakpoints,r=t.cols,o=t.layouts,a=t.compactType,i=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),c=this.state.breakpoint,u=(0,l.getColsFromBreakpoint)(i,r),d=g({},o);if(c!==i||e.breakpoints!==n||e.cols!==r){c in d||(d[c]=(0,s.cloneLayout)(this.state.layout));var p=(0,l.findOrGenerateResponsiveLayout)(d,n,i,c,u,a);p=(0,s.synchronizeLayoutWithChildren)(p,this.props.children,u,a,this.props.allowOverlap),d[i]=p,this.props.onLayoutChange(p,d),this.props.onBreakpointChange(i,u),this.setState({breakpoint:i,layout:p,cols:u})}var f=S(this.props.margin,i),h=S(this.props.containerPadding,i);this.props.onWidthChange(this.props.width,f,u,h)}},{key:"render",value:function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.margin),n=e.containerPadding,r=(e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,u));return o.createElement(c.default,f({},r,{margin:S(t,this.state.breakpoint),containerPadding:S(n,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&m(t.prototype,n),a&&m(t,a),Object.defineProperty(t,"prototype",{writable:!1}),E}(o.Component);t.default=C,w(C,"propTypes",{breakpoint:a.default.string,breakpoints:a.default.object,allowOverlap:a.default.bool,cols:a.default.object,margin:a.default.oneOfType([a.default.array,a.default.object]),containerPadding:a.default.oneOfType([a.default.array,a.default.object]),layouts:function(e,t){if("[object Object]"!==E(e[t]))throw new Error("Layout property must be an object. Received: "+E(e[t]));Object.keys(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(e.layouts[t],"layouts."+t)}))},width:a.default.number.isRequired,onBreakpointChange:a.default.func,onLayoutChange:a.default.func,onWidthChange:a.default.func}),w(C,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop})},906:(e,t)=>{"use strict";function n(e){var t=e.margin,n=e.containerPadding,r=e.containerWidth,o=e.cols;return(r-t[0]*(o-1)-2*n[0])/o}function r(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function o(e,t,n){return Math.max(Math.min(e,n),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calcGridColWidth=n,t.calcGridItemPosition=function(e,t,o,a,i,s){var l=e.margin,c=e.containerPadding,u=e.rowHeight,d=n(e),p={};return s&&s.resizing?(p.width=Math.round(s.resizing.width),p.height=Math.round(s.resizing.height)):(p.width=r(a,d,l[0]),p.height=r(i,u,l[1])),s&&s.dragging?(p.top=Math.round(s.dragging.top),p.left=Math.round(s.dragging.left)):(p.top=Math.round((u+l[1])*o+c[1]),p.left=Math.round((d+l[0])*t+c[0])),p},t.calcGridItemWHPx=r,t.calcWH=function(e,t,r,a,i){var s=e.margin,l=e.maxRows,c=e.cols,u=e.rowHeight,d=n(e),p=Math.round((t+s[0])/(d+s[0])),f=Math.round((r+s[1])/(u+s[1]));return{w:p=o(p,0,c-a),h:f=o(f,0,l-i)}},t.calcXY=function(e,t,r,a,i){var s=e.margin,l=e.cols,c=e.rowHeight,u=e.maxRows,d=n(e),p=Math.round((r-s[0])/(d+s[0])),f=Math.round((t-s[1])/(c+s[1]));return{x:p=o(p,0,l-a),y:f=o(f,0,u-i)}},t.clamp=o},6805:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.default=function(e){var t;return t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(v,t);var n,a,l,c,b=(n=v,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(n);if(a){var o=h(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function v(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(f(e=b.call.apply(b,[this].concat(n))),"state",{width:1280}),g(f(e),"elementRef",o.createRef()),g(f(e),"mounted",!1),g(f(e),"onWindowResize",(function(){if(e.mounted){var t=e.elementRef.current;t instanceof HTMLElement&&t.offsetWidth&&e.setState({width:t.offsetWidth})}})),e}return l=v,(c=[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var t=this.props,n=t.measureBeforeMount,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,s);return n&&!this.mounted?o.createElement("div",{className:(0,i.default)(this.props.className,m),style:this.props.style,ref:this.elementRef}):o.createElement(e,u({innerRef:this.elementRef},r,this.state))}}])&&d(l.prototype,c),Object.defineProperty(l,"prototype",{writable:!1}),v}(o.Component),g(t,"defaultProps",{measureBeforeMount:!1}),g(t,"propTypes",{measureBeforeMount:a.default.bool}),t};var o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(n(5959)),a=l(n(2688)),i=l(n(7256)),s=["measureBeforeMount"];function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="react-grid-layout"},7434:e=>{e.exports=function(e,t,n){return e===t||e.className===t.className&&n(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&n(e.verticalCompact,t.verticalCompact)&&n(e.compactType,t.compactType)&&n(e.layout,t.layout)&&n(e.margin,t.margin)&&n(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.allowOverlap===t.allowOverlap&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&n(e.resizeHandles,t.resizeHandles)&&n(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&n(e.droppingItem,t.droppingItem)&&n(e.innerRef,t.innerRef)}},544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findOrGenerateResponsiveLayout=function(e,t,n,a,i,s){if(e[n])return(0,r.cloneLayout)(e[n]);for(var l=e[a],c=o(t),u=c.slice(c.indexOf(n)),d=0,p=u.length;d<p;d++){var f=u[d];if(e[f]){l=e[f];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:i}),s,i)},t.getBreakpointFromWidth=function(e,t){for(var n=o(e),r=n[0],a=1,i=n.length;a<i;a++){var s=n[a];t>e[s]&&(r=s)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.sortBreakpoints=o;var r=n(414);function o(e){return Object.keys(e).sort((function(t,n){return e[t]-e[n]}))}},414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=d,t.childrenEqual=function(e,t){return(0,r.default)(o.default.Children.map(e,(function(e){return null==e?void 0:e.key})),o.default.Children.map(t,(function(e){return null==e?void 0:e.key})))},t.cloneLayout=p,t.cloneLayoutItem=h,t.collides=m,t.compact=b,t.compactItem=w,t.compactType=function(e){var t=e||{},n=t.verticalCompact,r=t.compactType;return!1===n?null:r},t.correctBounds=E,t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.fastRGLPropsEqual=void 0,t.getAllCollisions=x,t.getFirstCollision=C,t.getLayoutItem=S,t.getStatics=O,t.modifyLayout=f,t.moveElement=A,t.moveElementAwayFromCollision=D,t.noop=void 0,t.perc=function(e){return 100*e+"%"},t.setTopLeft=function(e){var t=e.top,n=e.left,r=e.width,o=e.height;return{top:"".concat(t,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(o,"px"),position:"absolute"}},t.setTransform=function(e){var t=e.top,n=e.left,r=e.width,o=e.height,a="translate(".concat(n,"px,").concat(t,"px)");return{transform:a,WebkitTransform:a,MozTransform:a,msTransform:a,OTransform:a,width:"".concat(r,"px"),height:"".concat(o,"px"),position:"absolute"}},t.sortLayoutItems=R,t.sortLayoutItemsByColRow=k,t.sortLayoutItemsByRowCol=_,t.synchronizeLayoutWithChildren=function(e,t,n,r,a){e=e||[];var i=[];o.default.Children.forEach(t,(function(t){if(null!=(null==t?void 0:t.key)){var n=S(e,String(t.key));if(n)i.push(h(n));else{!c&&t.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var r=t.props["data-grid"]||t.props._grid;r?(c||P([r],"ReactGridLayout.children"),i.push(h(s(s({},r),{},{i:t.key})))):i.push(h({w:1,h:1,x:0,y:d(i),i:String(t.key)}))}}}));var l=E(i,{cols:n});return a?l:b(l,r,n)},t.validateLayout=P,t.withLayoutItem=function(e,t,n){var r=S(e,t);return r?[e=f(e,r=n(h(r))),r]:[e,null]};var r=a(n(7842)),o=a(n(5959));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=!0,u=!1;function d(e){for(var t,n=0,r=0,o=e.length;r<o;r++)(t=e[r].y+e[r].h)>n&&(n=t);return n}function p(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=h(e[n]);return t}function f(e,t){for(var n=Array(e.length),r=0,o=e.length;r<o;r++)t.i===e[r].i?n[r]=t:n[r]=e[r];return n}function h(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}var g=n(7434);function m(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function b(e,t,n){for(var r=O(e),o=R(e,t),a=Array(e.length),i=0,s=o.length;i<s;i++){var l=h(o[i]);l.static||(l=w(r,l,t,n,o),r.push(l)),a[e.indexOf(o[i])]=l,l.moved=!1}return a}t.fastRGLPropsEqual=g;var v={x:"w",y:"h"};function y(e,t,n,r){var o=v[r];t[r]+=1;for(var a=e.map((function(e){return e.i})).indexOf(t.i)+1;a<e.length;a++){var i=e[a];if(!i.static){if(i.y>t.y+t.h)break;m(t,i)&&y(e,i,n+t[o],r)}}t[r]=n}function w(e,t,n,r,o){var a,i="horizontal"===n;if("vertical"===n)for(t.y=Math.min(d(e),t.y);t.y>0&&!C(e,t);)t.y--;else if(i)for(;t.x>0&&!C(e,t);)t.x--;for(;a=C(e,t);)i?y(o,t,a.x+a.w,"x"):y(o,t,a.y+a.h,"y"),i&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function E(e,t){for(var n=O(e),r=0,o=e.length;r<o;r++){var a=e[r];if(a.x+a.w>t.cols&&(a.x=t.cols-a.w),a.x<0&&(a.x=0,a.w=t.cols),a.static)for(;C(n,a);)a.y++;else n.push(a)}return e}function S(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function C(e,t){for(var n=0,r=e.length;n<r;n++)if(m(e[n],t))return e[n]}function x(e,t){return e.filter((function(e){return m(e,t)}))}function O(e){return e.filter((function(e){return e.static}))}function A(e,t,n,r,o,a,i,s,l){if(t.static&&!0!==t.isDraggable)return e;if(t.y===r&&t.x===n)return e;T("Moving element ".concat(t.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(t.x,",").concat(t.y,"]"));var c=t.x,u=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var d=R(e,i);("vertical"===i&&"number"==typeof r?u>=r:"horizontal"===i&&"number"==typeof n&&c>=n)&&(d=d.reverse());var f=x(d,t),h=f.length>0;if(h&&l)return p(e);if(h&&a)return T("Collision prevented on ".concat(t.i,", reverting.")),t.x=c,t.y=u,t.moved=!1,e;for(var g=0,m=f.length;g<m;g++){var b=f[g];T("Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(b.i," at [").concat(b.x,",").concat(b.y,"]")),b.moved||(e=b.static?D(e,b,t,o,i,s):D(e,t,b,o,i,s))}return e}function D(e,t,n,r,o,a){var i="horizontal"===o,s="horizontal"!==o,l=t.static;if(r){r=!1;var c={x:i?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!C(e,c))return T("Doing reverse collision on ".concat(n.i," up to [").concat(c.x,",").concat(c.y,"].")),A(e,n,i?c.x:void 0,s?c.y:void 0,r,l,o,a)}return A(e,n,i?n.x+1:void 0,s?n.y+1:void 0,r,l,o,a)}function R(e,t){return"horizontal"===t?k(e):"vertical"===t?_(e):e}function _(e){return e.slice(0).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function k(e){return e.slice(0).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,o=e.length;r<o;r++)for(var a=e[r],i=0;i<n.length;i++)if("number"!=typeof a[n[i]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[i]+" must be a number!")}function T(){var e;u&&(e=console).log.apply(e,arguments)}t.noop=function(){}},2548:(e,t,n)=>{e.exports=n(9482).default,e.exports.utils=n(414),e.exports.Responsive=n(4636).default,e.exports.Responsive.utils=n(544),e.exports.WidthProvider=n(6805).default},7256:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function o(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.r(t),n.d(t,{clsx:()=>o,default:()=>a});const a=o},8299:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy");Symbol.for("react.offscreen");function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case i:case a:case d:case p:return e;default:switch(e=e&&e.$$typeof){case c:case l:case u:case h:case f:case s:return e;default:return t}}case r:return t}}}Symbol.for("react.module.reference"),t.ForwardRef=u,t.isFragment=function(e){return g(e)===o},t.isMemo=function(e){return g(e)===f}},4271:(e,t,n)=>{"use strict";e.exports=n(8299)},1794:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(5959)),o=n(8230),a=n(9954),i=n(6333),s=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var h=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleRefs={},t.lastHandleRect=null,t.slack=null,t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var l=i.prototype;return l.componentWillUnmount=function(){this.resetData()},l.resetData=function(){this.lastHandleRect=this.slack=null},l.runConstraints=function(e,t){var n=this.props,r=n.minConstraints,o=n.maxConstraints,a=n.lockAspectRatio;if(!r&&!o&&!a)return[e,t];if(a){var i=this.props.width/this.props.height,s=e-this.props.width,l=t-this.props.height;Math.abs(s)>Math.abs(l*i)?t=e/i:e=t*i}var c=e,u=t,d=this.slack||[0,0],p=d[0],f=d[1];return e+=p,t+=f,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),o&&(e=Math.min(o[0],e),t=Math.min(o[1],t)),this.slack=[p+(c-e),f+(u-t)],[e,t]},l.resizeHandler=function(e,t){var n=this;return function(r,o){var a=o.node,i=o.deltaX,s=o.deltaY;"onResizeStart"===e&&n.resetData();var l=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==t&&"s"!==t,c=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==t&&"w"!==t;if(l||c){var u=t[0],d=t[t.length-1],p=a.getBoundingClientRect();null!=n.lastHandleRect&&("w"===d&&(i+=p.left-n.lastHandleRect.left),"n"===u&&(s+=p.top-n.lastHandleRect.top)),n.lastHandleRect=p,"w"===d&&(i=-i),"n"===u&&(s=-s);var f=n.props.width+(l?i/n.props.transformScale:0),h=n.props.height+(c?s/n.props.transformScale:0),g=n.runConstraints(f,h);f=g[0],h=g[1];var m=f!==n.props.width||h!==n.props.height,b="function"==typeof n.props[e]?n.props[e]:null;b&&!("onResize"===e&&!m)&&(null==r.persist||r.persist(),b(r,{node:a,size:{width:f,height:h},handle:t})),"onResizeStop"===e&&n.resetData()}}},l.renderResizeHandle=function(e,t){var n=this.props.handle;if(!n)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e,ref:t});if("function"==typeof n)return n(e,t);var o=d({ref:t},"string"==typeof n.type?{}:{handleAxis:e});return r.cloneElement(n,o)},l.render=function(){var e=this,t=this.props,n=t.children,i=t.className,l=t.draggableOpts,u=(t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),p=(t.transformScale,function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,s));return(0,a.cloneElement)(n,d(d({},p),{},{className:(i?i+" ":"")+"react-resizable",children:[].concat(n.props.children,u.map((function(t){var n,a=null!=(n=e.handleRefs[t])?n:e.handleRefs[t]=r.createRef();return r.createElement(o.DraggableCore,c({},l,{nodeRef:a,key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t,a))})))}))},i}(r.Component);t.default=h,h.propTypes=i.resizableProps,h.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},6609:(e,t,n)=>{"use strict";t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(5959)),o=l(n(2688)),a=l(n(1794)),i=n(6333),s=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var g=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height},t.onResize=function(e,n){var r=n.size;t.props.onResize?(null==e.persist||e.persist(),t.setState(r,(function(){return t.props.onResize&&t.props.onResize(e,n)}))):t.setState(r)},t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n),o.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},o.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,o=(e.onResize,e.onResizeStart),i=e.onResizeStop,l=e.draggableOpts,c=e.minConstraints,d=e.maxConstraints,f=e.lockAspectRatio,h=e.axis,g=(e.width,e.height,e.resizeHandles),m=e.style,b=e.transformScale,v=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,s);return r.createElement(a.default,{axis:h,draggableOpts:l,handle:t,handleSize:n,height:this.state.height,lockAspectRatio:f,maxConstraints:d,minConstraints:c,onResizeStart:o,onResize:this.onResize,onResizeStop:i,resizeHandles:g,transformScale:b,width:this.state.width},r.createElement("div",u({},v,{style:p(p({},m),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},o}(r.Component);t.default=g,g.propTypes=p(p({},i.resizableProps),{},{children:o.default.element})},6333:(e,t,n)=>{"use strict";t.__esModule=!0,t.resizableProps=void 0;var r,o=(r=n(2688))&&r.__esModule?r:{default:r};n(8230);var a={axis:o.default.oneOf(["both","x","y","none"]),className:o.default.string,children:o.default.element.isRequired,draggableOpts:o.default.shape({allowAnyClick:o.default.bool,cancel:o.default.string,children:o.default.node,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:o.default.node,grid:o.default.arrayOf(o.default.number),handle:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number}),height:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a=t[0];return"both"===a.axis||"y"===a.axis?(r=o.default.number).isRequired.apply(r,t):o.default.number.apply(o.default,t)},handle:o.default.oneOfType([o.default.node,o.default.func]),handleSize:o.default.arrayOf(o.default.number),lockAspectRatio:o.default.bool,maxConstraints:o.default.arrayOf(o.default.number),minConstraints:o.default.arrayOf(o.default.number),onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,resizeHandles:o.default.arrayOf(o.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:o.default.number,width:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a=t[0];return"both"===a.axis||"x"===a.axis?(r=o.default.number).isRequired.apply(r,t):o.default.number.apply(o.default,t)}};t.resizableProps=a},9954:(e,t,n)=>{"use strict";t.__esModule=!0,t.cloneElement=function(e,t){return t.style&&e.props.style&&(t.style=i(i({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),o.default.cloneElement(e,t)};var r,o=(r=n(5959))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},936:(e,t,n)=>{"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(1794).default,e.exports.ResizableBox=n(6609).default},8353:(e,t,n)=>{"use strict";n.d(t,{Ms:()=>b,vU:()=>f});var r=n(4629),o=n(1693),a=n(3449),i=n(2236),s=n(6712);function l(){}var c=u("C",void 0,void 0);function u(e,t,n){return{kind:e,value:t,error:n}}var d=n(2332),p=n(3004),f=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,(0,a.Uv)(t)&&t.add(n)):n.destination=w,n}return(0,r.C6)(t,e),t.create=function(e,t,n){return new b(e,t,n)},t.prototype.next=function(e){this.isStopped?y(function(e){return u("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?y(u("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?y(c,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(a.yU),h=Function.prototype.bind;function g(e,t){return h.call(e,t)}var m=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){v(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){v(e)}else v(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){v(e)}},e}(),b=function(e){function t(t,n,r){var a,s,l=e.call(this)||this;return(0,o.T)(t)||!t?a={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:l&&i.$.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return l.unsubscribe()},a={next:t.next&&g(t.next,s),error:t.error&&g(t.error,s),complete:t.complete&&g(t.complete,s)}):a=t,l.destination=new m(a),l}return(0,r.C6)(t,e),t}(f);function v(e){i.$.useDeprecatedSynchronousErrorHandling?(0,p.l)(e):(0,s.m)(e)}function y(e,t){var n=i.$.onStoppedNotification;n&&d.f.setTimeout((function(){return n(e,t)}))}var w={closed:!0,next:l,error:function(e){throw e},complete:l}},3449:(e,t,n)=>{"use strict";n.d(t,{yU:()=>l,Uv:()=>c});var r,o=n(4629),a=n(1693),i=((r=function(e){var t;t=this,Error.call(t),t.stack=(new Error).stack,this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}).prototype=Object.create(Error.prototype),r.prototype.constructor=r,r);function s(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var l=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,s;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var c=(0,o.Ju)(l),d=c.next();!d.done;d=c.next())d.value.remove(this)}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else l.remove(this);var p=this.initialTeardown;if((0,a.T)(p))try{p()}catch(e){s=e instanceof i?e.errors:[e]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=(0,o.Ju)(f),g=h.next();!g.done;g=h.next()){var m=g.value;try{u(m)}catch(e){s=null!=s?s:[],e instanceof i?s=(0,o.fX)((0,o.fX)([],(0,o.zs)(s)),(0,o.zs)(e.errors)):s.push(e)}}}catch(e){n={error:e}}finally{try{g&&!g.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}if(s)throw new i(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)u(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&s(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&s(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e instanceof l||e&&"closed"in e&&(0,a.T)(e.remove)&&(0,a.T)(e.add)&&(0,a.T)(e.unsubscribe)}function u(e){(0,a.T)(e)?e():e.unsubscribe()}l.EMPTY},2236:(e,t,n)=>{"use strict";n.d(t,{$:()=>r});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4370:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(4629);function o(e,t,n,r,o){return new a(e,t,n,r,o)}var a=function(e){function t(t,n,r,o,a,i){var s=e.call(this,t)||this;return s.onFinalize=a,s.shouldUnsubscribe=i,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return(0,r.C6)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(n(8353).vU)},7708:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(5096),o=n(4370);function a(e,t){return(0,r.N)((function(n,r){var a=0;n.subscribe((0,o._)(r,(function(n){r.next(e.call(t,n,a++))})))}))}},2332:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});var r=n(4629),o={setTimeout:function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];var i=o.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,(0,r.fX)([e,t],(0,r.zs)(n))):setTimeout.apply(void 0,(0,r.fX)([e,t],(0,r.zs)(n)))},clearTimeout:function(e){var t=o.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},3004:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a,l:()=>i});var r=n(2236),o=null;function a(e){if(r.$.useDeprecatedSynchronousErrorHandling){var t=!o;if(t&&(o={errorThrown:!1,error:null}),e(),t){var n=o,a=n.errorThrown,i=n.error;if(o=null,a)throw i}}else e()}function i(e){r.$.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},1693:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{T:()=>r})},5096:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(1693);function o(e){return function(t){if(function(e){return(0,r.T)(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},6712:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(2236),o=n(2332);function a(e){o.f.setTimeout((function(){var t=r.$.onUnhandledError;if(!t)throw e;t(e)}))}},9524:(e,t,n)=>{const r=Symbol("SemVer ANY");class o{static get ANY(){return r}constructor(e,t){if(t=a(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?i[s.COMPARATORLOOSE]:i[s.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new u(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=a(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const a=n(7095),{safeRe:i,t:s}=n(6850),l=n(3811),c=n(9796),u=n(7944),d=n(8395)},8395:(e,t,n)=>{const r=/\s+/g;class o{constructor(e,t){if(t=i(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!b(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&g)|(this.options.loose&&m))+":"+e,n=a.get(t);if(n)return n;const r=this.options.loose,o=r?u[d.HYPHENRANGELOOSE]:u[d.HYPHENRANGE];e=e.replace(o,k(this.options.includePrerelease)),l("hyphen replace",e),e=e.replace(u[d.COMPARATORTRIM],p),l("comparator trim",e),e=e.replace(u[d.TILDETRIM],f),l("tilde trim",e),e=e.replace(u[d.CARETTRIM],h),l("caret trim",e);let i=e.split(" ").map((e=>w(e,this.options))).join(" ").split(/\s+/).map((e=>_(e,this.options)));r&&(i=i.filter((e=>(l("loose invalid filter",e,this.options),!!e.match(u[d.COMPARATORLOOSE]))))),l("range list",i);const c=new Map,v=i.map((e=>new s(e,this.options)));for(const e of v){if(b(e))return[e];c.set(e.value,e)}c.size>1&&c.has("")&&c.delete("");const y=[...c.values()];return a.set(t,y),y}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((n=>y(n,t)&&e.set.some((e=>y(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const a=new(n(1158)),i=n(7095),s=n(9524),l=n(9796),c=n(7944),{safeRe:u,t:d,comparatorTrimReplace:p,tildeTrimReplace:f,caretTrimReplace:h}=n(6850),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:m}=n(9630),b=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,y=(e,t)=>{let n=!0;const r=e.slice();let o=r.pop();for(;n&&r.length;)n=r.every((e=>o.intersects(e,t))),o=r.pop();return n},w=(e,t)=>(l("comp",e,t),e=x(e,t),l("caret",e),e=S(e,t),l("tildes",e),e=A(e,t),l("xrange",e),e=R(e,t),l("stars",e),e),E=e=>!e||"x"===e.toLowerCase()||"*"===e,S=(e,t)=>e.trim().split(/\s+/).map((e=>C(e,t))).join(" "),C=(e,t)=>{const n=t.loose?u[d.TILDELOOSE]:u[d.TILDE];return e.replace(n,((t,n,r,o,a)=>{let i;return l("tilde",e,t,n,r,o,a),E(n)?i="":E(r)?i=`>=${n}.0.0 <${+n+1}.0.0-0`:E(o)?i=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:a?(l("replaceTilde pr",a),i=`>=${n}.${r}.${o}-${a} <${n}.${+r+1}.0-0`):i=`>=${n}.${r}.${o} <${n}.${+r+1}.0-0`,l("tilde return",i),i}))},x=(e,t)=>e.trim().split(/\s+/).map((e=>O(e,t))).join(" "),O=(e,t)=>{l("caret",e,t);const n=t.loose?u[d.CARETLOOSE]:u[d.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,o,a,i)=>{let s;return l("caret",e,t,n,o,a,i),E(n)?s="":E(o)?s=`>=${n}.0.0${r} <${+n+1}.0.0-0`:E(a)?s="0"===n?`>=${n}.${o}.0${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.0${r} <${+n+1}.0.0-0`:i?(l("replaceCaret pr",i),s="0"===n?"0"===o?`>=${n}.${o}.${a}-${i} <${n}.${o}.${+a+1}-0`:`>=${n}.${o}.${a}-${i} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${a}-${i} <${+n+1}.0.0-0`):(l("no pr"),s="0"===n?"0"===o?`>=${n}.${o}.${a}${r} <${n}.${o}.${+a+1}-0`:`>=${n}.${o}.${a}${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${a} <${+n+1}.0.0-0`),l("caret return",s),s}))},A=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map((e=>D(e,t))).join(" ")),D=(e,t)=>{e=e.trim();const n=t.loose?u[d.XRANGELOOSE]:u[d.XRANGE];return e.replace(n,((n,r,o,a,i,s)=>{l("xRange",e,n,r,o,a,i,s);const c=E(o),u=c||E(a),d=u||E(i),p=d;return"="===r&&p&&(r=""),s=t.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(u&&(a=0),i=0,">"===r?(r=">=",u?(o=+o+1,a=0,i=0):(a=+a+1,i=0)):"<="===r&&(r="<",u?o=+o+1:a=+a+1),"<"===r&&(s="-0"),n=`${r+o}.${a}.${i}${s}`):u?n=`>=${o}.0.0${s} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${a}.0${s} <${o}.${+a+1}.0-0`),l("xRange return",n),n}))},R=(e,t)=>(l("replaceStars",e,t),e.trim().replace(u[d.STAR],"")),_=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),k=e=>(t,n,r,o,a,i,s,l,c,u,d,p)=>`${n=E(r)?"":E(o)?`>=${r}.0.0${e?"-0":""}`:E(a)?`>=${r}.${o}.0${e?"-0":""}`:i?`>=${n}`:`>=${n}${e?"-0":""}`} ${l=E(c)?"":E(u)?`<${+c+1}.0.0-0`:E(d)?`<${c}.${+u+1}.0-0`:p?`<=${c}.${u}.${d}-${p}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`}`.trim(),P=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(l(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},7944:(e,t,n)=>{const r=n(9796),{MAX_LENGTH:o,MAX_SAFE_INTEGER:a}=n(9630),{safeRe:i,t:s}=n(6850),l=n(7095),{compareIdentifiers:c}=n(4031);class u{constructor(e,t){if(t=l(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?i[s.LOOSE]:i[s.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return c(n,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("build compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return c(n,o)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},7994:(e,t,n)=>{const r=n(5860);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},3811:(e,t,n)=>{const r=n(6909),o=n(7659),a=n(144),i=n(2077),s=n(599),l=n(7092);e.exports=(e,t,n,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,c);case"!=":return o(e,n,c);case">":return a(e,n,c);case">=":return i(e,n,c);case"<":return s(e,n,c);case"<=":return l(e,n,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},5334:(e,t,n)=>{const r=n(7944),o=n(5860),{safeRe:a,t:i}=n(6850);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?a[i.COERCERTLFULL]:a[i.COERCERTL];let o;for(;(o=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&o.index+o[0].length===n.index+n[0].length||(n=o),r.lastIndex=o.index+o[1].length+o[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?a[i.COERCEFULL]:a[i.COERCE]);if(null===n)return null;const s=n[2],l=n[3]||"0",c=n[4]||"0",u=t.includePrerelease&&n[5]?`-${n[5]}`:"",d=t.includePrerelease&&n[6]?`+${n[6]}`:"";return o(`${s}.${l}.${c}${u}${d}`,t)}},2801:(e,t,n)=>{const r=n(7944);e.exports=(e,t,n)=>{const o=new r(e,n),a=new r(t,n);return o.compare(a)||o.compareBuild(a)}},7023:(e,t,n)=>{const r=n(5380);e.exports=(e,t)=>r(e,t,!0)},5380:(e,t,n)=>{const r=n(7944);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},660:(e,t,n)=>{const r=n(5860);e.exports=(e,t)=>{const n=r(e,null,!0),o=r(t,null,!0),a=n.compare(o);if(0===a)return null;const i=a>0,s=i?n:o,l=i?o:n,c=!!s.prerelease.length;if(l.prerelease.length&&!c)return l.patch||l.minor?s.patch?"patch":s.minor?"minor":"major":"major";const u=c?"pre":"";return n.major!==o.major?u+"major":n.minor!==o.minor?u+"minor":n.patch!==o.patch?u+"patch":"prerelease"}},6909:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>0===r(e,t,n)},144:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)>0},2077:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)>=0},5955:(e,t,n)=>{const r=n(7944);e.exports=(e,t,n,o,a)=>{"string"==typeof n&&(a=o,o=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,o,a).version}catch(e){return null}}},599:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)<0},7092:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)<=0},2966:(e,t,n)=>{const r=n(7944);e.exports=(e,t)=>new r(e,t).major},5986:(e,t,n)=>{const r=n(7944);e.exports=(e,t)=>new r(e,t).minor},7659:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>0!==r(e,t,n)},5860:(e,t,n)=>{const r=n(7944);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},1617:(e,t,n)=>{const r=n(7944);e.exports=(e,t)=>new r(e,t).patch},9613:(e,t,n)=>{const r=n(5860);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},2862:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>r(t,e,n)},6033:(e,t,n)=>{const r=n(2801);e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))},1722:(e,t,n)=>{const r=n(8395);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},603:(e,t,n)=>{const r=n(2801);e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))},7645:(e,t,n)=>{const r=n(5860);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},8449:(e,t,n)=>{const r=n(6850),o=n(9630),a=n(7944),i=n(4031),s=n(5860),l=n(7645),c=n(7994),u=n(5955),d=n(660),p=n(2966),f=n(5986),h=n(1617),g=n(9613),m=n(5380),b=n(2862),v=n(7023),y=n(2801),w=n(603),E=n(6033),S=n(144),C=n(599),x=n(6909),O=n(7659),A=n(2077),D=n(7092),R=n(3811),_=n(5334),k=n(9524),P=n(8395),T=n(1722),I=n(651),j=n(7840),F=n(7930),M=n(3489),L=n(7494),N=n(5463),B=n(7871),V=n(4266),z=n(1112),$=n(1465),U=n(9252);e.exports={parse:s,valid:l,clean:c,inc:u,diff:d,major:p,minor:f,patch:h,prerelease:g,compare:m,rcompare:b,compareLoose:v,compareBuild:y,sort:w,rsort:E,gt:S,lt:C,eq:x,neq:O,gte:A,lte:D,cmp:R,coerce:_,Comparator:k,Range:P,satisfies:T,toComparators:I,maxSatisfying:j,minSatisfying:F,minVersion:M,validRange:L,outside:N,gtr:B,ltr:V,intersects:z,simplifyRange:$,subset:U,SemVer:a,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers}},9630:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9796:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},4031:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),o=t.test(n);return r&&o&&(e=+e,n=+n),e===n?0:r&&!o?-1:o&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},1158:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},7095:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},6850:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:a}=n(9630),i=n(9796),s=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.t={};let d=0;const p="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",a],[p,o]],h=(e,t,n)=>{const r=(e=>{for(const[t,n]of f)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),o=d++;i(e,o,t),u[e]=o,c[o]=t,s[o]=new RegExp(t,n?"g":void 0),l[o]=new RegExp(r,n?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","\\d+"),h("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),h("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER",`${p}+`),h("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),h("FULL",`^${c[u.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),h("LOOSE",`^${c[u.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),h("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),h("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),h("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),h("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?(?:$|[^\\d])`),h("COERCERTL",c[u.COERCE],!0),h("COERCERTLFULL",c[u.COERCEFULL],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",h("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",h("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},7871:(e,t,n)=>{const r=n(5463);e.exports=(e,t,n)=>r(e,t,">",n)},1112:(e,t,n)=>{const r=n(8395);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},4266:(e,t,n)=>{const r=n(5463);e.exports=(e,t,n)=>r(e,t,"<",n)},7840:(e,t,n)=>{const r=n(7944),o=n(8395);e.exports=(e,t,n)=>{let a=null,i=null,s=null;try{s=new o(t,n)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(a&&-1!==i.compare(e)||(a=e,i=new r(a,n)))})),a}},7930:(e,t,n)=>{const r=n(7944),o=n(8395);e.exports=(e,t,n)=>{let a=null,i=null,s=null;try{s=new o(t,n)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(a&&1!==i.compare(e)||(a=e,i=new r(a,n)))})),a}},3489:(e,t,n)=>{const r=n(7944),o=n(8395),a=n(144);e.exports=(e,t)=>{e=new o(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let i=null;o.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!a(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!i||n&&!a(n,i)||(n=i)}return n&&e.test(n)?n:null}},5463:(e,t,n)=>{const r=n(7944),o=n(9524),{ANY:a}=o,i=n(8395),s=n(1722),l=n(144),c=n(599),u=n(7092),d=n(2077);e.exports=(e,t,n,p)=>{let f,h,g,m,b;switch(e=new r(e,p),t=new i(t,p),n){case">":f=l,h=u,g=c,m=">",b=">=";break;case"<":f=c,h=d,g=l,m="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,p))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let i=null,s=null;if(r.forEach((e=>{e.semver===a&&(e=new o(">=0.0.0")),i=i||e,s=s||e,f(e.semver,i.semver,p)?i=e:g(e.semver,s.semver,p)&&(s=e)})),i.operator===m||i.operator===b)return!1;if((!s.operator||s.operator===m)&&h(e,s.semver))return!1;if(s.operator===b&&g(e,s.semver))return!1}return!0}},1465:(e,t,n)=>{const r=n(1722),o=n(5380);e.exports=(e,t,n)=>{const a=[];let i=null,s=null;const l=e.sort(((e,t)=>o(e,t,n)));for(const e of l)r(e,t,n)?(s=e,i||(i=e)):(s&&a.push([i,s]),s=null,i=null);i&&a.push([i,null]);const c=[];for(const[e,t]of a)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");const u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},9252:(e,t,n)=>{const r=n(8395),o=n(9524),{ANY:a}=o,i=n(1722),s=n(5380),l=[new o(">=0.0.0-0")],c=[new o(">=0.0.0")],u=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===a){if(1===t.length&&t[0].semver===a)return!0;e=n.includePrerelease?l:c}if(1===t.length&&t[0].semver===a){if(n.includePrerelease)return!0;t=c}const r=new Set;let o,u,f,h,g,m,b;for(const t of e)">"===t.operator||">="===t.operator?o=d(o,t,n):"<"===t.operator||"<="===t.operator?u=p(u,t,n):r.add(t.semver);if(r.size>1)return null;if(o&&u){if(f=s(o.semver,u.semver,n),f>0)return null;if(0===f&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of r){if(o&&!i(e,String(o),n))return null;if(u&&!i(e,String(u),n))return null;for(const r of t)if(!i(e,String(r),n))return!1;return!0}let v=!(!u||n.includePrerelease||!u.semver.prerelease.length)&&u.semver,y=!(!o||n.includePrerelease||!o.semver.prerelease.length)&&o.semver;v&&1===v.prerelease.length&&"<"===u.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(b=b||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,o)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),">"===e.operator||">="===e.operator){if(h=d(o,e,n),h===e&&h!==o)return!1}else if(">="===o.operator&&!i(o.semver,String(e),n))return!1;if(u)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(g=p(u,e,n),g===e&&g!==u)return!1}else if("<="===u.operator&&!i(u.semver,String(e),n))return!1;if(!e.operator&&(u||o)&&0!==f)return!1}return!(o&&m&&!u&&0!==f||u&&b&&!o&&0!==f||y||v)},d=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let o=!1;e:for(const r of e.set){for(const e of t.set){const t=u(r,e,n);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},651:(e,t,n)=>{const r=n(8395);e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},7494:(e,t,n)=>{const r=n(8395);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},4354:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(5292),o=n.n(r),a=n(9893),i=n.n(a),s=n(9383),l=n.n(s),c=n(6884),u=n.n(c),d=n(9088),p=n.n(d),f=n(7997),h=n.n(f),g=n(6005),m={};m.styleTagTransform=h(),m.setAttributes=u(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(g.A,m);const b=g.A&&g.A.locals?g.A.locals:void 0},5292:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=a[c]||0,d="".concat(c," ").concat(u);a[c]=u+1;var p=n(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=o(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var l=r(e,o),c=0;c<a.length;c++){var u=n(a[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=l}}},9383:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9088:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},6884:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},9893:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},7997:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},6089:e=>{"use strict";e.exports=r},9089:e=>{"use strict";e.exports=c},7781:t=>{"use strict";t.exports=e},8531:e=>{"use strict";e.exports=a},2007:e=>{"use strict";e.exports=t},3241:e=>{"use strict";e.exports=o},5959:e=>{"use strict";e.exports=n},8398:e=>{"use strict";e.exports=l},200:e=>{"use strict";e.exports=d},3806:e=>{"use strict";e.exports=i},7694:e=>{"use strict";e.exports=u},1269:e=>{"use strict";e.exports=s},4452:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,a(n)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},7451:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{A:()=>r})},1705:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2162);function o(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},8102:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},7405:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(1705);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},9644:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,{A:()=>r})},7850:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(6438);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||(0,r.A)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},4300:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(7451),o=n(6438);function a(e){return function(e){if(Array.isArray(e))return(0,r.A)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2162:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(694);function o(e){var t=function(e){if("object"!=(0,r.A)(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=(0,r.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,r.A)(t)?t:t+""}},694:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},6438:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7451);function o(e,t){if(e){if("string"==typeof e)return(0,r.A)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.A)(e,t):void 0}}},8083:(e,t,n)=>{"use strict";n.d(t,{ll:()=>E,rD:()=>A,UU:()=>x,cY:()=>S,BN:()=>C,Ej:()=>O});var r=n(8015);function o(e,t,n){let{reference:o,floating:a}=e;const i=(0,r.TV)(t),s=(0,r.Dz)(t),l=(0,r.sq)(s),c=(0,r.C0)(t),u="y"===i,d=o.x+o.width/2-a.width/2,p=o.y+o.height/2-a.height/2,f=o[l]/2-a[l]/2;let h;switch(c){case"top":h={x:d,y:o.y-a.height};break;case"bottom":h={x:d,y:o.y+o.height};break;case"right":h={x:o.x+o.width,y:p};break;case"left":h={x:o.x-a.width,y:p};break;default:h={x:o.x,y:o.y}}switch((0,r.Sg)(t)){case"start":h[s]-=f*(n&&u?-1:1);break;case"end":h[s]+=f*(n&&u?-1:1)}return h}async function a(e,t){var n;void 0===t&&(t={});const{x:o,y:a,platform:i,rects:s,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:f=!1,padding:h=0}=(0,r._3)(t,e),g=(0,r.nI)(h),m=l[f?"floating"===p?"reference":"floating":p],b=(0,r.B1)(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v="floating"===p?{x:o,y:a,width:s.floating.width,height:s.floating.height}:s.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(l.floating)),w=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},E=(0,r.B1)(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(b.top-E.top+g.top)/w.y,bottom:(E.bottom-b.bottom+g.bottom)/w.y,left:(b.left-E.left+g.left)/w.x,right:(E.right-b.right+g.right)/w.x}}var i=n(977);function s(e){const t=(0,i.L9)(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const a=(0,i.sb)(e),s=a?e.offsetWidth:n,l=a?e.offsetHeight:o,c=(0,r.LI)(n)!==s||(0,r.LI)(o)!==l;return c&&(n=s,o=l),{width:n,height:o,$:c}}function l(e){return(0,i.vq)(e)?e:e.contextElement}function c(e){const t=l(e);if(!(0,i.sb)(t))return(0,r.Jx)(1);const n=t.getBoundingClientRect(),{width:o,height:a,$:c}=s(t);let u=(c?(0,r.LI)(n.width):n.width)/o,d=(c?(0,r.LI)(n.height):n.height)/a;return u&&Number.isFinite(u)||(u=1),d&&Number.isFinite(d)||(d=1),{x:u,y:d}}const u=(0,r.Jx)(0);function d(e){const t=(0,i.zk)(e);return(0,i.Tc)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:u}function p(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),s=l(e);let u=(0,r.Jx)(1);t&&(o?(0,i.vq)(o)&&(u=c(o)):u=c(e));const p=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==(0,i.zk)(e))&&t}(s,n,o)?d(s):(0,r.Jx)(0);let f=(a.left+p.x)/u.x,h=(a.top+p.y)/u.y,g=a.width/u.x,m=a.height/u.y;if(s){const e=(0,i.zk)(s),t=o&&(0,i.vq)(o)?(0,i.zk)(o):o;let n=e,r=(0,i._m)(n);for(;r&&o&&t!==n;){const e=c(r),t=r.getBoundingClientRect(),o=(0,i.L9)(r),a=t.left+(r.clientLeft+parseFloat(o.paddingLeft))*e.x,s=t.top+(r.clientTop+parseFloat(o.paddingTop))*e.y;f*=e.x,h*=e.y,g*=e.x,m*=e.y,f+=a,h+=s,n=(0,i.zk)(r),r=(0,i._m)(n)}}return(0,r.B1)({width:g,height:m,x:f,y:h})}function f(e,t){const n=(0,i.CP)(e).scrollLeft;return t?t.left+n:p((0,i.ep)(e)).left+n}function h(e,t,n){let o;if("viewport"===t)o=function(e,t){const n=(0,i.zk)(e),r=(0,i.ep)(e),o=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,l=0,c=0;if(o){a=o.width,s=o.height;const e=(0,i.Tc)();(!e||e&&"fixed"===t)&&(l=o.offsetLeft,c=o.offsetTop)}return{width:a,height:s,x:l,y:c}}(e,n);else if("document"===t)o=function(e){const t=(0,i.ep)(e),n=(0,i.CP)(e),o=e.ownerDocument.body,a=(0,r.T9)(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),s=(0,r.T9)(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+f(e);const c=-n.scrollTop;return"rtl"===(0,i.L9)(o).direction&&(l+=(0,r.T9)(t.clientWidth,o.clientWidth)-a),{width:a,height:s,x:l,y:c}}((0,i.ep)(e));else if((0,i.vq)(t))o=function(e,t){const n=p(e,!0,"fixed"===t),o=n.top+e.clientTop,a=n.left+e.clientLeft,s=(0,i.sb)(e)?c(e):(0,r.Jx)(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:a*s.x,y:o*s.y}}(t,n);else{const n=d(e);o={...t,x:t.x-n.x,y:t.y-n.y}}return(0,r.B1)(o)}function g(e,t){const n=(0,i.$4)(e);return!(n===t||!(0,i.vq)(n)||(0,i.eu)(n))&&("fixed"===(0,i.L9)(n).position||g(n,t))}function m(e,t,n){const o=(0,i.sb)(t),a=(0,i.ep)(t),s="fixed"===n,l=p(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const u=(0,r.Jx)(0);if(o||!o&&!s)if(("body"!==(0,i.mq)(t)||(0,i.ZU)(a))&&(c=(0,i.CP)(t)),o){const e=p(t,!0,s,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else a&&(u.x=f(a));let d=0,h=0;if(a&&!o&&!s){const e=a.getBoundingClientRect();h=e.top+c.scrollTop,d=e.left+c.scrollLeft-f(a,e)}return{x:l.left+c.scrollLeft-u.x-d,y:l.top+c.scrollTop-u.y-h,width:l.width,height:l.height}}function b(e){return"static"===(0,i.L9)(e).position}function v(e,t){if(!(0,i.sb)(e)||"fixed"===(0,i.L9)(e).position)return null;if(t)return t(e);let n=e.offsetParent;return(0,i.ep)(e)===n&&(n=n.ownerDocument.body),n}function y(e,t){const n=(0,i.zk)(e);if((0,i.Tf)(e))return n;if(!(0,i.sb)(e)){let t=(0,i.$4)(e);for(;t&&!(0,i.eu)(t);){if((0,i.vq)(t)&&!b(t))return t;t=(0,i.$4)(t)}return n}let r=v(e,t);for(;r&&(0,i.Lv)(r)&&b(r);)r=v(r,t);return r&&(0,i.eu)(r)&&b(r)&&!(0,i.sQ)(r)?n:r||(0,i.gJ)(e)||n}const w={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:o,strategy:a}=e;const s="fixed"===a,l=(0,i.ep)(o),u=!!t&&(0,i.Tf)(t.floating);if(o===l||u&&s)return n;let d={scrollLeft:0,scrollTop:0},f=(0,r.Jx)(1);const h=(0,r.Jx)(0),g=(0,i.sb)(o);if((g||!g&&!s)&&(("body"!==(0,i.mq)(o)||(0,i.ZU)(l))&&(d=(0,i.CP)(o)),(0,i.sb)(o))){const e=p(o);f=c(o),h.x=e.x+o.clientLeft,h.y=e.y+o.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+h.x,y:n.y*f.y-d.scrollTop*f.y+h.y}},getDocumentElement:i.ep,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o,strategy:a}=e;const s=[..."clippingAncestors"===n?(0,i.Tf)(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=(0,i.v9)(e,[],!1).filter((e=>(0,i.vq)(e)&&"body"!==(0,i.mq)(e))),o=null;const a="fixed"===(0,i.L9)(e).position;let s=a?(0,i.$4)(e):e;for(;(0,i.vq)(s)&&!(0,i.eu)(s);){const t=(0,i.L9)(s),n=(0,i.sQ)(s);n||"fixed"!==t.position||(o=null),(a?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||(0,i.ZU)(s)&&!n&&g(e,s))?r=r.filter((e=>e!==s)):o=t,s=(0,i.$4)(s)}return t.set(e,r),r}(t,this._c):[].concat(n),o],l=s[0],c=s.reduce(((e,n)=>{const o=h(t,n,a);return e.top=(0,r.T9)(o.top,e.top),e.right=(0,r.jk)(o.right,e.right),e.bottom=(0,r.jk)(o.bottom,e.bottom),e.left=(0,r.T9)(o.left,e.left),e}),h(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:y,getElementRects:async function(e){const t=this.getOffsetParent||y,n=this.getDimensions,r=await n(e.floating);return{reference:m(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=s(e);return{width:t,height:n}},getScale:c,isElement:i.vq,isRTL:function(e){return"rtl"===(0,i.L9)(e).direction}};function E(e,t,n,o){void 0===o&&(o={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:u="function"==typeof IntersectionObserver,animationFrame:d=!1}=o,f=l(e),h=a||s?[...f?(0,i.v9)(f):[],...(0,i.v9)(t)]:[];h.forEach((e=>{a&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));const g=f&&u?function(e,t){let n,o=null;const a=(0,i.ep)(e);function s(){var e;clearTimeout(n),null==(e=o)||e.disconnect(),o=null}return function i(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),s();const{left:u,top:d,width:p,height:f}=e.getBoundingClientRect();if(l||t(),!p||!f)return;const h={rootMargin:-(0,r.RI)(d)+"px "+-(0,r.RI)(a.clientWidth-(u+p))+"px "+-(0,r.RI)(a.clientHeight-(d+f))+"px "+-(0,r.RI)(u)+"px",threshold:(0,r.T9)(0,(0,r.jk)(1,c))||1};let g=!0;function m(e){const t=e[0].intersectionRatio;if(t!==c){if(!g)return i();t?i(!1,t):n=setTimeout((()=>{i(!1,1e-7)}),1e3)}g=!1}try{o=new IntersectionObserver(m,{...h,root:a.ownerDocument})}catch(e){o=new IntersectionObserver(m,h)}o.observe(e)}(!0),s}(f,n):null;let m,b=-1,v=null;c&&(v=new ResizeObserver((e=>{let[r]=e;r&&r.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame((()=>{var e;null==(e=v)||e.observe(t)}))),n()})),f&&!d&&v.observe(f),v.observe(t));let y=d?p(e):null;return d&&function t(){const r=p(e);!y||r.x===y.x&&r.y===y.y&&r.width===y.width&&r.height===y.height||n(),y=r,m=requestAnimationFrame(t)}(),n(),()=>{var e;h.forEach((e=>{a&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),null==g||g(),null==(e=v)||e.disconnect(),v=null,d&&cancelAnimationFrame(m)}}const S=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:a,y:i,placement:s,middlewareData:l}=t,c=await async function(e,t){const{placement:n,platform:o,elements:a}=e,i=await(null==o.isRTL?void 0:o.isRTL(a.floating)),s=(0,r.C0)(n),l=(0,r.Sg)(n),c="y"===(0,r.TV)(n),u=["left","top"].includes(s)?-1:1,d=i&&c?-1:1,p=(0,r._3)(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:g}="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&"number"==typeof g&&(h="end"===l?-1*g:g),c?{x:h*d,y:f*u}:{x:f*u,y:h*d}}(t,e);return s===(null==(n=l.offset)?void 0:n.placement)&&null!=(o=l.arrow)&&o.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}},C=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:c={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...u}=(0,r._3)(e,t),d={x:n,y:o},p=await a(t,u),f=(0,r.TV)((0,r.C0)(i)),h=(0,r.PG)(f);let g=d[h],m=d[f];if(s){const e="y"===h?"bottom":"right",t=g+p["y"===h?"top":"left"],n=g-p[e];g=(0,r.qE)(t,g,n)}if(l){const e="y"===f?"bottom":"right",t=m+p["y"===f?"top":"left"],n=m-p[e];m=(0,r.qE)(t,m,n)}const b=c.fn({...t,[h]:g,[f]:m});return{...b,data:{x:b.x-n,y:b.y-o,enabled:{[h]:s,[f]:l}}}}}},x=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:i,middlewareData:s,rects:l,initialPlacement:c,platform:u,elements:d}=t,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:b=!0,...v}=(0,r._3)(e,t);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const y=(0,r.C0)(i),w=(0,r.TV)(c),E=(0,r.C0)(c)===c,S=await(null==u.isRTL?void 0:u.isRTL(d.floating)),C=h||(E||!b?[(0,r.bV)(c)]:(0,r.WJ)(c)),x="none"!==m;!h&&x&&C.push(...(0,r.lP)(c,b,m,S));const O=[c,...C],A=await a(t,v),D=[];let R=(null==(o=s.flip)?void 0:o.overflows)||[];if(p&&D.push(A[y]),f){const e=(0,r.w7)(i,l,S);D.push(A[e[0]],A[e[1]])}if(R=[...R,{placement:i,overflows:D}],!D.every((e=>e<=0))){var _,k;const e=((null==(_=s.flip)?void 0:_.index)||0)+1,t=O[e];if(t)return{data:{index:e,overflows:R},reset:{placement:t}};let n=null==(k=R.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:k.placement;if(!n)switch(g){case"bestFit":{var P;const e=null==(P=R.filter((e=>{if(x){const t=(0,r.TV)(e.placement);return t===w||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:P[0];e&&(n=e);break}case"initialPlacement":n=c}if(i!==n)return{reset:{placement:n}}}return{}}}},O=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:i,rects:s,platform:l,elements:c}=t,{apply:u=()=>{},...d}=(0,r._3)(e,t),p=await a(t,d),f=(0,r.C0)(i),h=(0,r.Sg)(i),g="y"===(0,r.TV)(i),{width:m,height:b}=s.floating;let v,y;"top"===f||"bottom"===f?(v=f,y=h===(await(null==l.isRTL?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(y=f,v="end"===h?"top":"bottom");const w=b-p.top-p.bottom,E=m-p.left-p.right,S=(0,r.jk)(b-p[v],w),C=(0,r.jk)(m-p[y],E),x=!t.middlewareData.shift;let O=S,A=C;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(A=E),null!=(o=t.middlewareData.shift)&&o.enabled.y&&(O=w),x&&!h){const e=(0,r.T9)(p.left,0),t=(0,r.T9)(p.right,0),n=(0,r.T9)(p.top,0),o=(0,r.T9)(p.bottom,0);g?A=m-2*(0!==e||0!==t?e+t:(0,r.T9)(p.left,p.right)):O=b-2*(0!==n||0!==o?n+o:(0,r.T9)(p.top,p.bottom))}await u({...t,availableWidth:A,availableHeight:O});const D=await l.getDimensions(c.floating);return m!==D.width||b!==D.height?{reset:{rects:!0}}:{}}}},A=(e,t,n)=>{const r=new Map,a={platform:w,...n},i={...a.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),c=await(null==s.isRTL?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:p}=o(u,r,c),f=r,h={},g=0;for(let n=0;n<l.length;n++){const{name:i,fn:m}=l[n],{x:b,y:v,data:y,reset:w}=await m({x:d,y:p,initialPlacement:r,placement:f,strategy:a,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});d=null!=b?b:d,p=null!=v?v:p,h={...h,[i]:{...h[i],...y}},w&&g<=50&&(g++,"object"==typeof w&&(w.placement&&(f=w.placement),w.rects&&(u=!0===w.rects?await s.getElementRects({reference:e,floating:t,strategy:a}):w.rects),({x:d,y:p}=o(u,f,c))),n=-1)}return{x:d,y:p,placement:f,strategy:a,middlewareData:h}})(e,t,{...a,platform:i})}},4621:(e,t,n)=>{"use strict";n.d(t,{BN:()=>f,Ej:()=>g,UU:()=>h,cY:()=>p,we:()=>d});var r=n(8083),o=n(5959),a=n(8398),i="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;function s(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!=r--;)if(!s(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!=r--;){const n=o[r];if(!("_owner"===n&&e.$$typeof||s(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function l(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function c(e,t){const n=l(e);return Math.round(t*n)/n}function u(e){const t=o.useRef(e);return i((()=>{t.current=e})),t}function d(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:d=[],platform:p,elements:{reference:f,floating:h}={},transform:g=!0,whileElementsMounted:m,open:b}=e,[v,y]=o.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[w,E]=o.useState(d);s(w,d)||E(d);const[S,C]=o.useState(null),[x,O]=o.useState(null),A=o.useCallback((e=>{e!==k.current&&(k.current=e,C(e))}),[]),D=o.useCallback((e=>{e!==P.current&&(P.current=e,O(e))}),[]),R=f||S,_=h||x,k=o.useRef(null),P=o.useRef(null),T=o.useRef(v),I=null!=m,j=u(m),F=u(p),M=u(b),L=o.useCallback((()=>{if(!k.current||!P.current)return;const e={placement:t,strategy:n,middleware:w};F.current&&(e.platform=F.current),(0,r.rD)(k.current,P.current,e).then((e=>{const t={...e,isPositioned:!1!==M.current};N.current&&!s(T.current,t)&&(T.current=t,a.flushSync((()=>{y(t)})))}))}),[w,t,n,F,M]);i((()=>{!1===b&&T.current.isPositioned&&(T.current.isPositioned=!1,y((e=>({...e,isPositioned:!1}))))}),[b]);const N=o.useRef(!1);i((()=>(N.current=!0,()=>{N.current=!1})),[]),i((()=>{if(R&&(k.current=R),_&&(P.current=_),R&&_){if(j.current)return j.current(R,_,L);L()}}),[R,_,L,j,I]);const B=o.useMemo((()=>({reference:k,floating:P,setReference:A,setFloating:D})),[A,D]),V=o.useMemo((()=>({reference:R,floating:_})),[R,_]),z=o.useMemo((()=>{const e={position:n,left:0,top:0};if(!V.floating)return e;const t=c(V.floating,v.x),r=c(V.floating,v.y);return g?{...e,transform:"translate("+t+"px, "+r+"px)",...l(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,g,V.floating,v.x,v.y]);return o.useMemo((()=>({...v,update:L,refs:B,elements:V,floatingStyles:z})),[v,L,B,V,z])}const p=(e,t)=>({...(0,r.cY)(e),options:[e,t]}),f=(e,t)=>({...(0,r.BN)(e),options:[e,t]}),h=(e,t)=>({...(0,r.UU)(e),options:[e,t]}),g=(e,t)=>({...(0,r.Ej)(e),options:[e,t]})},977:(e,t,n)=>{"use strict";function r(){return"undefined"!=typeof window}function o(e){return s(e)?(e.nodeName||"").toLowerCase():"#document"}function a(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function i(e){var t;return null==(t=(s(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function s(e){return!!r()&&(e instanceof Node||e instanceof a(e).Node)}function l(e){return!!r()&&(e instanceof Element||e instanceof a(e).Element)}function c(e){return!!r()&&(e instanceof HTMLElement||e instanceof a(e).HTMLElement)}function u(e){return!(!r()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof a(e).ShadowRoot)}function d(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=v(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function p(e){return["table","td","th"].includes(o(e))}function f(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function h(e){const t=m(),n=l(e)?v(e):e;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function g(e){let t=w(e);for(;c(t)&&!b(t);){if(h(t))return t;if(f(t))return null;t=w(t)}return null}function m(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function b(e){return["html","body","#document"].includes(o(e))}function v(e){return a(e).getComputedStyle(e)}function y(e){return l(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function w(e){if("html"===o(e))return e;const t=e.assignedSlot||e.parentNode||u(e)&&e.host||i(e);return u(t)?t.host:t}function E(e){const t=w(e);return b(t)?e.ownerDocument?e.ownerDocument.body:e.body:c(t)&&d(t)?t:E(t)}function S(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=E(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),s=a(o);if(i){const e=C(s);return t.concat(s,s.visualViewport||[],d(o)?o:[],e&&n?S(e):[])}return t.concat(o,S(o,[],n))}function C(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}n.d(t,{$4:()=>w,CP:()=>y,L9:()=>v,Lv:()=>p,Ng:()=>u,Tc:()=>m,Tf:()=>f,ZU:()=>d,_m:()=>C,ep:()=>i,eu:()=>b,gJ:()=>g,mq:()=>o,sQ:()=>h,sb:()=>c,v9:()=>S,vq:()=>l,zk:()=>a})},8015:(e,t,n)=>{"use strict";n.d(t,{B1:()=>x,C0:()=>p,Dz:()=>b,Jx:()=>s,LI:()=>a,PG:()=>h,RI:()=>i,Sg:()=>f,T9:()=>o,TV:()=>m,WJ:()=>y,_3:()=>d,bV:()=>S,jk:()=>r,lP:()=>E,nI:()=>C,qE:()=>u,sq:()=>g,w7:()=>v});const r=Math.min,o=Math.max,a=Math.round,i=Math.floor,s=e=>({x:e,y:e}),l={left:"right",right:"left",bottom:"top",top:"bottom"},c={start:"end",end:"start"};function u(e,t,n){return o(e,r(t,n))}function d(e,t){return"function"==typeof e?e(t):e}function p(e){return e.split("-")[0]}function f(e){return e.split("-")[1]}function h(e){return"x"===e?"y":"x"}function g(e){return"y"===e?"height":"width"}function m(e){return["top","bottom"].includes(p(e))?"y":"x"}function b(e){return h(m(e))}function v(e,t,n){void 0===n&&(n=!1);const r=f(e),o=b(e),a=g(o);let i="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=S(i)),[i,S(i)]}function y(e){const t=S(e);return[w(e),t,w(t)]}function w(e){return e.replace(/start|end/g,(e=>c[e]))}function E(e,t,n,r){const o=f(e);let a=function(e,t,n){const r=["left","right"],o=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?a:i;default:return[]}}(p(e),"start"===n,r);return o&&(a=a.map((e=>e+"-"+o)),t&&(a=a.concat(a.map(w)))),a}function S(e){return e.replace(/left|right|bottom|top/g,(e=>l[e]))}function C(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function x(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}},5007:(e,t,n)=>{"use strict";n.d(t,{Te:()=>y});var r=n(5959),o=n(8398);function a(e,t,n){let r,o=n.initialDeps??[];return()=>{var a,i,s,l;let c;n.key&&(null==(a=n.debug)?void 0:a.call(n))&&(c=Date.now());const u=e();if(u.length===o.length&&!u.some(((e,t)=>o[t]!==e)))return r;let d;if(o=u,n.key&&(null==(i=n.debug)?void 0:i.call(n))&&(d=Date.now()),r=t(...u),n.key&&(null==(s=n.debug)?void 0:s.call(n))){const e=Math.round(100*(Date.now()-c))/100,t=Math.round(100*(Date.now()-d))/100,r=t/16,o=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c ${o(t,5)} /${o(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return null==(l=null==n?void 0:n.onChange)||l.call(n,r),r}}function i(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?`: ${t}`:""));return e}const s=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout((()=>t.apply(this,o)),n)}},l=e=>e,c=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let e=t;e<=n;e++)r.push(e);return r},u=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=e=>{const{width:n,height:r}=e;t({width:Math.round(n),height:Math.round(r)})};if(o(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const a=new r.ResizeObserver((e=>{const t=e[0];if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e)return void o({width:e.inlineSize,height:e.blockSize})}o(n.getBoundingClientRect())}));return a.observe(n,{box:"border-box"}),()=>{a.unobserve(n)}},d={passive:!0},p="undefined"==typeof window||"onscrollend"in window,f=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const a=p?()=>{}:s(r,(()=>{t(o,!1)}),e.options.isScrollingResetDelay),i=r=>()=>{const{horizontal:i,isRtl:s}=e.options;o=i?n.scrollLeft*(s?-1:1):n.scrollTop,a(),t(o,r)},l=i(!0),c=i(!1);return c(),n.addEventListener("scroll",l,d),n.addEventListener("scrollend",c,d),()=>{n.removeEventListener("scroll",l),n.removeEventListener("scrollend",c)}},h=(e,t,n)=>{if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e)return Math.round(e[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},g=(e,{adjustments:t=0,behavior:n},r)=>{var o,a;const i=e+t;null==(a=null==(o=r.scrollElement)?void 0:o.scrollTo)||a.call(o,{[r.options.horizontal?"left":"top"]:i,behavior:n})};class m{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver((e=>{e.forEach((e=>{this._measureElement(e.target,e)}))})):null);return{disconnect:()=>{var n;null==(n=t())||n.disconnect(),e=null},observe:e=>{var n;return null==(n=t())?void 0:n.observe(e,{box:"border-box"})},unobserve:e=>{var n;return null==(n=t())?void 0:n.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach((([t,n])=>{void 0===n&&delete e[t]})),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:l,rangeExtractor:c,onChange:()=>{},measureElement:h,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...e}},this.notify=e=>{var t,n;null==(n=(t=this.options).onChange)||n.call(t,this,e)},this.maybeNotify=a((()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null])),(e=>{this.notify(e)}),{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach((e=>e())),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t)return void this.maybeNotify();this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this.elementsCache.forEach((e=>{this.observer.observe(e)})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,(e=>{this.scrollRect=e,this.maybeNotify()}))),this.unsubs.push(this.options.observeElementOffset(this,((e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()})))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{const n=new Map,r=new Map;for(let o=t-1;o>=0;o--){const t=e[o];if(n.has(t.lane))continue;const a=r.get(t.lane);if(null==a||t.end>a.end?r.set(t.lane,t):t.end<a.end&&n.set(t.lane,!0),n.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort(((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end))[0]:void 0},this.getMeasurementOptions=a((()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled]),((e,t,n,r,o)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:o})),{key:!1}),this.getMeasurements=a((()=>[this.getMeasurementOptions(),this.itemSizeCache]),(({count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:o},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach((e=>{this.itemSizeCache.set(e.key,e.size)})));const i=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const s=this.measurementsCache.slice(0,i);for(let o=i;o<e;o++){const e=r(o),i=1===this.options.lanes?s[o-1]:this.getFurthestMeasurement(s,o),l=i?i.end+this.options.gap:t+n,c=a.get(e),u="number"==typeof c?c:this.options.estimateSize(o),d=l+u,p=i?i.lane:o%this.options.lanes;s[o]={index:o,start:l,size:u,end:d,key:e,lane:p}}return this.measurementsCache=s,s}),{key:!1,debug:()=>this.options.debug}),this.calculateRange=a((()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()]),((e,t,n)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,o=b(0,r,(t=>e[t].start),n);let a=o;for(;a<r&&e[a].end<n+t;)a++;return{startIndex:o,endIndex:a}}({measurements:e,outerSize:t,scrollOffset:n}):null),{key:!1,debug:()=>this.options.debug}),this.getIndexes=a((()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count]),((e,t,n,r)=>null===t?[]:e({startIndex:t.startIndex,endIndex:t.endIndex,overscan:n,count:r})),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{const n=this.indexFromElement(e),r=this.measurementsCache[n];if(!r)return;const o=r.key,a=this.elementsCache.get(o);a!==e&&(a&&this.observer.unobserve(a),this.observer.observe(e),this.elementsCache.set(o,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{const n=this.measurementsCache[e];if(!n)return;const r=t-(this.itemSizeCache.get(n.key)??n.size);0!==r&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(n,r,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,t)),this.notify(!1))},this.measureElement=e=>{e?this._measureElement(e,void 0):this.elementsCache.forEach(((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))}))},this.getVirtualItems=a((()=>[this.getIndexes(),this.getMeasurements()]),((e,t)=>{const n=[];for(let r=0,o=e.length;r<o;r++){const o=t[e[r]];n.push(o)}return n}),{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();if(0!==t.length)return i(t[b(0,t.length-1,(e=>i(t[e]).start),e)])},this.getOffsetForAlignment=(e,t)=>{const n=this.getSize(),r=this.getScrollOffset();"auto"===t&&(t=e<=r?"start":e>=r+n?"end":"start"),"start"===t||("end"===t?e-=n:"center"===t&&(e-=n/2));const o=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-n;return Math.max(Math.min(a,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const n=this.measurementsCache[e];if(!n)return;const r=this.getSize(),o=this.getScrollOffset();if("auto"===t)if(n.end>=o+r-this.options.scrollPaddingEnd)t="end";else{if(!(n.start<=o+this.options.scrollPaddingStart))return[o,t];t="start"}const a="end"===t?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,t),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{null!==this.scrollToIndexTimeoutId&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:t="start",behavior:n}={})=>{this.cancelScrollToIndex(),"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:t="auto",behavior:n}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const r=this.getOffsetForIndex(e,t);if(!r)return;const[o,a]=r;this._scrollToOffset(o,{adjustments:void 0,behavior:n}),"smooth"!==n&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout((()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){const[o]=i(this.getOffsetForIndex(e,a));t=o,r=this.getScrollOffset(),Math.abs(t-r)<1||this.scrollToIndex(e,{align:a,behavior:n})}else this.scrollToIndex(e,{align:a,behavior:n});var t,r})))},this.scrollBy=(e,{behavior:t}={})=>{this.cancelScrollToIndex(),"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let n;return n=0===t.length?this.options.paddingStart:1===this.options.lanes?(null==(e=t[t.length-1])?void 0:e.end)??0:Math.max(...t.slice(-this.options.lanes).map((e=>e.end))),Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const b=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,a=n(o);if(a<r)e=o+1;else{if(!(a>r))return o;t=o-1}}return e>0?e-1:0},v="undefined"!=typeof document?r.useLayoutEffect:r.useEffect;function y(e){return function(e){const t=r.useReducer((()=>({})),{})[1],n={...e,onChange:(n,r)=>{var a;r?(0,o.flushSync)(t):t(),null==(a=e.onChange)||a.call(e,n,r)}},[a]=r.useState((()=>new m(n)));return a.setOptions(n),r.useEffect((()=>a._didMount()),[]),v((()=>a._willUpdate())),a}({observeElementRect:u,observeElementOffset:f,scrollToFn:g,...e})}},4629:(e,t,n)=>{"use strict";n.d(t,{AQ:()=>d,C6:()=>o,Ju:()=>s,N3:()=>u,YH:()=>i,fX:()=>c,sH:()=>a,xN:()=>p,zs:()=>l});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function a(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function c(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function u(e){return this instanceof u?(this.v=e,this):new u(e)}function d(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),i("next"),i("throw"),i("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function i(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=o[e](t)).value instanceof u?Promise.resolve(n.value.v).then(l,c):d(a[0][2],n)}catch(e){d(a[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function d(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function p(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=s(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError}},g={};function m(e){var t=g[e];if(void 0!==t)return t.exports;var n=g[e]={id:e,loaded:!1,exports:{}};return h[e].call(n.exports,n,n.exports,m),n.loaded=!0,n.exports}m.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return m.d(t,{a:t}),t},f=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,m.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);m.r(n);var r={};p=p||[null,f({}),f([]),f(f)];for(var o=2&t&&e;"object"==typeof o&&!~p.indexOf(o);o=f(o))Object.getOwnPropertyNames(o).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,m.d(n,r),n},m.d=(e,t)=>{for(var n in t)m.o(t,n)&&!m.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},m.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),m.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),m.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},m.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),m.nc=void 0;var b={};return(()=>{"use strict";m.r(b),m.d(b,{plugin:()=>bb});var e={};m.r(e),m.d(e,{decode:()=>fo,encode:()=>mo,format:()=>bo,parse:()=>ko});var t={};m.r(t),m.d(t,{Any:()=>Io,Cc:()=>jo,Cf:()=>Fo,P:()=>Po,S:()=>To,Z:()=>Mo});var n={};m.r(n),m.d(n,{arrayReplaceAt:()=>la,assign:()=>sa,escapeHtml:()=>wa,escapeRE:()=>Sa,fromCodePoint:()=>ua,has:()=>ia,isMdAsciiPunct:()=>Aa,isPunctChar:()=>Oa,isSpace:()=>Ca,isString:()=>oa,isValidEntityCode:()=>ca,isWhiteSpace:()=>xa,lib:()=>Ra,normalizeReference:()=>Da,unescapeAll:()=>ga,unescapeMd:()=>ha});var r={};m.r(r),m.d(r,{parseLinkDestination:()=>ka,parseLinkLabel:()=>_a,parseLinkTitle:()=>Pa});var o=m(7781),a=m(2007),i=m(7774),s=m(5959),l=m.t(s,2),c=m.n(s),u=m(8449),d=m.n(u);function p(e,t="latest"){return f(e,t.replace(/\-.*/,""))}function f(e,t){const n={};for(const[r,o]of Object.entries(e))h(o)?n[r]=f(o,t):(v(o,r),n[r]=g(o,t));return n}function h(e){if("object"==typeof e){const[t]=Object.keys(e);return!(0,u.valid)(t)}return!1}function g(e,t){let n,r=Object.keys(e).sort(u.compare);if("latest"===t)return e[r[r.length-1]];for(const e of r)(0,u.gte)(t,e)&&(n=e);return n||(n=r[r.length-1]),e[n]}function v(e,t){if(!Object.keys(e).every((e=>(0,u.valid)(e))))throw new Error(`Invalid semver version: '${t}'`)}const y="8.5.0",w={RadioButton:{container:{"10.2.3":"data-testid radio-button"}},Breadcrumbs:{breadcrumb:{"9.4.0":e=>`data-testid ${e} breadcrumb`}},TimePicker:{openButton:{[y]:"data-testid TimePicker Open Button"},overlayContent:{"10.2.3":"data-testid TimePicker Overlay Content"},fromField:{"10.2.3":"data-testid Time Range from field",[y]:"Time Range from field"},toField:{"10.2.3":"data-testid Time Range to field",[y]:"Time Range to field"},applyTimeRange:{[y]:"data-testid TimePicker submit button"},copyTimeRange:{"10.4.0":"data-testid TimePicker copy button"},pasteTimeRange:{"10.4.0":"data-testid TimePicker paste button"},calendar:{label:{"10.2.3":"data-testid Time Range calendar",[y]:"Time Range calendar"},openButton:{"10.2.3":"data-testid Open time range calendar",[y]:"Open time range calendar"},closeButton:{"10.2.3":"data-testid Close time range Calendar",[y]:"Close time range Calendar"}},absoluteTimeRangeTitle:{[y]:"data-testid-absolute-time-range-narrow"}},DataSourcePermissions:{form:{"9.5.0":()=>'form[name="addPermission"]'},roleType:{"9.5.0":"Role to add new permission to"},rolePicker:{"9.5.0":"Built-in role picker"},permissionLevel:{"9.5.0":"Permission Level"}},DateTimePicker:{input:{"10.2.3":"data-testid date-time-input"}},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:{[y]:"Test Data Query scenario select container"},scenarioSelect:{[y]:"Test Data Query scenario select"},max:{[y]:"TestData max"},min:{[y]:"TestData min"},noise:{[y]:"TestData noise"},seriesCount:{[y]:"TestData series count"},spread:{[y]:"TestData spread"},startValue:{[y]:"TestData start value"},drop:{[y]:"TestData drop values"}}},DataSourceHttpSettings:{urlInput:{"10.4.0":"data-testid Datasource HTTP settings url",[y]:"Datasource HTTP settings url"}},Jaeger:{traceIDInput:{[y]:"Trace ID"}},Prometheus:{configPage:{connectionSettings:{[y]:"Data source connection URL"},manageAlerts:{"10.4.0":"prometheus-alerts-manager"},scrapeInterval:{"10.4.0":"data-testid scrape interval"},queryTimeout:{"10.4.0":"data-testid query timeout"},defaultEditor:{"10.4.0":"data-testid default editor"},disableMetricLookup:{"10.4.0":"disable-metric-lookup"},prometheusType:{"10.4.0":"data-testid prometheus type"},prometheusVersion:{"10.4.0":"data-testid prometheus version"},cacheLevel:{"10.4.0":"data-testid cache level"},incrementalQuerying:{"10.4.0":"prometheus-incremental-querying"},queryOverlapWindow:{"10.4.0":"data-testid query overlap window"},disableRecordingRules:{"10.4.0":"disable-recording-rules"},customQueryParameters:{"10.4.0":"data-testid custom query parameters"},httpMethod:{"10.4.0":"data-testid http method"},exemplarsAddButton:{"10.3.0":"data-testid Add exemplar config button",[y]:"Add exemplar config button"},internalLinkSwitch:{"10.3.0":"data-testid Internal link switch",[y]:"Internal link switch"},codeModeMetricNamesSuggestionLimit:{"11.1.0":"data-testid code mode metric names suggestion limit"}},queryEditor:{explain:{"10.4.0":"data-testid prometheus explain switch wrapper"},editorToggle:{"10.4.0":"data-testid QueryEditorModeToggle"},options:{"10.4.0":"data-testid prometheus options"},legend:{"10.4.0":"data-testid prometheus legend wrapper"},format:{"10.4.0":"data-testid prometheus format"},step:{"10.4.0":"prometheus-step"},type:{"10.4.0":"data-testid prometheus type"},exemplars:{"10.4.0":"prometheus-exemplars"},builder:{metricSelect:{"10.4.0":"data-testid metric select"},hints:{"10.4.0":"data-testid prometheus hints"},metricsExplorer:{"10.4.0":"data-testid metrics explorer"},queryAdvisor:{"10.4.0":"data-testid query advisor"}},code:{queryField:{"10.4.0":"data-testid prometheus query field"},metricsCountInfo:{"11.1.0":"data-testid metrics count disclaimer"},metricsBrowser:{openButton:{"10.4.0":"data-testid open metrics browser"},selectMetric:{"10.4.0":"data-testid select a metric"},seriesLimit:{"10.3.1":"data-testid series limit"},metricList:{"10.4.0":"data-testid metric list"},labelNamesFilter:{"10.4.0":"data-testid label names filter"},labelValuesFilter:{"10.4.0":"data-testid label values filter"},useQuery:{"10.4.0":"data-testid use query"},useAsRateQuery:{"10.4.0":"data-testid use as rate query"},validateSelector:{"10.4.0":"data-testid validate selector"},clear:{"10.4.0":"data-testid clear"}}}},exemplarMarker:{"10.3.0":"data-testid Exemplar marker",[y]:"Exemplar marker"},variableQueryEditor:{queryType:{"10.4.0":"data-testid query type"},labelnames:{metricRegex:{"10.4.0":"data-testid label names metric regex"}},labelValues:{labelSelect:{"10.4.0":"data-testid label values label select"}},metricNames:{metricRegex:{"10.4.0":"data-testid metric names metric regex"}},varQueryResult:{"10.4.0":"data-testid variable query result"},seriesQuery:{"10.4.0":"data-testid prometheus series query"},classicQuery:{"10.4.0":"data-testid prometheus classic query"}},annotations:{minStep:{"10.4.0":"prometheus-annotation-min-step"},title:{"10.4.0":"data-testid prometheus annotation title"},tags:{"10.4.0":"data-testid prometheus annotation tags"},text:{"10.4.0":"data-testid prometheus annotation text"},seriesValueAsTimestamp:{"10.4.0":"data-testid prometheus annotation series value as timestamp"}}}},Menu:{MenuComponent:{[y]:e=>`${e} menu`},MenuGroup:{[y]:e=>`${e} menu group`},MenuItem:{[y]:e=>`${e} menu item`},SubMenu:{container:{"10.3.0":"data-testid SubMenu container",[y]:"SubMenu container"},icon:{"10.3.0":"data-testid SubMenu icon",[y]:"SubMenu icon"}}},Panels:{Panel:{title:{[y]:e=>`data-testid Panel header ${e}`},content:{"11.1.0":"data-testid panel content"},headerItems:{"10.2.0":e=>`data-testid Panel header item ${e}`},menuItems:{"9.5.0":e=>`data-testid Panel menu item ${e}`},menu:{"9.5.0":e=>`data-testid Panel menu ${e}`},containerByTitle:{[y]:e=>`${e} panel`},headerCornerInfo:{[y]:e=>`Panel header ${e}`},status:{"10.2.0":e=>`data-testid Panel status ${e}`,[y]:e=>"Panel status"},loadingBar:{"10.0.0":()=>"Panel loading bar"},HoverWidget:{container:{"10.1.0":"data-testid hover-header-container",[y]:"hover-header-container"},dragIcon:{"10.0.0":"data-testid drag-icon"}},PanelDataErrorMessage:{"10.4.0":"data-testid Panel data error message"}},Visualization:{Graph:{container:{"9.5.0":"Graph container"},VisualizationTab:{legendSection:{[y]:"Legend section"}},Legend:{legendItemAlias:{[y]:e=>`gpl alias ${e}`},showLegendSwitch:{[y]:"gpl show legend"}},xAxis:{labels:{[y]:()=>"div.flot-x-axis > div.flot-tick-label"}}},BarGauge:{valueV2:{[y]:"data-testid Bar gauge value"}},PieChart:{svgSlice:{"10.3.0":"data testid Pie Chart Slice"}},Text:{container:{[y]:()=>".markdown-html"}},Table:{header:{[y]:"table header"},footer:{[y]:"table-footer"},body:{"10.2.0":"data-testid table body"}}}},VizLegend:{seriesName:{"10.3.0":e=>`data-testid VizLegend series ${e}`}},Drawer:{General:{title:{[y]:e=>`Drawer title ${e}`},expand:{[y]:"Drawer expand"},contract:{[y]:"Drawer contract"},close:{"10.3.0":"data-testid Drawer close",[y]:"Drawer close"},rcContentWrapper:{"9.4.0":()=>".rc-drawer-content-wrapper"},subtitle:{"10.4.0":"data-testid drawer subtitle"}},DashboardSaveDrawer:{saveButton:{"11.1.0":"data-testid Save dashboard drawer button"},saveAsButton:{"11.1.0":"data-testid Save as dashboard drawer button"},saveAsTitleInput:{"11.1.0":"Save dashboard title field"}}},PanelEditor:{General:{content:{"11.1.0":"data-testid Panel editor content",[y]:"Panel editor content"}},OptionsPane:{content:{"11.1.0":"data-testid Panel editor option pane content",[y]:"Panel editor option pane content"},select:{[y]:"Panel editor option pane select"},fieldLabel:{[y]:e=>`${e} field property editor`},fieldInput:{"11.0.0":e=>`data-testid Panel editor option pane field input ${e}`}},DataPane:{content:{"11.1.0":"data-testid Panel editor data pane content",[y]:"Panel editor data pane content"}},applyButton:{"9.2.0":"data-testid Apply changes and go back to dashboard"},toggleVizPicker:{"10.0.0":"data-testid toggle-viz-picker",[y]:"toggle-viz-picker"},toggleVizOptions:{"10.1.0":"data-testid toggle-viz-options",[y]:"toggle-viz-options"},toggleTableView:{"11.1.0":"data-testid toggle-table-view",[y]:"toggle-table-view"},showZoomField:{"10.2.0":"Map controls Show zoom control field property editor"},showAttributionField:{"10.2.0":"Map controls Show attribution field property editor"},showScaleField:{"10.2.0":"Map controls Show scale field property editor"},showMeasureField:{"10.2.0":"Map controls Show measure tools field property editor"},showDebugField:{"10.2.0":"Map controls Show debug field property editor"},measureButton:{"9.2.0":"show measure tools"}},PanelInspector:{Data:{content:{[y]:"Panel inspector Data content"}},Stats:{content:{[y]:"Panel inspector Stats content"}},Json:{content:{"11.1.0":"data-testid Panel inspector Json content",[y]:"Panel inspector Json content"}},Query:{content:{[y]:"Panel inspector Query content"},refreshButton:{[y]:"Panel inspector Query refresh button"},jsonObjectKeys:{[y]:()=>".json-formatter-key"}}},Tab:{title:{"11.2.0":e=>`data-testid Tab ${e}`},active:{[y]:()=>'[class*="-activeTabStyle"]'}},RefreshPicker:{runButtonV2:{[y]:"data-testid RefreshPicker run button"},intervalButtonV2:{[y]:"data-testid RefreshPicker interval button"}},QueryTab:{content:{[y]:"Query editor tab content"},queryInspectorButton:{[y]:"Query inspector button"},queryHistoryButton:{"10.2.0":"data-testid query-history-button",[y]:"query-history-button"},addQuery:{"10.2.0":"data-testid query-tab-add-query",[y]:"Query editor add query button"},queryGroupTopSection:{"11.2.0":"data-testid query group top section"},addExpression:{"11.2.0":"data-testid query-tab-add-expression"}},QueryHistory:{queryText:{"9.0.0":"Query text"}},QueryEditorRows:{rows:{[y]:"Query editor row"}},QueryEditorRow:{actionButton:{"10.4.0":e=>`data-testid ${e}`},title:{[y]:e=>`Query editor row title ${e}`},container:{[y]:e=>`Query editor row ${e}`}},AlertTab:{content:{"10.2.3":"data-testid Alert editor tab content",[y]:"Alert editor tab content"}},AlertRules:{groupToggle:{"11.0.0":"data-testid group-collapse-toggle"},toggle:{"11.0.0":"data-testid collapse-toggle"},expandedContent:{"11.0.0":"data-testid expanded-content"},previewButton:{"11.1.0":"data-testid alert-rule preview-button"},ruleNameField:{"11.1.0":"data-testid alert-rule name-field"},newFolderButton:{"11.1.0":"data-testid alert-rule new-folder-button"},newFolderNameField:{"11.1.0":"data-testid alert-rule name-folder-name-field"},newFolderNameCreateButton:{"11.1.0":"data-testid alert-rule name-folder-name-create-button"},newEvaluationGroupButton:{"11.1.0":"data-testid alert-rule new-evaluation-group-button"},newEvaluationGroupName:{"11.1.0":"data-testid alert-rule new-evaluation-group-name"},newEvaluationGroupInterval:{"11.1.0":"data-testid alert-rule new-evaluation-group-interval"},newEvaluationGroupCreate:{"11.1.0":"data-testid alert-rule new-evaluation-group-create-button"}},Alert:{alertV2:{[y]:e=>`data-testid Alert ${e}`}},TransformTab:{content:{"10.1.0":"data-testid Transform editor tab content",[y]:"Transform editor tab content"},newTransform:{"10.1.0":e=>`data-testid New transform ${e}`},transformationEditor:{"10.1.0":e=>`data-testid Transformation editor ${e}`},transformationEditorDebugger:{"10.1.0":e=>`data-testid Transformation editor debugger ${e}`}},Transforms:{card:{"10.1.0":e=>`data-testid New transform ${e}`},disableTransformationButton:{"10.4.0":"data-testid Disable transformation button"},Reduce:{modeLabel:{"10.2.3":"data-testid Transform mode label",[y]:"Transform mode label"},calculationsLabel:{"10.2.3":"data-testid Transform calculations label",[y]:"Transform calculations label"}},SpatialOperations:{actionLabel:{"9.1.2":"root Action field property editor"},locationLabel:{"10.2.0":"root Location Mode field property editor"},location:{autoOption:{"9.1.2":"Auto location option"},coords:{option:{"9.1.2":"Coords location option"},latitudeFieldLabel:{"9.1.2":"root Latitude field field property editor"},longitudeFieldLabel:{"9.1.2":"root Longitude field field property editor"}},geohash:{option:{"9.1.2":"Geohash location option"},geohashFieldLabel:{"9.1.2":"root Geohash field field property editor"}},lookup:{option:{"9.1.2":"Lookup location option"},lookupFieldLabel:{"9.1.2":"root Lookup field field property editor"},gazetteerFieldLabel:{"9.1.2":"root Gazetteer field property editor"}}}},searchInput:{"10.2.3":"data-testid search transformations",[y]:"search transformations"},noTransformationsMessage:{"10.2.3":"data-testid no transformations message"},addTransformationButton:{"10.1.0":"data-testid add transformation button",[y]:"add transformation button"},removeAllTransformationsButton:{"10.4.0":"data-testid remove all transformations button"}},NavBar:{Configuration:{button:{"9.5.0":"Configuration"}},Toggle:{button:{"10.2.3":"data-testid Toggle menu",[y]:"Toggle menu"}},Reporting:{button:{"9.5.0":"Reporting"}}},NavMenu:{Menu:{"10.2.3":"data-testid navigation mega-menu"},item:{"9.5.0":"data-testid Nav menu item"}},NavToolbar:{container:{"9.4.0":"data-testid Nav toolbar"},commandPaletteTrigger:{"11.4.0":"data-testid Command palette trigger"},shareDashboard:{"11.1.0":"data-testid Share dashboard"},markAsFavorite:{"11.1.0":"data-testid Mark as favorite"},editDashboard:{editButton:{"11.1.0":"data-testid Edit dashboard button"},saveButton:{"11.1.0":"data-testid Save dashboard button"},exitButton:{"11.1.0":"data-testid Exit edit mode button"},settingsButton:{"11.1.0":"data-testid Dashboard settings"},addRowButton:{"11.1.0":"data-testid Add row button"},addLibraryPanelButton:{"11.1.0":"data-testid Add a panel from the panel library button"},addVisualizationButton:{"11.1.0":"data-testid Add new visualization menu item"},pastePanelButton:{"11.1.0":"data-testid Paste panel button"},discardChangesButton:{"11.1.0":"data-testid Discard changes button"},discardLibraryPanelButton:{"11.1.0":"data-testid Discard library panel button"},unlinkLibraryPanelButton:{"11.1.0":"data-testid Unlink library panel button"},saveLibraryPanelButton:{"11.1.0":"data-testid Save library panel button"},backToDashboardButton:{"11.1.0":"data-testid Back to dashboard button"}}},PageToolbar:{container:{[y]:()=>".page-toolbar"},item:{[y]:e=>`${e}`},itemButton:{"9.5.0":e=>`data-testid ${e}`}},QueryEditorToolbarItem:{button:{[y]:e=>`QueryEditor toolbar item button ${e}`}},BackButton:{backArrow:{"10.3.0":"data-testid Go Back",[y]:"Go Back"}},OptionsGroup:{group:{"11.1.0":e=>e?`data-testid Options group ${e}`:"data-testid Options group",[y]:e=>e?`Options group ${e}`:"Options group"},toggle:{"11.1.0":e=>e?`data-testid Options group ${e} toggle`:"data-testid Options group toggle",[y]:e=>e?`Options group ${e} toggle`:"Options group toggle"}},PluginVisualization:{item:{[y]:e=>`Plugin visualization item ${e}`},current:{[y]:()=>'[class*="-currentVisualizationItem"]'}},Select:{option:{"11.1.0":"data-testid Select option",[y]:"Select option"},toggleAllOptions:{"11.3.0":"data-testid toggle all options"},input:{[y]:()=>'input[id*="time-options-input"]'},singleValue:{[y]:()=>'div[class*="-singleValue"]'}},FieldConfigEditor:{content:{[y]:"Field config editor content"}},OverridesConfigEditor:{content:{[y]:"Field overrides editor content"}},FolderPicker:{containerV2:{[y]:"data-testid Folder picker select container"},input:{"10.4.0":"data-testid folder-picker-input"}},ReadonlyFolderPicker:{container:{[y]:"data-testid Readonly folder picker select container"}},DataSourcePicker:{container:{"10.0.0":"data-testid Data source picker select container",[y]:"Data source picker select container"},inputV2:{"10.1.0":"data-testid Select a data source",[y]:"Select a data source"},dataSourceList:{"10.4.0":"data-testid Data source list dropdown"},advancedModal:{dataSourceList:{"10.4.0":"data-testid Data source list"},builtInDataSourceList:{"10.4.0":"data-testid Built in data source list"}}},TimeZonePicker:{containerV2:{[y]:"data-testid Time zone picker select container"},changeTimeSettingsButton:{"11.0.0":"data-testid Time zone picker Change time settings button"}},WeekStartPicker:{containerV2:{[y]:"data-testid Choose starting day of the week"},placeholder:{[y]:"Choose starting day of the week"}},TraceViewer:{spanBar:{"9.0.0":"data-testid SpanBar--wrapper"}},QueryField:{container:{"10.3.0":"data-testid Query field",[y]:"Query field"}},QueryBuilder:{queryPatterns:{"10.3.0":"data-testid Query patterns",[y]:"Query patterns"},labelSelect:{"10.3.0":"data-testid Select label",[y]:"Select label"},inputSelect:{"11.1.0":"data-testid Select label-input"},valueSelect:{"10.3.0":"data-testid Select value",[y]:"Select value"},matchOperatorSelect:{"10.3.0":"data-testid Select match operator",[y]:"Select match operator"}},ValuePicker:{button:{"10.3.0":e=>`data-testid Value picker button ${e}`},select:{"10.3.0":e=>`data-testid Value picker select ${e}`}},Search:{sectionV2:{[y]:"data-testid Search section"},itemsV2:{[y]:"data-testid Search items"},cards:{[y]:"data-testid Search cards"},collapseFolder:{[y]:e=>`data-testid Collapse folder ${e}`},expandFolder:{[y]:e=>`data-testid Expand folder ${e}`},dashboardItem:{[y]:e=>`data-testid Dashboard search item ${e}`},dashboardCard:{[y]:e=>`data-testid Search card ${e}`},folderHeader:{"9.3.0":e=>`data-testid Folder header ${e}`},folderContent:{"9.3.0":e=>`data-testid Folder content ${e}`},dashboardItems:{[y]:"data-testid Dashboard search item"}},DashboardLinks:{container:{[y]:"data-testid Dashboard link container"},dropDown:{[y]:"data-testid Dashboard link dropdown"},link:{[y]:"data-testid Dashboard link"}},LoadingIndicator:{icon:{"10.4.0":"data-testid Loading indicator",[y]:"Loading indicator"}},CallToActionCard:{buttonV2:{[y]:e=>`data-testid Call to action button ${e}`}},DataLinksContextMenu:{singleLink:{"10.3.0":"data-testid Data link",[y]:"Data link"}},CodeEditor:{container:{"10.2.3":"data-testid Code editor container",[y]:"Code editor container"}},ReactMonacoEditor:{editorLazy:{"11.1.0":"data-testid ReactMonacoEditor editorLazy"}},DashboardImportPage:{textarea:{[y]:"data-testid-import-dashboard-textarea"},submit:{[y]:"data-testid-load-dashboard"}},ImportDashboardForm:{name:{[y]:"data-testid-import-dashboard-title"},submit:{[y]:"data-testid-import-dashboard-submit"}},PanelAlertTabContent:{content:{"10.2.3":"data-testid Unified alert editor tab content",[y]:"Unified alert editor tab content"}},VisualizationPreview:{card:{[y]:e=>`data-testid suggestion-${e}`}},ColorSwatch:{name:{[y]:"data-testid-colorswatch"}},DashboardRow:{title:{[y]:e=>`data-testid dashboard-row-title-${e}`}},UserProfile:{profileSaveButton:{[y]:"data-testid-user-profile-save"},preferencesSaveButton:{[y]:"data-testid-shared-prefs-save"},orgsTable:{[y]:"data-testid-user-orgs-table"},sessionsTable:{[y]:"data-testid-user-sessions-table"},extensionPointTabs:{"10.2.3":"data-testid-extension-point-tabs"},extensionPointTab:{"10.2.3":e=>`data-testid-extension-point-tab-${e}`}},FileUpload:{inputField:{"9.0.0":"data-testid-file-upload-input-field"},fileNameSpan:{"9.0.0":"data-testid-file-upload-file-name"}},DebugOverlay:{wrapper:{"9.2.0":"debug-overlay"}},OrgRolePicker:{input:{"9.5.0":"Role"}},AnalyticsToolbarButton:{button:{"9.5.0":"Dashboard insights"}},Variables:{variableOption:{"9.5.0":"data-testid variable-option"},variableLinkWrapper:{"11.1.1":"data-testid variable-link-wrapper"}},Annotations:{annotationsTypeInput:{"11.1.0":"data-testid annotations-type-input",[y]:"annotations-type-input"},annotationsChoosePanelInput:{"11.1.0":"data-testid choose-panels-input",[y]:"choose-panels-input"},editor:{testButton:{"11.0.0":"data-testid annotations-test-button"},resultContainer:{"11.0.0":"data-testid annotations-query-result-container"}}},Tooltip:{container:{"10.2.0":"data-testid tooltip"}},ReturnToPrevious:{buttonGroup:{"11.0.0":"data-testid dismissable button group"},backButton:{"11.0.0":"data-testid back"},dismissButton:{"11.0.0":"data-testid dismiss"}},SQLQueryEditor:{selectColumn:{"11.0.0":"data-testid select-column"},selectAggregation:{"11.0.0":"data-testid select-aggregation"},selectAlias:{"11.0.0":"data-testid select-alias"},filterConjunction:{"11.0.0":"data-testid filter-conjunction"},filterField:{"11.0.0":"data-testid filter-field"},filterOperator:{"11.0.0":"data-testid filter-operator"},headerTableSelector:{"11.0.0":"data-testid header-table-selector"},headerFilterSwitch:{"11.0.0":"data-testid header-filter-switch"},headerGroupSwitch:{"11.0.0":"data-testid header-group-switch"},headerOrderSwitch:{"11.0.0":"data-testid header-order-switch"},headerPreviewSwitch:{"11.0.0":"data-testid header-preview-switch"}},EntityNotFound:{container:{"11.2.0":"data-testid entity-not-found"}}},E={pages:p({Alerting:{AddAlertRule:{url:{"10.1.0":"/alerting/new/alerting",[y]:"/alerting/new"}},EditAlertRule:{url:{[y]:e=>`alerting/${e}/edit`}}},Login:{url:{[y]:"/login"},username:{"10.2.3":"data-testid Username input field",[y]:"Username input field"},password:{"10.2.3":"data-testid Password input field",[y]:"Password input field"},submit:{"10.2.3":"data-testid Login button",[y]:"Login button"},skip:{"10.2.3":"data-testid Skip change password button"}},Home:{url:{[y]:"/"}},DataSource:{name:{"10.3.0":"data-testid Data source settings page name input field",[y]:"Data source settings page name input field"},delete:{[y]:"Data source settings page Delete button"},readOnly:{"10.3.0":"data-testid Data source settings page read only message",[y]:"Data source settings page read only message"},saveAndTest:{"10.0.0":"data-testid Data source settings page Save and Test button",[y]:"Data source settings page Save and Test button"},alert:{"10.3.0":"data-testid Data source settings page Alert",[y]:"Data source settings page Alert"}},DataSources:{url:{[y]:"/datasources"},dataSources:{[y]:e=>`Data source list item ${e}`}},EditDataSource:{url:{"9.5.0":e=>`/datasources/edit/${e}`},settings:{"9.5.0":"Datasource settings page basic settings"}},AddDataSource:{url:{[y]:"/datasources/new"},dataSourcePluginsV2:{"9.3.1":e=>`Add new data source ${e}`,[y]:e=>`Data source plugin item ${e}`}},ConfirmModal:{delete:{"10.0.0":"data-testid Confirm Modal Danger Button",[y]:"Confirm Modal Danger Button"}},AddDashboard:{url:{[y]:"/dashboard/new"},itemButton:{"9.5.0":e=>`data-testid ${e}`},addNewPanel:{"11.1.0":"data-testid Add new panel",[y]:"Add new panel"},itemButtonAddViz:{[y]:"Add new visualization menu item"},addNewRow:{"11.1.0":"data-testid Add new row",[y]:"Add new row"},addNewPanelLibrary:{"11.1.0":"data-testid Add new panel from panel library",[y]:"Add new panel from panel library"},Settings:{Annotations:{List:{url:{[y]:"/dashboard/new?orgId=1&editview=annotations"}},Edit:{url:{[y]:e=>`/dashboard/new?editview=annotations&editIndex=${e}`}}},Variables:{List:{url:{"11.3.0":"/dashboard/new?orgId=1&editview=variables",[y]:"/dashboard/new?orgId=1&editview=templating"}},Edit:{url:{[y]:e=>`/dashboard/new?orgId=1&editview=templating&editIndex=${e}`}}}}},Dashboard:{url:{[y]:e=>`/d/${e}`},DashNav:{nav:{[y]:"Dashboard navigation"},navV2:{[y]:"data-testid Dashboard navigation"},publicDashboardTag:{"9.1.0":"data-testid public dashboard tag"},shareButton:{"10.4.0":"data-testid share-button"},scrollContainer:{"11.1.0":"data-testid Dashboard canvas scroll container"},newShareButton:{container:{"11.1.0":"data-testid new share button"},shareLink:{"11.1.0":"data-testid new share link-button"},arrowMenu:{"11.1.0":"data-testid new share button arrow menu"},menu:{container:{"11.1.0":"data-testid new share button menu"},shareInternally:{"11.1.0":"data-testid new share button share internally"},shareExternally:{"11.1.1":"data-testid new share button share externally"},shareSnapshot:{"11.2.0":"data-testid new share button share snapshot"}}},NewExportButton:{container:{"11.2.0":"data-testid new export button"},arrowMenu:{"11.2.0":"data-testid new export button arrow menu"},Menu:{container:{"11.2.0":"data-testid new export button menu"},exportAsJson:{"11.2.0":"data-testid new export button export as json"}}},playlistControls:{prev:{"11.0.0":"data-testid playlist previous dashboard button"},stop:{"11.0.0":"data-testid playlist stop dashboard button"},next:{"11.0.0":"data-testid playlist next dashboard button"}}},Controls:{"11.1.0":"data-testid dashboard controls"},SubMenu:{submenu:{[y]:"Dashboard submenu"},submenuItem:{[y]:"data-testid template variable"},submenuItemLabels:{[y]:e=>`data-testid Dashboard template variables submenu Label ${e}`},submenuItemValueDropDownValueLinkTexts:{[y]:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`},submenuItemValueDropDownDropDown:{[y]:"Variable options"},submenuItemValueDropDownOptionTexts:{[y]:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`},Annotations:{annotationsWrapper:{"10.0.0":"data-testid annotation-wrapper"},annotationLabel:{"10.0.0":e=>`data-testid Dashboard annotations submenu Label ${e}`},annotationToggle:{"10.0.0":e=>`data-testid Dashboard annotations submenu Toggle ${e}`}}},Settings:{Actions:{close:{"9.5.0":"data-testid dashboard-settings-close"}},General:{deleteDashBoard:{"11.1.0":"data-testid Dashboard settings page delete dashboard button"},sectionItems:{[y]:e=>`Dashboard settings section item ${e}`},saveDashBoard:{[y]:"Dashboard settings aside actions Save button"},saveAsDashBoard:{[y]:"Dashboard settings aside actions Save As button"},title:{"11.2.0":"General"}},Annotations:{Edit:{urlParams:{[y]:e=>`editview=annotations&editIndex=${e}`}},List:{url:{[y]:e=>`/d/${e}?editview=annotations`},addAnnotationCTAV2:{[y]:"data-testid Call to action button Add annotation query"},annotations:{"10.4.0":"data-testid list-annotations"}},Settings:{name:{"11.1.0":"data-testid Annotations settings name input",[y]:"Annotations settings name input"}},NewAnnotation:{panelFilterSelect:{"10.0.0":"data-testid annotations-panel-filter"},showInLabel:{"11.1.0":"data-testid show-in-label"},previewInDashboard:{"10.0.0":"data-testid annotations-preview"},delete:{"10.4.0":"data-testid annotations-delete"},apply:{"10.4.0":"data-testid annotations-apply"},enable:{"10.4.0":"data-testid annotation-enable"},hide:{"10.4.0":"data-testid annotation-hide"}}},Variables:{List:{url:{[y]:e=>`/d/${e}?editview=templating`},addVariableCTAV2:{[y]:"data-testid Call to action button Add variable"},newButton:{[y]:"Variable editor New variable button"},table:{[y]:"Variable editor Table"},tableRowNameFields:{[y]:e=>`Variable editor Table Name field ${e}`},tableRowDefinitionFields:{"10.1.0":e=>`Variable editor Table Definition field ${e}`},tableRowArrowUpButtons:{[y]:e=>`Variable editor Table ArrowUp button ${e}`},tableRowArrowDownButtons:{[y]:e=>`Variable editor Table ArrowDown button ${e}`},tableRowDuplicateButtons:{[y]:e=>`Variable editor Table Duplicate button ${e}`},tableRowRemoveButtons:{[y]:e=>`Variable editor Table Remove button ${e}`}},Edit:{urlParams:{[y]:e=>`editview=templating&editIndex=${e}`},General:{headerLink:{[y]:"Variable editor Header link"},modeLabelNew:{[y]:"Variable editor Header mode New"},modeLabelEdit:{[y]:"Variable editor Header mode Edit"},generalNameInput:{[y]:"Variable editor Form Name field"},generalNameInputV2:{[y]:"data-testid Variable editor Form Name field"},generalTypeSelect:{[y]:"Variable editor Form Type select"},generalTypeSelectV2:{[y]:"data-testid Variable editor Form Type select"},generalLabelInput:{[y]:"Variable editor Form Label field"},generalLabelInputV2:{[y]:"data-testid Variable editor Form Label field"},generalHideSelect:{[y]:"Variable editor Form Hide select"},generalHideSelectV2:{[y]:"data-testid Variable editor Form Hide select"},selectionOptionsMultiSwitch:{"10.4.0":"data-testid Variable editor Form Multi switch",[y]:"Variable editor Form Multi switch"},selectionOptionsIncludeAllSwitch:{"10.4.0":"data-testid Variable editor Form IncludeAll switch",[y]:"Variable editor Form IncludeAll switch"},selectionOptionsCustomAllInput:{"10.4.0":"data-testid Variable editor Form IncludeAll field",[y]:"Variable editor Form IncludeAll field"},previewOfValuesOption:{"10.4.0":"data-testid Variable editor Preview of Values option",[y]:"Variable editor Preview of Values option"},submitButton:{"10.4.0":"data-testid Variable editor Run Query button",[y]:"Variable editor Submit button"},applyButton:{"9.3.0":"data-testid Variable editor Apply button"}},QueryVariable:{queryOptionsDataSourceSelect:{"10.4.0":"data-testid Select a data source","10.0.0":"data-testid Data source picker select container",[y]:"Data source picker select container"},queryOptionsRefreshSelect:{[y]:"Variable editor Form Query Refresh select"},queryOptionsRefreshSelectV2:{[y]:"data-testid Variable editor Form Query Refresh select"},queryOptionsRegExInput:{[y]:"Variable editor Form Query RegEx field"},queryOptionsRegExInputV2:{[y]:"data-testid Variable editor Form Query RegEx field"},queryOptionsSortSelect:{[y]:"Variable editor Form Query Sort select"},queryOptionsSortSelectV2:{[y]:"data-testid Variable editor Form Query Sort select"},queryOptionsQueryInput:{"10.4.0":"data-testid Variable editor Form Default Variable Query Editor textarea"},valueGroupsTagsEnabledSwitch:{[y]:"Variable editor Form Query UseTags switch"},valueGroupsTagsTagsQueryInput:{[y]:"Variable editor Form Query TagsQuery field"},valueGroupsTagsTagsValuesQueryInput:{[y]:"Variable editor Form Query TagsValuesQuery field"}},ConstantVariable:{constantOptionsQueryInput:{[y]:"Variable editor Form Constant Query field"},constantOptionsQueryInputV2:{[y]:"data-testid Variable editor Form Constant Query field"}},DatasourceVariable:{datasourceSelect:{[y]:"data-testid datasource variable datasource type"}},TextBoxVariable:{textBoxOptionsQueryInput:{[y]:"Variable editor Form TextBox Query field"},textBoxOptionsQueryInputV2:{[y]:"data-testid Variable editor Form TextBox Query field"}},CustomVariable:{customValueInput:{[y]:"data-testid custom-variable-input"}},IntervalVariable:{intervalsValueInput:{[y]:"data-testid interval variable intervals input"},autoEnabledCheckbox:{"10.4.0":"data-testid interval variable auto value checkbox"},stepCountIntervalSelect:{"10.4.0":"data-testid interval variable step count input"},minIntervalInput:{"10.4.0":"data-testid interval variable mininum interval input"}},GroupByVariable:{dataSourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid group by variable info text"},modeToggle:{"10.4.0":"data-testid group by variable mode toggle"}},AdHocFiltersVariable:{datasourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid ad-hoc filters variable info text"},modeToggle:{"11.0.0":"data-testid ad-hoc filters variable mode toggle"}}}}},Annotations:{marker:{"10.0.0":"data-testid annotation-marker"}},Rows:{Repeated:{ConfigSection:{warningMessage:{"10.2.0":"data-testid Repeated rows warning message"}}}}},Dashboards:{url:{[y]:"/dashboards"},dashboards:{"10.2.0":e=>`Dashboard search item ${e}`}},SaveDashboardAsModal:{newName:{"10.2.0":"Save dashboard title field"},save:{"10.2.0":"Save dashboard button"}},SaveDashboardModal:{save:{"10.2.0":"Dashboard settings Save Dashboard Modal Save button"},saveVariables:{"10.2.0":"Dashboard settings Save Dashboard Modal Save variables checkbox"},saveTimerange:{"10.2.0":"Dashboard settings Save Dashboard Modal Save timerange checkbox"},saveRefresh:{"11.1.0":"Dashboard settings Save Dashboard Modal Save refresh checkbox"}},SharePanelModal:{linkToRenderedImage:{[y]:"Link to rendered image"}},ShareDashboardModal:{PublicDashboard:{WillBePublicCheckbox:{"9.1.0":"data-testid public dashboard will be public checkbox"},LimitedDSCheckbox:{"9.1.0":"data-testid public dashboard limited datasources checkbox"},CostIncreaseCheckbox:{"9.1.0":"data-testid public dashboard cost may increase checkbox"},PauseSwitch:{"9.5.0":"data-testid public dashboard pause switch"},EnableAnnotationsSwitch:{"9.3.0":"data-testid public dashboard on off switch for annotations"},CreateButton:{"9.5.0":"data-testid public dashboard create button"},DeleteButton:{"9.3.0":"data-testid public dashboard delete button"},CopyUrlInput:{"9.1.0":"data-testid public dashboard copy url input"},CopyUrlButton:{"9.1.0":"data-testid public dashboard copy url button"},SettingsDropdown:{"10.1.0":"data-testid public dashboard settings dropdown"},TemplateVariablesWarningAlert:{"9.1.0":"data-testid public dashboard disabled template variables alert"},UnsupportedDataSourcesWarningAlert:{"9.5.0":"data-testid public dashboard unsupported data sources alert"},NoUpsertPermissionsWarningAlert:{"9.5.0":"data-testid public dashboard no upsert permissions alert"},EnableTimeRangeSwitch:{"9.4.0":"data-testid public dashboard on off switch for time range"},EmailSharingConfiguration:{Container:{"9.5.0":"data-testid email sharing config container"},ShareType:{"9.5.0":"data-testid public dashboard share type"},EmailSharingInput:{"9.5.0":"data-testid public dashboard email sharing input"},EmailSharingInviteButton:{"9.5.0":"data-testid public dashboard email sharing invite button"},EmailSharingList:{"9.5.0":"data-testid public dashboard email sharing list"},DeleteEmail:{"9.5.0":"data-testid public dashboard delete email button"},ReshareLink:{"9.5.0":"data-testid public dashboard reshare link button"}}},SnapshotScene:{url:{"11.1.0":e=>`/dashboard/snapshot/${e}`},PublishSnapshot:{"11.1.0":"data-testid publish snapshot button"},CopyUrlButton:{"11.1.0":"data-testid snapshot copy url button"},CopyUrlInput:{"11.1.0":"data-testid snapshot copy url input"}}},ShareDashboardDrawer:{ShareInternally:{container:{"11.3.0":"data-testid share internally drawer container"},lockTimeRangeSwitch:{"11.3.0":"data-testid share internally lock time range switch"},shortenUrlSwitch:{"11.3.0":"data-testid share internally shorten url switch"},copyUrlButton:{"11.3.0":"data-testid share internally copy url button"}},ShareExternally:{container:{"11.3.0":"data-testid share externally drawer container"},publicAlert:{"11.3.0":"data-testid public share alert"},emailSharingAlert:{"11.3.0":"data-testid email share alert"},shareTypeSelect:{"11.3.0":"data-testid share externally share type select"},Creation:{PublicShare:{createButton:{"11.3.0":"data-testid public share dashboard create button"},cancelButton:{"11.3.0":"data-testid public share dashboard cancel button"}},EmailShare:{createButton:{"11.3.0":"data-testid email share dashboard create button"},cancelButton:{"11.3.0":"data-testid email share dashboard cancel button"}},willBePublicCheckbox:{"11.3.0":"data-testid share dashboard will be public checkbox"}},Configuration:{enableTimeRangeSwitch:{"11.3.0":"data-testid share externally enable time range switch"},enableAnnotationsSwitch:{"11.3.0":"data-testid share externally enable annotations switch"},copyUrlButton:{"11.3.0":"data-testid share externally copy url button"},revokeAccessButton:{"11.3.0":"data-testid share externally revoke access button"},toggleAccessButton:{"11.3.0":"data-testid share externally pause or resume access button"}}},ShareSnapshot:{url:{"11.3.0":e=>`/dashboard/snapshot/${e}`},container:{"11.3.0":"data-testid share snapshot drawer container"},publishSnapshot:{"11.3.0":"data-testid share snapshot publish button"},copyUrlButton:{"11.3.0":"data-testid share snapshot copy url button"}}},ExportDashboardDrawer:{ExportAsJson:{container:{"11.3.0":"data-testid export as json drawer container"},codeEditor:{"11.3.0":"data-testid export as json code editor"},exportExternallyToggle:{"11.3.0":"data-testid export as json externally switch"},saveToFileButton:{"11.3.0":"data-testid export as json save to file button"},copyToClipboardButton:{"11.3.0":"data-testid export as json copy to clipboard button"},cancelButton:{"11.3.0":"data-testid export as json cancel button"}}},PublicDashboard:{page:{"9.5.0":"public-dashboard-page"},NotAvailable:{container:{"9.5.0":"public-dashboard-not-available"},title:{"9.5.0":"public-dashboard-title"},pausedDescription:{"9.5.0":"public-dashboard-paused-description"}},footer:{"11.0.0":"public-dashboard-footer"}},PublicDashboardScene:{loadingPage:{"11.0.0":"public-dashboard-scene-loading-page"},page:{"11.0.0":"public-dashboard-scene-page"},controls:{"11.0.0":"public-dashboard-controls"}},RequestViewAccess:{form:{"9.5.0":"request-view-access-form"},recipientInput:{"9.5.0":"request-view-access-recipient-input"},submitButton:{"9.5.0":"request-view-access-submit-button"}},PublicDashboardConfirmAccess:{submitButton:{"10.2.0":"data-testid confirm-access-submit-button"}},Explore:{url:{[y]:"/explore"},General:{container:{[y]:"data-testid Explore"},graph:{[y]:"Explore Graph"},table:{[y]:"Explore Table"},scrollView:{"9.0.0":"data-testid explorer scroll view"}},QueryHistory:{container:{"11.1.0":"data-testid QueryHistory"}}},SoloPanel:{url:{[y]:e=>`/d-solo/${e}`}},PluginsList:{page:{[y]:"Plugins list page"},list:{[y]:"Plugins list"},listItem:{[y]:"Plugins list item"},signatureErrorNotice:{"10.3.0":"data-testid Unsigned plugins notice",[y]:"Unsigned plugins notice"}},PluginPage:{page:{[y]:"Plugin page"},signatureInfo:{"10.3.0":"data-testid Plugin signature info",[y]:"Plugin signature info"},disabledInfo:{"10.3.0":"data-testid Plugin disabled info",[y]:"Plugin disabled info"}},PlaylistForm:{name:{[y]:"Playlist name"},interval:{[y]:"Playlist interval"},itemDelete:{"10.2.0":"data-testid playlist-form-delete-item"}},BrowseDashboards:{table:{body:{"10.2.0":"data-testid browse-dashboards-table"},row:{"10.2.0":e=>`data-testid browse dashboards row ${e}`},checkbox:{"10.0.0":e=>`data-testid ${e} checkbox`}},NewFolderForm:{form:{"10.2.0":"data-testid new folder form"},nameInput:{"10.2.0":"data-testid new-folder-name-input"},createButton:{"10.2.0":"data-testid new-folder-create-button"}}},Search:{url:{"9.3.0":"/?search=openn"},FolderView:{url:{"9.3.0":"/?search=open&layout=folders"}}},PublicDashboards:{ListItem:{linkButton:{"9.3.0":"public-dashboard-link-button"},configButton:{"9.3.0":"public-dashboard-configuration-button"},trashcanButton:{"9.3.0":"public-dashboard-remove-button"},pauseSwitch:{"10.1.0":"data-testid public dashboard pause switch"}}},UserListPage:{tabs:{allUsers:{"10.0.0":"data-testid all-users-tab"},orgUsers:{"10.0.0":"data-testid org-users-tab"},anonUserDevices:{"10.2.3":"data-testid anon-user-devices-tab"},publicDashboardsUsers:{"10.0.0":"data-testid public-dashboards-users-tab"},users:{"10.0.0":"data-testid users-tab"}},org:{url:{"9.5.0":"/org/users"}},admin:{url:{"9.5.0":"/admin/users"}},publicDashboards:{container:{"11.1.0":"data-testid public-dashboards-users-list"}},UserListAdminPage:{container:{"10.0.0":"data-testid user-list-admin-page"}},UsersListPage:{container:{"10.0.0":"data-testid users-list-page"}},UserAnonListPage:{container:{"10.4.0":"data-testid user-anon-list-page"}},UsersListPublicDashboardsPage:{container:{"10.0.0":"data-testid users-list-public-dashboards-page"},DashboardsListModal:{listItem:{"10.0.0":e=>`data-testid dashboards-list-item-${e}`}}}},ProfilePage:{url:{"10.2.0":"/profile"}},Plugin:{url:{[y]:e=>`/plugins/${e}`}}}),components:p(w)};var S=m(9997),C=function(e){return e.STRING="string",e.NUMBER="number",e.SELECT="select",e.DATETIME="datetime",e.TEXTAREA="textarea",e.BOOLEAN="boolean",e}({}),x=function(e){return e.CARDS="cards",e}({}),O=function(e){return e.NONE="",e.FIRST="first",e.LAST="last",e}({}),A=function(e){return e.NONE="",e.LEFT="left",e.RIGHT="right",e}({}),D=function(e){return e.CLIENT="client",e.QUERY="query",e}({}),R=function(e){return e.ALLOWED="",e.QUERY="query",e.USER_ROLE="userRole",e}({}),_=function(e){return e.AUTO="auto",e.COLORED_TEXT="coloredText",e.COLORED_BACKGROUND="coloredBackground",e.RICH_TEXT="rich_text",e.NESTED_OBJECTS="nested_objects",e.IMAGE="image",e.BOOLEAN="boolean",e.PREFORMATTED="preformatted",e}({}),k=function(e){return e.NONE="none",e.SUM="sum",e.MIN="min",e.MAX="max",e.EXTENT="extent",e.MEAN="mean",e.MEDIAN="median",e.UNIQUE="unique",e.UNIQUE_COUNT="uniqueCount",e.COUNT="count",e}({}),P=function(e){return e.SEARCH="search",e.NUMBER="number",e.FACETED="faceted",e.TIMESTAMP="timestamp",e}({}),T=function(e){return e.MORE=">",e.MORE_OR_EQUAL=">=",e.LESS="<",e.LESS_OR_EQUAL="<=",e.BETWEEN="between",e.EQUAL="=",e.NOT_EQUAL="!=",e}({}),I=function(e){return e.START="start",e.CENTER="center",e.END="end",e}({}),j=function(e){return e.LG="lg",e.MD="md",e.SM="sm",e.XS="xs",e}({}),F=function(e){return e.CLIENT="client",e.QUERY="query",e}({}),M=function(e){return e.JPEG="image/jpeg",e.GIF="image/gif",e.PNG="image/png",e.HEIC="image/heic",e}({}),L=function(e){return e.AUTO="auto",e.CRISP_EDGES="crisp-edges",e.PIXELATED="pixelated",e}({});const N={wrap:!0,alignment:I.START,width:{auto:!0,min:20,value:100},header:{fontSize:j.MD},colors:{},background:{applyToRow:!1}},B={datasource:"",payload:{}},V={mode:R.ALLOWED,userRole:[]},z={enabled:!1,permission:V,editor:{type:C.STRING}},$={enabled:!1,editor:{type:C.STRING}},U="__actions",H={panel:{root:(0,S.createSelector)("data-testid panel"),tab:(0,S.createSelector)((e=>`data-testid panel tab-${e}`)),buttonDownload:(0,S.createSelector)("data-testid panel button-download")},tablesEditor:{buttonAddNew:(0,S.createSelector)("data-testid tables-editor button-add-new"),buttonRemove:(0,S.createSelector)("data-testid tables-editor button-remove"),buttonStartRename:(0,S.createSelector)("data-testid tables-editor button-start-rename"),buttonCancelRename:(0,S.createSelector)("data-testid tables-editor button-cancel-rename"),buttonSaveRename:(0,S.createSelector)("data-testid tables-editor button-save-rename"),fieldName:(0,S.createSelector)("data-testid tables-editor field-name"),item:(0,S.createSelector)((e=>`data-testid tables-editor item-${e}`)),itemHeader:(0,S.createSelector)((e=>`data-testid tables-editor item-header-${e}`)),itemContent:(0,S.createSelector)((e=>`data-testid tables-editor item-content-${e}`)),newItem:(0,S.createSelector)("data-testid tables-editor new-level"),newItemName:(0,S.createSelector)("data-testid tables-editor new-item-name"),noItemsMessage:(0,S.createSelector)("data-testid tables-editor no-items-message")},columnsEditor:{buttonAddNew:(0,S.createSelector)("data-testid columns-editor button-add-new"),buttonRemove:(0,S.createSelector)("data-testid columns-editor button-remove"),buttonToggleVisibility:(0,S.createSelector)("data-testid columns-editor button-toggle-visibility"),itemHeader:(0,S.createSelector)((e=>`data-testid columns-editor item-${e}`)),itemContent:(0,S.createSelector)((e=>`data-testid columns-editor item-content-${e}`)),newItem:(0,S.createSelector)("data-testid columns-editor new-item"),newItemName:(0,S.createSelector)("data-testid columns-editor new-item-name"),root:(0,S.createSelector)("data-testid columns-editor")},columnEditor:{fieldLabel:(0,S.createSelector)("data-testid column-editor field-label"),fieldType:(0,S.createSelector)("data-testid column-editor field-type"),fieldObjectId:(0,S.createSelector)("data-testid column-editor field-object-id"),fieldGroup:(0,S.createSelector)("data-testid column-editor field-group"),fieldAggregation:(0,S.createSelector)("data-testid column-editor field-aggregation"),fieldFilterEnabled:(0,S.createSelector)("data-testid column-editor field-filter-enabled"),fieldFilterMode:(0,S.createSelector)("data-testid column-editor field-filter-mode"),fieldFilterVariable:(0,S.createSelector)("data-testid column-editor field-filter-variable"),fieldSortEnabled:(0,S.createSelector)("data-testid column-editor field-sort-enabled"),fieldSortDirection:(0,S.createSelector)("data-testid column-editor field-sort-direction"),sortDirectionOption:(0,S.createSelector)((e=>`column-editor sort-direction-${e}`)),fieldPinDirection:(0,S.createSelector)("data-testid column-editor field-pin-direction"),pinDirectionOption:(0,S.createSelector)((e=>`column-editor pin-direction-${e}`)),fieldAppearanceBackgroundApplyToRow:(0,S.createSelector)("data-testid column-editor field-appearance-background-apply-to-row"),fieldPreformattedStyles:(0,S.createSelector)("data-testid column-editor field-preformatted-styles"),fieldAppearanceWidthAuto:(0,S.createSelector)("data-testid column-editor field-appearance-width-auto"),fieldAppearanceWidthMin:(0,S.createSelector)("data-testid column-editor field-appearance-width-min"),fieldAppearanceWidthMax:(0,S.createSelector)("data-testid column-editor field-appearance-width-max"),fieldAppearanceWidthValue:(0,S.createSelector)("data-testid column-editor field-appearance-width-value"),fieldHeaderBackgroundColor:(0,S.createSelector)("data-testid column-editor field-header-background-color"),fieldHeaderFontColor:(0,S.createSelector)("data-testid column-editor field-header-font-color"),fieldHeaderFontSize:(0,S.createSelector)("data-testid column-editor field-font-size"),fieldHeaderFontSizeOption:(0,S.createSelector)((e=>`column-editor field-font-size-${e}`)),fieldAppearanceWrap:(0,S.createSelector)("data-testid column-editor field-appearance-wrap"),fieldAppearanceAlignment:(0,S.createSelector)("data-testid column-editor field-appearance-alignment"),fieldAppearanceAlignmentOption:(0,S.createSelector)((e=>`column-editor field-appearance-alignment-option-${e}`)),fieldScale:(0,S.createSelector)("data-testid column-editor field-scale")},defaultCellRenderer:{root:(0,S.createSelector)("data-testid default-cell-renderer")},preformattedCellRenderer:{root:(0,S.createSelector)("data-testid preformatted-cell-renderer")},layoutCellRenderer:{root:(0,S.createSelector)("data-testid layout-cell-renderer")},booleanCellRenderer:{root:(0,S.createSelector)("data-testid boolean-cell-renderer")},aggregatedCellRenderer:{root:(0,S.createSelector)("data-testid aggregated-cell-renderer")},imageCellRenderer:{root:(0,S.createSelector)("data-testid image-cell-renderer")},table:{root:(0,S.createSelector)("data-testid table"),headerRow:(0,S.createSelector)((e=>`data-testid table header-row-${e}`)),headerCell:(0,S.createSelector)((e=>`data-testid table header-cell-${e}`)),footerCell:(0,S.createSelector)((e=>`data-testid table footer-cell-${e}`)),newRowContainer:(0,S.createSelector)("data-testid table new-row-container"),body:(0,S.createSelector)("data-testid table body"),bodyRow:(0,S.createSelector)((e=>`data-testid table body-row-${e}`)),bodyCell:(0,S.createSelector)((e=>`data-testid table body-cell-${e}`)),buttonExpandCell:(0,S.createSelector)((e=>`table button-expand-cell-${e}`)),pagination:(0,S.createSelector)("data-testid table pagination"),fieldPageNumber:(0,S.createSelector)("data-testid table field-page-number"),fieldPageSize:(0,S.createSelector)("data-testid table field-page-size")},tableHeaderCell:{root:(0,S.createSelector)("data-testid table-header-cell"),buttonAddRow:(0,S.createSelector)("data-testid table-header-cell button-add-row"),sortIcon:(0,S.createSelector)((e=>String(e)),"data-testid")},tableCell:{tableLink:(0,S.createSelector)((e=>`table link-${e}`)),tableLinkMenu:(0,S.createSelector)("table link-menu")},filterFacetedList:{root:(0,S.createSelector)("data-testid filter-faceted-list"),allOption:(0,S.createSelector)("data-testid filter-faceted-list all-option"),option:(0,S.createSelector)((e=>`data-testid filter-faceted-list option-${e}`))},filterSearch:{root:(0,S.createSelector)("data-testid filter-search"),buttonMatchCase:(0,S.createSelector)("data-testid filter-search button-match-case")},filterNumber:{fieldValue:(0,S.createSelector)("data-testid filter-number field-value"),fieldOperator:(0,S.createSelector)("data-testid filter-number field-operator"),fieldAdditionalValue:(0,S.createSelector)("data-testid filter-number field-additional-value")},filterTime:{root:(0,S.createSelector)("data-testid filter-time")},filterPopup:{root:(0,S.createSelector)("data-testid filter-popup"),typeOption:(0,S.createSelector)((e=>`filter-popup type-option-${e}`)),buttonClear:(0,S.createSelector)("data-testid filter-popup button-clear"),buttonCancel:(0,S.createSelector)("data-testid filter-popup button-cancel"),buttonSave:(0,S.createSelector)("data-testid filter-popup button-sae")},tableHeaderCellFilter:{root:(0,S.createSelector)("data-testid table-header-cell-filter")},payloadEditor:{loadingMessage:(0,S.createSelector)("data-testid payload-editor loading-message"),errorMessage:(0,S.createSelector)("data-testid payload-editor error-message")},datasourceEditor:{fieldSelect:(0,S.createSelector)("data-testid datasource-editor field-select")},editableColumnEditor:{fieldType:(0,S.createSelector)("data-testid column-editor field-type"),fieldNumberMin:(0,S.createSelector)("data-testid column-editor field-number-min"),fieldNumberMax:(0,S.createSelector)("data-testid column-editor field-number-max"),fieldDatetimeMin:(0,S.createSelector)("data-testid column-editor field-datetime-min"),fieldDatetimeMax:(0,S.createSelector)("data-testid column-editor field-datetime-max"),fieldCustomValues:(0,S.createSelector)("data-testid column-editor field-custom-values")},dateEditor:{field:(0,S.createSelector)("data-testid date-editor field"),buttonRemoveDate:(0,S.createSelector)("data-testid date-editor button-remove-date"),buttonSetDate:(0,S.createSelector)("data-testid date-editor button-set-date")},queryOptionsEditor:{fieldValue:(0,S.createSelector)("data-testid query-options-editor field-value"),fieldLabel:(0,S.createSelector)("data-testid query-options-editor field-label")},editableCell:{fieldString:(0,S.createSelector)("data-testid editableCell field-string"),fieldNumber:(0,S.createSelector)("data-testid editableCell field-number"),fieldDatetime:(0,S.createSelector)("data-testid editableCell field-datetime"),fieldSelect:(0,S.createSelector)("data-testid editableCell field-select"),fieldTextarea:(0,S.createSelector)("data-testid editableCell field-textarea"),fieldBoolean:(0,S.createSelector)("data-testid editableCell field-boolean")},tableActionsCell:{buttonStartEdit:(0,S.createSelector)("data-testid table-actions-cell button-start-edit"),buttonDelete:(0,S.createSelector)("data-testid table-actions-cell button-delete"),buttonCancel:(0,S.createSelector)("data-testid table-actions-cell button-cancel"),buttonSave:(0,S.createSelector)("data-testid table-actions-cell button-save")},tableEditor:{fieldShowHeader:(0,S.createSelector)("data-testid table-editor field-show-header"),updateSectionHeader:(0,S.createSelector)("data-testid table-editor update-section-header"),updateSectionContent:(0,S.createSelector)("data-testid table-editor update-section-content"),fieldExpanded:(0,S.createSelector)("data-testid table-editor field-expanded")},fieldPicker:{root:(0,S.createSelector)("data-testid field-picker")},tableUpdateEditor:{updateSectionHeader:(0,S.createSelector)("data-testid table-update-editor update-section-header"),updateSectionContent:(0,S.createSelector)("data-testid table-update-editor update-section-content"),columnHeader:(0,S.createSelector)((e=>`data-testid table-update-editor column-header-${e}`)),columnContent:(0,S.createSelector)((e=>`data-testid table-update-editor column-content-${e}`)),fieldEditQuickEnabled:(0,S.createSelector)((e=>`data-testid table-update-editor field-edit-quick-enabled-${e}`)),noColumnsMessage:(0,S.createSelector)("data-testid table-update-editor no-columns-message")},tableAddRowEditor:{requestSectionHeader:(0,S.createSelector)("data-testid table-add-row-editor update-section-header"),requestSectionContent:(0,S.createSelector)("data-testid table-add-row-editor update-section-content"),columnHeader:(0,S.createSelector)((e=>`data-testid table-add-row-editor column-header-${e}`)),columnContent:(0,S.createSelector)((e=>`data-testid table-add-row-editor column-content-${e}`)),fieldEditQuickEnabled:(0,S.createSelector)((e=>`data-testid table-add-row-editor field-edit-quick-enabled-${e}`)),noColumnsMessage:(0,S.createSelector)("data-testid table-add-row-editor no-columns-message"),disabledHeaderMessage:(0,S.createSelector)("data-testid table-add-row-editor disabled-header-message")},buttonSelect:{root:(0,S.createSelector)("button-select root"),dropdown:(0,S.createSelector)("button-select dropdown"),option:(0,S.createSelector)((e=>`button-select option-${e}`))},editableDataEditor:{itemHeader:(0,S.createSelector)((e=>`data-testid editable-data-editor item-header-${e}`)),itemContent:(0,S.createSelector)((e=>`data-testid editable-data-editor item-content-${e}`))},addDataEditor:{itemHeader:(0,S.createSelector)((e=>`data-testid add-data-editor item-header-${e}`)),itemContent:(0,S.createSelector)((e=>`data-testid add-data-editor item-content-${e}`)),fieldItemEnabled:(0,S.createSelector)((e=>`data-testid add-data-editor field-item-enabled-${e}`))},deleteDataEditor:{itemHeader:(0,S.createSelector)((e=>`data-testid delete-data-editor item-header-${e}`)),itemContent:(0,S.createSelector)((e=>`data-testid delete-data-editor item-content-${e}`)),fieldItemEnabled:(0,S.createSelector)((e=>`data-testid delete-data-editor field-item-enabled-${e}`))},nestedObjectEditor:{fieldType:(0,S.createSelector)("data-testid nested-object-editor field-type"),getRequestSectionHeader:(0,S.createSelector)("data-testid nested-object-editor get-request-section-header"),getRequestSectionContent:(0,S.createSelector)("data-testid nested-object-editor get-request-section-content"),operationSectionHeader:(0,S.createSelector)((e=>`data-testid nested-object-editor operation-${e}-section-header`)),operationSectionContent:(0,S.createSelector)((e=>`data-testid nested-object-editor operation-${e}-section-content`)),fieldOperationEnabled:(0,S.createSelector)((e=>`data-testid nested-object-editor field-operation-${e}-enabled`))},nestedObjectCardsEditor:{fieldId:(0,S.createSelector)("data-testid nested-object-cards-editor field-id"),fieldTitle:(0,S.createSelector)("data-testid nested-object-cards-editor field-title"),fieldTime:(0,S.createSelector)("data-testid nested-object-cards-editor field-time"),fieldAuthor:(0,S.createSelector)("data-testid nested-object-cards-editor field-author"),fieldBody:(0,S.createSelector)("data-testid nested-object-cards-editor field-body"),fieldDisplay:(0,S.createSelector)("data-testid nested-object-cards-editor field-display"),fieldDisplayCount:(0,S.createSelector)("data-testid nested-object-cards-editor field-display-count"),option:(0,S.createSelector)((e=>`nested-object-cards-editor options-${e}`))},nestedObjectCardContent:{root:(0,S.createSelector)("data-testid nested-object-card-content")},nestedObjectCardsItem:{root:(0,S.createSelector)("data-testid nested-object-cards-item"),header:(0,S.createSelector)("nested-object-cards-item header"),fieldTitle:(0,S.createSelector)("data-testid nested-object-cards-item field-title"),fieldBody:(0,S.createSelector)("nested-object-cards-item field-body"),buttonCancelEdit:(0,S.createSelector)("data-testid nested-object-cards-item button-cancel-edit"),buttonSaveEdit:(0,S.createSelector)("data-testid nested-object-cards-item button-save-edit"),buttonStartEdit:(0,S.createSelector)("data-testid nested-object-cards-item button-start-edit"),buttonStartDelete:(0,S.createSelector)("data-testid nested-object-cards-item button-start-delete"),modalConfirmDelete:(0,S.createSelector)("data-testid nested-object-cards-item modal-confirm-delete")},nestedObjectCardsAdd:{buttonAdd:(0,S.createSelector)("data-testid nested-object-cards-add button-add")},nestedObjectCardsControl:{loadingIcon:(0,S.createSelector)("spinner","data-testid"),buttonShowItems:(0,S.createSelector)("data-testid nested-object-cards-control button-show-items"),noItemsMessage:(0,S.createSelector)("data-testid nested-object-cards-control no-items-message"),buttonCloseDrawer:(0,S.createSelector)(E.components.Drawer.General.close),list:(0,S.createSelector)("data-testid nested-object-cards-control list")},nestedObjectsEditor:{buttonAddNew:(0,S.createSelector)("data-testid nested-objects-editor button-add-new"),buttonRemove:(0,S.createSelector)("data-testid nested-objects-editor button-remove"),buttonStartRename:(0,S.createSelector)("data-testid nested-objects-editor button-start-rename"),buttonCancelRename:(0,S.createSelector)("data-testid nested-objects-editor button-cancel-rename"),buttonSaveRename:(0,S.createSelector)("data-testid nested-objects-editor button-save-rename"),fieldName:(0,S.createSelector)("data-testid nested-objects-editor field-name"),itemHeader:(0,S.createSelector)((e=>`data-testid nested-objects-editor item-header-${e}`)),itemContent:(0,S.createSelector)((e=>`data-testid nested-objects-editor item-content-${e}`)),newItem:(0,S.createSelector)("data-testid nested-objects-editor new-level"),newItemName:(0,S.createSelector)("data-testid nested-objects-editor new-item-name"),noItemsMessage:(0,S.createSelector)("data-testid nested-objects-editor no-items-message")},nestedObjectOperationEditor:{requestSectionHeader:(0,S.createSelector)("data-testid nested-object-operation-editor request-section-header"),requestSectionContent:(0,S.createSelector)("data-testid nested-object-operation-editor request-section-content")},permissionEditor:{fieldMode:(0,S.createSelector)("data-testid permission-editor field-mode"),fieldOrgRole:(0,S.createSelector)("data-testid permission-editor field-org-role"),fieldPicker:(0,S.createSelector)("data-testid permission-editor field-picker")},paginationsEditor:{itemHeader:(0,S.createSelector)((e=>`data-testid editable-data-editor item-header-${e}`)),itemContent:(0,S.createSelector)((e=>`data-testid editable-data-editor item-content-${e}`)),fieldPaginationEnabled:(0,S.createSelector)((e=>`data-testid table-editor field-pagination-enabled-${e}`))},paginationEditor:{fieldPaginationMode:(0,S.createSelector)("data-testid table-editor field-pagination-mode"),fieldPaginationDefaultPageSize:(0,S.createSelector)("data-testid table-editor field-pagination-default-page-size"),fieldPaginationQueryPageIndexVariable:(0,S.createSelector)("data-testid table-editor field-pagination-query-page-index-variable"),fieldPaginationQueryPageSizeVariable:(0,S.createSelector)("data-testid table-editor field-pagination-query-page-size-variable"),fieldPaginationQueryOffsetVariable:(0,S.createSelector)("data-testid table-editor field-pagination-query-offset-variable"),fieldPaginationQueryTotalCount:(0,S.createSelector)("data-testid table-editor field-pagination-query-total-count")},colorEditor:{fieldValue:(0,S.createSelector)("data-testid color-editor field-value"),buttonClear:(0,S.createSelector)("data-testid color-editor button-clear")}},q=[k.MIN,k.MAX,k.MEAN,k.MEDIAN,k.SUM],G=[10,20,50,100,1e3],W=G.map((e=>({value:e,label:e.toString()}))),Q=/^data:image\/\w+/,Y={"/":M.JPEG,R:M.GIF,i:M.PNG,A:M.HEIC};var X=m(6089);const K=e=>({item:X.css`
      margin-bottom: ${e.spacing(1)};
    `});function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z(e,t,n[t])}))}return e}function ee(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const te=e=>({type:e}),ne=e=>"number"==typeof e?e:"",re=e=>Object.entries(e).reduce(((e,[t,n])=>void 0===n?e:ee(J({},e),{[t]:n})),{}),oe=e=>e.items.filter((e=>e.enabled&&e.filter.enabled&&e.filter.mode===F.CLIENT)).length>0,ae=e=>!(!e.pagination.enabled||e.pagination.mode===D.CLIENT)&&oe(e);var ie,se=m(2249),le=m(1269),ce=(e=>(e.Count="count",e.Size="size",e))(ce||{}),ue=(e=>(e.Linear="linear",e.Log="log",e.Ordinal="ordinal",e.Symlog="symlog",e))(ue||{}),de=(e=>(e.CSV="csv",e.Date="date",e.Distributed="distributed",e.DoubleQuote="doublequote",e.Glob="glob",e.HTML="html",e.JSON="json",e.Lucene="lucene",e.PercentEncode="percentencode",e.Pipe="pipe",e.QueryParam="queryparam",e.Raw="raw",e.Regex="regex",e.SQLString="sqlstring",e.SingleQuote="singlequote",e.Text="text",e.UriEncode="uriencode",e))(de||{}),pe=m(7708),fe=m(3241),he=((ie=he||{}).CSV="csv",ie.DATE="date",ie.DISTRIBUTED="distributed",ie.DOUBLE_QUOTE="doublequote",ie.GLOB="glob",ie.HTML="html",ie.JSON="json",ie.LUCENE="lucene",ie.PERCENT_ENCODE="percentencode",ie.PIPE="pipe",ie.QUERY_PARAM="queryparam",ie.RAW="raw",ie.REGEX="regex",ie.SQL_STRING="sqlstring",ie.SINGLE_QUOTE="singlequote",ie.TEXT="text",ie.URI_ENCODE="uriencode",ie),ge=(e=>(e.DASHBOARD="__dashboard",e.FROM="__from",e.TO="__to",e.INTERVAL="__interval",e.INTERVAL_MS="__interval_ms",e.ORG="__org",e.USER="__user",e.RANGE="__range",e.RANGE_MS="__range_ms",e.RANGE_S="__range_s",e.RATE_INTERVAL="__rate_interval",e.RATE_INTERVAL_MS="__rate_interval_ms",e.TIME_FILTER="timeFilter",e._TIME_FILTER="__timeFilter",e.TIMEZONE="__timezone",e))(ge||{});const me=Object.values(ge),be=(ge.USER,/\$(\w+)|\[\[(\w+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::([^\}]+))?}/g),{abs:ve,pow:ye}=Math,we=new Map;function Ee(e,t,n,r){let a=[],i=r.map(o.guessDecimals);for(let s=t;s<n;s++){let t=ve(s),n=(0,o.roundDecimals)(ye(e,s),t);for(let e=0;e<r.length;e++){let l=r[e]*n,c=(l>=0&&s>=0?0:t)+(s>=i[e]?0:i[e]),u=(0,o.roundDecimals)(l,c);a.push(u),we.set(u,c)}}return a}const Se=[1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6,6.5,7,7.5,8,8.5,9,9.5],Ce=Ee(10,-16,0,Se),xe=Ee(10,0,16,Se).filter((e=>e%1==0)),Oe=Ce.concat(xe),Ae=6e4,De=60*Ae,Re=24*De,_e=365*Re,ke=[1,2,4,5,10,20,25,40,50,100,200,250,400,500,1e3,2e3,4e3,5e3,1e4,15e3,2e4,3e4,Ae,2*Ae,4*Ae,5*Ae,6e5,9e5,20*Ae,30*Ae,De,2*De,4*De,6*De,8*De,12*De,18*De,Re,2*Re,3*Re,4*Re,5*Re,6*Re,7*Re,10*Re,15*Re,30*Re,45*Re,60*Re,90*Re,180*Re,_e,2*_e,3*_e,4*_e,5*_e,6*_e,7*_e,8*_e,9*_e,10*_e],Pe={id:o.DataTransformerID.heatmap,name:"Create heatmap",description:"Generate heatmap data from source data.",defaultOptions:{},isApplicable:e=>{const{xField:t,yField:n,xs:r,ys:a}=Te(e);return t||n?o.TransformationApplicabilityLevels.NotPossible:r.length&&a.length?o.TransformationApplicabilityLevels.Applicable:o.TransformationApplicabilityLevels.NotPossible},isApplicableDescription:"The Heatmap transformation requires fields with Heatmap compatible data. No fields with Heatmap data could be found.",operator:(e,t)=>n=>n.pipe((0,le.map)((n=>{{const r={...e,xBuckets:{...e.xBuckets},yBuckets:{...e.yBuckets}};return r.xBuckets?.value&&(r.xBuckets.value=t.interpolate(r.xBuckets.value)),r.yBuckets?.value&&(r.yBuckets.value=t.interpolate(r.yBuckets.value)),Pe.transformer(r,t)(n)}}))),transformer:e=>t=>{const n=function(e,t){const{xField:n,yField:r,xs:a,ys:i}=Te(e);if(!n||!r)throw"no heatmap fields found";if(!a.length||!i.length)throw"no values found";const s=t.xBuckets??{},l=t.yBuckets??{};if(s.scale?.type===ue.Log)throw"X axis only supports linear buckets";const c=t.yBuckets?.scale??{type:ue.Linear},u=function(e,t,n){let r=e.length,a=n?.xSorted??!1,i=n?.ySorted??!1,s=a?e[0]:1/0,l=i?t[0]:1/0,c=a?e[r-1]:-1/0,u=i?t[r-1]:-1/0,d=n?.yLog;for(let n=0;n<r;n++)a||(s=Math.min(s,e[n]),c=Math.max(c,e[n])),i||(!d||t[n]>0)&&(l=Math.min(l,t[n]),u=Math.max(u,t[n]));let p=n?.xSize??0,f=n?.ySize??0,h=n?.xMode,g=n?.yMode;if((!Number.isFinite(p)||p<=0)&&(h=ce.Count,p=20),(!Number.isFinite(f)||f<=0)&&(g=ce.Count,f=10),h===ce.Count){let e=(c-s)/Math.max(p-1,1),t=n?.xTime?ke:Oe,r=t.findIndex((t=>t>e))-1;p=t[Math.max(r,0)]}if(g===ce.Count){let e=(u-l)/Math.max(f-1,1),t=n?.yTime?ke:Oe,r=t.findIndex((t=>t>e))-1;f=t[Math.max(r,0)]}let m=n?.xCeil?e=>(0,o.incrRoundUp)(e,p):e=>(0,o.incrRoundDn)(e,p),b=n?.yCeil?e=>(0,o.incrRoundUp)(e,f):e=>(0,o.incrRoundDn)(e,f);if(d){f=1/(n?.ySize??1);let e=2===d?Math.log2:Math.log10;b=n?.yCeil?t=>(0,o.incrRoundUp)(e(t),f):t=>(0,o.incrRoundDn)(e(t),f)}let v=m(s),y=m(c),w=b(l),E=b(u),S=Math.round((y-v)/p)+1,C=Math.round((E-w)/f)+1,[x,O,A]=function(e,t,n,r,o,a,i){const s=e*t,l=new Array(s),c=new Array(s),u=new Array(s);for(let e=0,d=0,p=n;e<s;d=++e%t)u[e]=0,c[e]=i?i**(o+d*a):o+d*a,0===d&&e>=t&&(p+=r),l[e]=p;return[l,c,u]}(S,C,v,p,w,f,d);for(let n=0;n<r;n++)d&&t[n]<=0||A[(m(e[n])-v)/p*C+(b(t[n])-w)/f]++;return{x,y:O,count:A}}(a,i,{xSorted:(0,o.isLikelyAscendingVector)(a),xTime:n.type===o.FieldType.time,xMode:s.mode,xSize:s.mode===ce.Size?(0,o.durationToMilliseconds)((0,o.parseDuration)(s.value??"")):s.value?+s.value:void 0,yMode:l.mode,ySize:l.value?+l.value:void 0,yLog:c?.type===ue.Log?c?.log:void 0});return{length:u.x.length,name:(0,o.getFieldDisplayName)(r),meta:{type:o.DataFrameType.HeatmapCells},fields:[{name:"xMin",type:n.type,values:u.x,config:n.config},{name:"yMin",type:o.FieldType.number,values:u.y,config:{...r.config,custom:{scaleDistribution:c}}},{name:"Count",type:o.FieldType.number,values:u.count,config:{unit:"short"}}]}}(t,e);return e.keepOriginalData?[n,...t]:[n]}};function Te(e){let t,n,r=0;for(let t of e)t.fields.find((e=>e.type===o.FieldType.time))&&(r+=t.length);let a=Array(r),i=Array(r),s=0;for(let r of e){const e=r.fields.find((e=>e.type===o.FieldType.time));if(!e)continue;t||(t=e);const l=e.values;for(let t of r.fields)if(t!==e&&t.type===o.FieldType.number){const e=t.values;for(let t=0;t<l.length;t++,s++)a[s]=l[t],i[s]=e[t];n||(n=t)}}return{xField:t,yField:n,xs:a,ys:i}}var Ie=(e=>(e.Name="field.name",e.Value="field.value",e.Label="field.label",e.Ignore="__ignore",e))(Ie||{});o.ReducerID.allValues,o.ReducerID.allValues,o.ReducerID.allValues;function je(e){const t=(0,o.anyToNumber)(e);if(!isNaN(t))return t}function Fe(e,t){const n=function(e,t){if(e&&t?.length)for(let n=0;n<e.fields.length;n++){const r=e.fields[n];if(t===r.name)return n;if(t===(0,o.getFieldDisplayName)(r,e))return n}}(e,t);return null==n?void 0:e.fields[n]}o.DataTransformerID.configFromData;var Me=(e=>(e.JSON="json",e.KeyValues="kvp",e.Auto="auto",e))(Me||{});const Le=[{id:Me.JSON,name:"JSON",description:"Parse JSON string",parse:e=>JSON.parse(e)},{id:Me.KeyValues,name:"Key+value pairs",description:"Look for a=b, c: d values in the line",parse:function(e){const t=[];let n="",r="";const o={};for(let a=0;a<e.length;a++){let i=e[a];i===n&&(n="",i=e[++a]);const s="\\"===i;if(s&&(i=e[++a]),s||n.length)t.push(i);else switch('"'!==i&&"'"!==i||(n=i),i){case":":case"=":t.length&&(r&&(o[r]=""),r=t.join(""),t.length=0);break;case'"':case"'":case" ":case"\n":case"\t":case"\r":case"\n":t.length&&""===r&&(o[t.join("")]="",t.length=0);case",":case";":case"&":case"{":case"}":if(t.length){const e=t.join("");r.length?(o[r]=e,r=""):r=e,t.length=0}break;default:t.push(i),a===e.length-1&&""===r&&t.length&&(o[t.join("")]="",t.length=0)}}return r.length&&(o[r]=t.join("")),o}}],Ne={id:Me.Auto,name:"Auto",description:"parse new fields automatically",parse:e=>{for(const t of Le)try{const n=t.parse(e);if(null!=n)return n}catch{}}},Be=new o.Registry((()=>[...Le,Ne])),Ve={id:o.DataTransformerID.extractFields,name:"Extract fields",description:"Parse fields from the contends of another",defaultOptions:{},operator:(e,t)=>n=>n.pipe((0,pe.T)((n=>Ve.transformer(e,t)(n)))),transformer:e=>t=>t.map((t=>function(e,t){if(!t.source)return e;const n=Fe(e,t.source);if(!n)return e;const r=Be.getIfExists(t.format??Me.Auto);if(!r)throw new Error("unkonwn extractor");const a=e.length,i=[],s=new Map;for(let e=0;e<a;e++){let o=n.values[e];if((0,fe.isString)(o))try{o=r.parse(o)}catch{o={}}if(null!=o){if(t.format===Me.JSON&&t.jsonPaths&&t.jsonPaths?.length>0){const e={},n=t.jsonPaths.filter((e=>e.path));n.length>0&&(n.forEach((t=>{const n=t.alias&&t.alias.length>0?t.alias:t.path;e[n]=(0,fe.get)(o,t.path)??"Not Found"})),o=e)}for(const[t,n]of Object.entries(o)){let r=s.get(t);null==r&&(r=new Array(a),s.set(t,r),i.push(t)),r[e]=n}}}const l=i.map((e=>{const t=s.get(e);return{name:e,values:t,type:t?(0,o.getFieldTypeFromValue)(t.find((e=>null!=e))):o.FieldType.other,config:{}}}));if(t.keepTime){const t=Fe(e,"Time")||Fe(e,"time");t&&l.unshift(t)}return t.replace||l.unshift(...e.fields),{...e,fields:l}}(t,e)))},ze={id:o.DataTransformerID.joinByLabels,name:"Join by labels",description:"Flatten labeled results into a table joined by labels.",defaultOptions:{},operator:(e,t)=>n=>n.pipe((0,pe.T)((n=>ze.transformer(e,t)(n)))),transformer:e=>t=>t&&t.length?[$e(e,t)]:t};function $e(e,t){if(!e.value?.length)return Ue("No value labele configured");const n=function(e){const t=new Set;for(const n of e)for(const e of n.fields)if(e.labels)for(const n of Object.keys(e.labels))t.add(n);return t}(t);if(n.size<1)return Ue("No labels in result");if(!n.has(e.value))return Ue("Value label not found");let r=e.join?.length?e.join:Array.from(n);r=r.filter((t=>t!==e.value));const a=new Set,i=new Map,s={};for(const n of t)for(const t of n.fields)if(t.labels&&t.type!==o.FieldType.time){const n=r.map((e=>t.labels[e])),o=n.join(",");let l=i.get(o);l||(l={keys:n,values:{}},i.set(o,l));const c=t.labels[e.value],u=t.values,d=l.values[c];l.values[c]=d?d.concat(u):u,s[c]||(s[c]=t),a.add(c)}const l=Array.from(a),c=r.map((()=>[])),u=l.map((()=>[]));for(const e of i.values()){let t=-1,n=!1;for(;!n;){t++,n=!0;for(let t=0;t<r.length;t++)c[t].push(e.keys[t]);for(let r=0;r<l.length;r++){const o=l[r],a=e.values[o]??[];u[r].push(a[t]),a.length>t+1&&(n=!1)}}}const d={fields:[],length:u[0].length};for(let e=0;e<r.length;e++)d.fields.push({name:r[e],config:{},type:o.FieldType.string,values:c[e]});for(let e=0;e<l.length;e++){const t=s[l[e]];d.fields.push({name:l[e],config:{},type:t.type??o.FieldType.number,values:u[e]})}return d}function Ue(e){return{meta:{notices:[{severity:"error",text:e}]},fields:[{name:"Error",type:o.FieldType.string,config:{},values:[e]}],length:0}}const He=(e,t,n=[])=>(0===t?n.push(e):e.forEach((e=>{He(e,t-1,n)})),n),qe=o.standardTransformers.noopTransformer,Ge={asLabels:!0,append:!1,withNames:!1,separator1:"=",separator2:" "},We={id:o.DataTransformerID.partitionByValues,name:"Partition by values",description:"Splits a one-frame dataset into multiple series discriminated by unique/enum values in one or more fields.",defaultOptions:{},operator:(e,t)=>n=>n.pipe((0,le.map)((n=>We.transformer(e,t)(n)))),transformer:(e,t)=>{const n=((e,t)=>{if(!t)return;const{names:n,pattern:r,variable:a}=t;return Array.isArray(n)&&0!==n.length||r?r?Array.isArray(n)&&0!==n.length?{id:o.FieldMatcherID.byRegexpOrNames,options:t}:{id:o.FieldMatcherID.byRegexp,options:r}:{id:o.FieldMatcherID.byNames,options:{names:n}}:void 0})(0,{names:e.fields});if(!n)return qe.transformer({},t);const r=(0,o.getFieldMatcher)(n);return t=>t.length?Qe(t[0],r,e):t}};function Qe(e,t,n){const r=e.fields.filter((n=>t(n,e,[e])));if(!r.length)return[e];const o=r.map((e=>e.values)),a=r.map((e=>e.name)),i={...Ge,...n?.naming};return function(e){const t=e[0].length,n=e.length,r=new Map;for(let o=0;o<t;o++){let t=r;for(let r=0;r<n;r++){let a=e[r][o],i=t.get(a);null==i&&(i=r===n-1?[]:new Map,t.set(a,i)),t=i}t.push(o)}return He(r,n)}(o).map((t=>{let s=e.name,l={};if(i.asLabels)l=function(e,t){const n={};return e.forEach(((e,r)=>{n[e]=String(t[r])})),n}(a,r.map(((e,n)=>o[n][t[0]])));else{let n=function(e,t,n){return t.map(((t,r)=>e.withNames?`${t}${e.separator1}${n[r]}`:n[r])).join(e.separator2)}(i,a,r.map(((e,n)=>o[n][t[0]])));i?.append&&e.name&&(n=`${e.name} ${n}`),s=n}let c=e.fields;if(!n?.keepFields){const t=new Set(a);c=e.fields.filter((e=>!t.has(e.name)))}return{name:s,meta:e.meta,length:t.length,fields:c.map((e=>{const n=e.values,r=Array(t.length);for(let e=0;e<t.length;e++)r[e]=n[t[e]];return{name:e.name,type:e.type,config:e.config,labels:{...e.labels,...l},values:r}}))}}))}function Ye(e){if(!Array.isArray(e)||0===e.length)return e;const t=[];for(const n of Xe(e)){const e=n.fields[0];if(!e||e.type!==o.FieldType.time)continue;const r=[],a=[];for(const e of n.fields)switch(e.type){case o.FieldType.number:case o.FieldType.boolean:r.push(e);break;case o.FieldType.string:a.push(e)}for(const i of r)if(a.length){const r=new Map;for(let t=0;t<n.length;t++){const n=e.values[t],o=i.values[t];if(void 0===o||null==n)continue;const s=a.map((e=>e.values[t])).join("/");let l=r.get(s);if(!l){l={key:s,time:[],value:[],labels:{}};for(const e of a)l.labels[e.name]=e.values[t];r.set(s,l)}l.time.push(n),l.value.push(o)}for(const a of r.values())t.push({name:n.name,refId:n.refId,meta:{...n.meta,type:o.DataFrameType.TimeSeriesMulti},fields:[{...e,values:a.time},{...i,values:a.value,labels:a.labels}],length:a.time.length})}else t.push({name:n.name,refId:n.refId,meta:{...n.meta,type:o.DataFrameType.TimeSeriesMulti},fields:[e,i],length:n.length})}return t}function Xe(e){if(!Array.isArray(e)||0===e.length)return e;const t=[];for(const n of e){let e;const r=[],a={},i={},s={},l={};for(let t=0;t<n.fields.length;t++){const c=n.fields[t];switch(c.type){case o.FieldType.string:case o.FieldType.boolean:c.name in l||(l[c.name]=t,i[c.name]=!0);break;case o.FieldType.time:if(!e){e=c;break}default:if(c.name in a){const e=a[c.name];if(c.type!==e)continue}else a[c.name]=c.type,r.push(c.name);const n=JSON.stringify(c.labels),u=s[n];if(void 0!==u?u.push(t):s[n]=[t],null!=c.labels)for(const e in c.labels)i[e]=!0}}if(!e)continue;const c=[],u=[],d=[],p=[];for(let t=0;t<n.length;t++)c.push({time:e.values[t],wideRowIndex:t});for(const e in s)u.push(e);for(const e in i)d.push(e);for(const e in l)p.push(e);c.sort(((e,t)=>e.time-t.time)),u.sort(),d.sort(),r.sort();const f=new o.MutableDataFrame({...n,meta:{...n.meta,type:o.DataFrameType.TimeSeriesLong},fields:[{name:e.name,type:e.type}]});for(const e of r)f.addField({name:e,type:a[e]});for(const e of d)f.addField({name:e,type:o.FieldType.string});for(const t of c){const{time:r,wideRowIndex:o}=t;for(const t of u){const a={};for(const e of p)a[e]=n.fields[l[e]].values[o];let i=0;for(const e of s[t]){const t=n.fields[e];if(0==i++&&null!=t.labels)for(const e in t.labels)a[e]=t.labels[e];a[t.name]=t.values[o]}a[e.name]=r,f.add(a)}}t.push(f)}return t}function Ke(e){return Qe(e,(e=>e.type===o.FieldType.string)).map((e=>(e.meta||(e.meta={}),e.meta.type=o.DataFrameType.TimeSeriesMulti,e)))}const Ze={id:o.DataTransformerID.prepareTimeSeries,name:"Prepare time series",description:"Will stretch data frames from the wide format into the long format. This is really helpful to be able to keep backwards compatibility for panels not supporting the new wide format.",defaultOptions:{},operator:(e,t)=>n=>n.pipe((0,pe.T)((n=>Ze.transformer(e,t)(n)))),transformer:e=>{const t=e?.format??"wide";if("many"===t||"multi"===t)return Ye;if("long"===t)return Xe;const n=o.fieldMatchers.get(o.FieldMatcherID.firstTimeField).get({});return e=>{if(!e.length)return[];const t=[];for(const n of e)n.meta?.type===o.DataFrameType.TimeSeriesLong?Ke(n).forEach((e=>t.push(e))):t.push(n);const r=(0,o.outerJoinDataFrames)({frames:t,joinBy:n,keepOriginIndices:!0});return r?(r.meta||(r.meta={}),r.meta.type=o.DataFrameType.TimeSeriesWide,[r]):[]}}};o.DataTransformerID.rowsToFields,o.DataTransformerID.timeSeriesTable;let Je={};const et=new o.Registry((()=>[{id:de.Lucene,name:"Lucene",description:"Values are lucene escaped and multi-valued variables generate an OR expression",formatter:e=>"string"==typeof e?tt(e):Array.isArray(e)?0===e.length?"__empty__":"("+(0,fe.map)(e,(e=>'"'+tt(e)+'"')).join(" OR ")+")":tt(`${e}`)},{id:de.Raw,name:"raw",description:"Keep value as is",formatter:e=>String(e)},{id:de.Regex,name:"Regex",description:"Values are regex escaped and multi-valued variables generate a (<value>|<value>) expression",formatter:e=>{if("string"==typeof e)return(0,o.escapeRegex)(e);if(Array.isArray(e)){const t=e.map((e=>(0,o.escapeRegex)("string"==typeof e?e:String(e))));return 1===t.length?t[0]:"("+t.join("|")+")"}return(0,o.escapeRegex)(`${e}`)}},{id:de.Pipe,name:"Pipe",description:"Values are separated by | character",formatter:e=>"string"==typeof e?e:Array.isArray(e)?e.join("|"):`${e}`},{id:de.Distributed,name:"Distributed",description:"Multiple values are formatted like variable=value",formatter:(e,t,n)=>"string"==typeof e?e:Array.isArray(e)?(e=(0,fe.map)(e,((e,t)=>0!==t?n.state.name+"="+e:e))).join(","):`${e}`},{id:de.CSV,name:"Csv",description:"Comma-separated values",formatter:e=>"string"==typeof e?e:(0,fe.isArray)(e)?e.join(","):String(e)},{id:de.HTML,name:"HTML",description:"HTML escaping of values",formatter:e=>"string"==typeof e?o.textUtil.escapeHtml(e):(0,fe.isArray)(e)?o.textUtil.escapeHtml(e.join(", ")):o.textUtil.escapeHtml(String(e))},{id:de.JSON,name:"JSON",description:"JSON stringify value",formatter:e=>"string"==typeof e?e:JSON.stringify(e)},{id:de.PercentEncode,name:"Percent encode",description:"Useful for URL escaping values",formatter:e=>(0,fe.isArray)(e)?nt("{"+e.join(",")+"}"):nt(e)},{id:de.SingleQuote,name:"Single quote",description:"Single quoted values",formatter:e=>{const t=new RegExp("'","g");if((0,fe.isArray)(e))return(0,fe.map)(e,(e=>`'${(0,fe.replace)(e,t,"\\'")}'`)).join(",");let n="string"==typeof e?e:String(e);return`'${(0,fe.replace)(n,t,"\\'")}'`}},{id:de.DoubleQuote,name:"Double quote",description:"Double quoted values",formatter:e=>{const t=new RegExp('"',"g");if((0,fe.isArray)(e))return(0,fe.map)(e,(e=>`"${(0,fe.replace)(e,t,'\\"')}"`)).join(",");let n="string"==typeof e?e:String(e);return`"${(0,fe.replace)(n,t,'\\"')}"`}},{id:de.SQLString,name:"SQL string",description:"SQL string quoting and commas for use in IN statements and other scenarios",formatter:st},{id:de.Date,name:"Date",description:"Format date in different ways",formatter:(e,t)=>{let n=NaN;if("number"==typeof e?n=e:"string"==typeof e&&(n=parseInt(e,10)),isNaN(n))return"NaN";const r=t[0]??"iso";switch(r){case"ms":return String(e);case"seconds":return`${Math.round(n/1e3)}`;case"iso":return(0,o.dateTime)(n).toISOString();default:return(t||[]).length>1?(0,o.dateTime)(n).format(t.join(":")):(0,o.dateTime)(n).format(r)}}},{id:de.Glob,name:"Glob",description:"Format multi-valued variables using glob syntax, example {value1,value2}",formatter:e=>(0,fe.isArray)(e)&&e.length>1?"{"+e.join(",")+"}":String(e)},{id:de.Text,name:"Text",description:"Format variables in their text representation. Example in multi-variable scenario A + B + C.",formatter:(e,t,n)=>n.getValueText?n.getValueText():String(e)},{id:de.QueryParam,name:"Query parameter",description:"Format variables as URL parameters. Example in multi-variable scenario A + B + C => var-foo=A&var-foo=B&var-foo=C.",formatter:(e,t,n)=>Array.isArray(e)?e.map((e=>at(n.state.name,e))).join("&"):at(n.state.name,e)},{id:de.UriEncode,name:"Percent encode as URI",description:"Useful for URL escaping values, taking into URI syntax characters",formatter:e=>(0,fe.isArray)(e)?rt("{"+e.join(",")+"}"):rt(e)}]));function tt(e){return!1===isNaN(+e)?e:e.replace(/([\!\*\+\-\=<>\s\&\|\(\)\[\]\{\}\^\~\?\:\\/"])/g,"\\$1")}function nt(e){return"object"==typeof e&&(e=String(e)),ot(encodeURIComponent(e))}const rt=e=>ot(encodeURI(String(e))),ot=e=>e.replace(/[!'()*]/g,(e=>"%"+e.charCodeAt(0).toString(16).toUpperCase()));function at(e,t){return`var-${e}=${nt(t)}`}const it={"'":"''",'"':'\\"'};function st(e){const t=new RegExp("'|\"","g");if((0,fe.isArray)(e))return(0,fe.map)(e,(e=>`'${(0,fe.replace)(e,t,(e=>it[e]??""))}'`)).join(",");let n="string"==typeof e?e:String(e);return`'${(0,fe.replace)(n,t,(e=>it[e]??""))}'`}var lt=Object.defineProperty;class ct{constructor(e,t,n){(()=>{((e,t,n)=>{"state"in e?lt(e,"state",{enumerable:!0,configurable:!0,writable:!0,value:n}):e.state=n})(this,0,void 0)})(),this.state={name:e.name,value:t,text:n,type:e.type}}getValue(e){let{value:t}=this.state;return"string"===t||"number"===t||"boolean"===t?t:String(t)}getValueText(){const{value:e,text:t}=this.state;return"string"==typeof t?"$__all"===e?"All":t:Array.isArray(t)?t.join(" + "):(console.log("value",t),String(t))}}let ut;function dt(e,t,n,r){if(null==e)return"";if("adhoc"===(n=n||{}).type&&t!==de.QueryParam)return"";if(Array.isArray(e)||"object"!=typeof e||(e=`${e}`),"function"==typeof t)return t(e,n,dt);t||(t=de.Glob);let o=t.split(":");o.length>1?(t=o[0],o=o.slice(1)):o=[];let a=et.getIfExists(t);a||(console.error(`Variable format ${t} not found. Using glob format as fallback.`),a=et.get(de.Glob));const i=function(e,t,n){return ut?(ut.state.name=e.name,ut.state.type=e.type,ut.state.value=t,ut.state.text=n):ut=new ct(e,t,n),ut}(n,e,r??e);return a.formatter(e,o,i)}var pt=Object.defineProperty,ft=(e,t,n)=>(((e,t,n)=>{t in e?pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),ht=Object.defineProperty;new class{constructor(e){this.templateService=e,((e,t,n)=>{((e,t,n)=>{"regex"in e?ht(e,"regex",{enumerable:!0,configurable:!0,writable:!0,value:n}):e.regex=n})(this,0,n)})(0,0,be)}getVariableNames(e){let t;this.regex.lastIndex=0;const n=[];for(;t=this.regex.exec(e);)n.push(t[1]??t[4]);return n.length?n:[]}containsVariable(e,t=[]){if(!e)return!1;const n=this.getVariableNames(e);if(!n.length)return!1;for(const e of n){if(me.includes(e))return!0;if(t.includes(e))return!0}return!1}getUsedVariables(e,t=!1){return this.getVariableNames(e).filter((e=>!!t||!me.includes(e)))}replace(e,t,n,r,o){return e?this.templateService.replace(e,t,n,r,o):e??""}}(new class{constructor(){ft(this,"variables"),ft(this,"regex",be)}getVariableValue(e,t){return t?function(e){return Je[e]||(Je[e]=(0,fe.property)(e))}(t)(e.value):e.value}getVariableText(e,t){return e.value===t||"string"!=typeof t?e.text:t}replace(e,t,n,r,o){return this.variables=o,e?(this.regex.lastIndex=0,this._replaceWithVariableRegex(e,n,((e,n,o,a)=>{const i=this._evaluateVariableExpression(e,n,o,a,t);return r&&r.push({match:e,variableName:n,fieldPath:o,format:a,value:i,found:i!==e}),i}))):e??""}getVariableAtIndex(e){if(e&&this.variables)return this.variables?.[e]}_evaluateVariableExpression(e,t,n,r,o){const a=o?.[t];if(a){const e=this.getVariableValue(a,n),o=this.getVariableText(a,e);if(null!=e)return dt(e,r,this.getVariableAtIndex(t),o)}return e}_replaceWithVariableRegex(e,t,n){return this.regex.lastIndex=0,e.replace(this.regex,((e,r,o,a,i,s,l)=>n(e,r||o||i,s,a||l||t)))}});const gt=e=>`${e.source}:${e.name}`,mt=(e,t,n)=>{const r=Array.from(e),[o]=r.splice(t,1);return r.splice(n,0,o),r},bt=(e,t,n)=>t.name===n.name,vt=(e,t)=>((e,t)=>{for(let n=0;n<e.length;n+=1){const r=e[n],o=r.fields.find((e=>t(e,r)));if(o)return o}})(e,((e,n)=>bt(0,e,t))),yt=e=>({type:e,id:"",title:"",time:"",author:"",body:"",display:O.NONE,displayCount:null}),wt=(e,t)=>{const n=e.editor.id||"id",r=[];for(const e of t.fields)for(let t=0;t<e.values.length;t+=1)r[t]||(r[t]={}),r[t][e.name]=e.values[t];return r.reduce(((e,t)=>(e.set(t[n],t),e)),new Map)};class Et{typeString(e){return"string"==typeof e?e:""}getId(e){return e[this.config.id]}getTitle(e){return this.typeString(e[this.config.title])}getBody(e){return this.typeString(e[this.config.body])}getAuthor(e){return e[this.config.author]}getTime(e){const t=e[this.config.time];return"string"==typeof t&&(0,o.isValidDate)(t)||"number"==typeof t&&(0,o.dateTime)(t).isValid()?t:""}getPayload(e){return re({id:this.config.id?this.getId(e):void 0,title:this.config.title?this.getTitle(e):void 0,body:this.config.body?this.getBody(e):void 0,author:this.config.body?this.getAuthor(e):void 0,time:this.config.time?this.getTime(e):void 0})}createObject(e){return re({[this.config.id]:e.id,[this.config.title]:e.title,[this.config.body]:e.body,[this.config.author]:e.author,[this.config.time]:e.time})}createNewPayload(){const e={};return this.config.title&&(e.title=""),this.config.body&&(e.body=""),e}constructor(e){var t,n;n=void 0,(t="config")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.config=e}}const St=(e,{series:t,user:n})=>{if(!e.enabled)return!1;switch(e.permission.mode){case R.ALLOWED:return!0;case R.USER_ROLE:return((e,t)=>e.userRole.includes(t.orgRole))(e.permission,n);case R.QUERY:return((e,t)=>{if(!e.field)return!1;const n=vt(t,e.field);return!!n&&!!n.values[n.values.length-1]})(e.permission,t)}};var Ct=m(8531);function xt(e,t){return"function"==typeof e?e(t):e}function Ot(e,t){return n=>{t.setState((t=>({...t,[e]:xt(n,t[e])})))}}function At(e){return e instanceof Function}function Dt(e,t){const n=[],r=e=>{e.forEach((e=>{n.push(e);const o=t(e);null!=o&&o.length&&r(o)}))};return r(e),n}function Rt(e,t,n){let r,o=[];return a=>{let i;n.key&&n.debug&&(i=Date.now());const s=e(a),l=s.length!==o.length||s.some(((e,t)=>o[t]!==e));if(!l)return r;let c;if(o=s,n.key&&n.debug&&(c=Date.now()),r=t(...s),null==n||null==n.onChange||n.onChange(r),n.key&&n.debug&&null!=n&&n.debug()){const e=Math.round(100*(Date.now()-i))/100,t=Math.round(100*(Date.now()-c))/100,r=t/16,o=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c ${o(t,5)} /${o(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return r}}function _t(e,t,n,r){return{debug:()=>{var n;return null!=(n=null==e?void 0:e.debugAll)?n:e[t]},key:!1,onChange:r}}const kt="debugHeaders";function Pt(e,t,n){var r;let o={id:null!=(r=n.id)?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[],t=n=>{n.subHeaders&&n.subHeaders.length&&n.subHeaders.map(t),e.push(n)};return t(o),e},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach((t=>{null==t.createHeader||t.createHeader(o,e)})),o}const Tt={createTable:e=>{e.getHeaderGroups=Rt((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,o)=>{var a,i;const s=null!=(a=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?a:[],l=null!=(i=null==o?void 0:o.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?i:[];return It(t,[...s,...n.filter((e=>!(null!=r&&r.includes(e.id)||null!=o&&o.includes(e.id)))),...l],e)}),_t(e.options,kt)),e.getCenterHeaderGroups=Rt((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,o)=>It(t,n=n.filter((e=>!(null!=r&&r.includes(e.id)||null!=o&&o.includes(e.id)))),e,"center")),_t(e.options,kt)),e.getLeftHeaderGroups=Rt((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left]),((t,n,r)=>{var o;return It(t,null!=(o=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?o:[],e,"left")}),_t(e.options,kt)),e.getRightHeaderGroups=Rt((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right]),((t,n,r)=>{var o;return It(t,null!=(o=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?o:[],e,"right")}),_t(e.options,kt)),e.getFooterGroups=Rt((()=>[e.getHeaderGroups()]),(e=>[...e].reverse()),_t(e.options,kt)),e.getLeftFooterGroups=Rt((()=>[e.getLeftHeaderGroups()]),(e=>[...e].reverse()),_t(e.options,kt)),e.getCenterFooterGroups=Rt((()=>[e.getCenterHeaderGroups()]),(e=>[...e].reverse()),_t(e.options,kt)),e.getRightFooterGroups=Rt((()=>[e.getRightHeaderGroups()]),(e=>[...e].reverse()),_t(e.options,kt)),e.getFlatHeaders=Rt((()=>[e.getHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),_t(e.options,kt)),e.getLeftFlatHeaders=Rt((()=>[e.getLeftHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),_t(e.options,kt)),e.getCenterFlatHeaders=Rt((()=>[e.getCenterHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),_t(e.options,kt)),e.getRightFlatHeaders=Rt((()=>[e.getRightHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),_t(e.options,kt)),e.getCenterLeafHeaders=Rt((()=>[e.getCenterFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),_t(e.options,kt)),e.getLeftLeafHeaders=Rt((()=>[e.getLeftFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),_t(e.options,kt)),e.getRightLeafHeaders=Rt((()=>[e.getRightFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),_t(e.options,kt)),e.getLeafHeaders=Rt((()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()]),((e,t,n)=>{var r,o,a,i,s,l;return[...null!=(r=null==(o=e[0])?void 0:o.headers)?r:[],...null!=(a=null==(i=t[0])?void 0:i.headers)?a:[],...null!=(s=null==(l=n[0])?void 0:l.headers)?s:[]].map((e=>e.getLeafHeaders())).flat()}),_t(e.options,kt))}};function It(e,t,n,r){var o,a;let i=0;const s=function(e,t){void 0===t&&(t=1),i=Math.max(i,t),e.filter((e=>e.getIsVisible())).forEach((e=>{var n;null!=(n=e.columns)&&n.length&&s(e.columns,t+1)}),0)};s(e);let l=[];const c=(e,t)=>{const o={depth:t,id:[r,`${t}`].filter(Boolean).join("_"),headers:[]},a=[];e.forEach((e=>{const i=[...a].reverse()[0];let s,l=!1;if(e.column.depth===o.depth&&e.column.parent?s=e.column.parent:(s=e.column,l=!0),i&&(null==i?void 0:i.column)===s)i.subHeaders.push(e);else{const o=Pt(n,s,{id:[r,t,s.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:l,placeholderId:l?`${a.filter((e=>e.column===s)).length}`:void 0,depth:t,index:a.length});o.subHeaders.push(e),a.push(o)}o.headers.push(e),e.headerGroup=o})),l.push(o),t>0&&c(a,t-1)},u=t.map(((e,t)=>Pt(n,e,{depth:i,index:t})));c(u,i-1),l.reverse();const d=e=>e.filter((e=>e.column.getIsVisible())).map((e=>{let t=0,n=0,r=[0];return e.subHeaders&&e.subHeaders.length?(r=[],d(e.subHeaders).forEach((e=>{let{colSpan:n,rowSpan:o}=e;t+=n,r.push(o)}))):t=1,n+=Math.min(...r),e.colSpan=t,e.rowSpan=n,{colSpan:t,rowSpan:n}}));return d(null!=(o=null==(a=l[0])?void 0:a.headers)?o:[]),l}const jt=(e,t,n,r,o,a,i)=>{let s={id:t,index:r,original:n,depth:o,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(s._valuesCache.hasOwnProperty(t))return s._valuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?(s._valuesCache[t]=n.accessorFn(s.original,r),s._valuesCache[t]):void 0},getUniqueValues:t=>{if(s._uniqueValuesCache.hasOwnProperty(t))return s._uniqueValuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?n.columnDef.getUniqueValues?(s._uniqueValuesCache[t]=n.columnDef.getUniqueValues(s.original,r),s._uniqueValuesCache[t]):(s._uniqueValuesCache[t]=[s.getValue(t)],s._uniqueValuesCache[t]):void 0},renderValue:t=>{var n;return null!=(n=s.getValue(t))?n:e.options.renderFallbackValue},subRows:null!=a?a:[],getLeafRows:()=>Dt(s.subRows,(e=>e.subRows)),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let e=[],t=s;for(;;){const n=t.getParentRow();if(!n)break;e.push(n),t=n}return e.reverse()},getAllCells:Rt((()=>[e.getAllLeafColumns()]),(t=>t.map((t=>function(e,t,n,r){const o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:()=>{var t;return null!=(t=o.getValue())?t:e.options.renderFallbackValue},getContext:Rt((()=>[e,n,t,o]),((e,t,n,r)=>({table:e,column:t,row:n,cell:r,getValue:r.getValue,renderValue:r.renderValue})),_t(e.options,"debugCells"))};return e._features.forEach((r=>{null==r.createCell||r.createCell(o,n,t,e)}),{}),o}(e,s,t,t.id)))),_t(e.options,"debugRows")),_getAllCellsByColumnId:Rt((()=>[s.getAllCells()]),(e=>e.reduce(((e,t)=>(e[t.column.id]=t,e)),{})),_t(e.options,"debugRows"))};for(let t=0;t<e._features.length;t++){const n=e._features[t];null==n||null==n.createRow||n.createRow(s,e)}return s},Ft={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Mt=(e,t,n)=>{var r,o;const a=null==n||null==(r=n.toString())?void 0:r.toLowerCase();return Boolean(null==(o=e.getValue(t))||null==(o=o.toString())||null==(o=o.toLowerCase())?void 0:o.includes(a))};Mt.autoRemove=e=>Gt(e);const Lt=(e,t,n)=>{var r;return Boolean(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.includes(n))};Lt.autoRemove=e=>Gt(e);const Nt=(e,t,n)=>{var r;return(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.toLowerCase())===(null==n?void 0:n.toLowerCase())};Nt.autoRemove=e=>Gt(e);const Bt=(e,t,n)=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)};Bt.autoRemove=e=>Gt(e)||!(null!=e&&e.length);const Vt=(e,t,n)=>!n.some((n=>{var r;return!(null!=(r=e.getValue(t))&&r.includes(n))}));Vt.autoRemove=e=>Gt(e)||!(null!=e&&e.length);const zt=(e,t,n)=>n.some((n=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)}));zt.autoRemove=e=>Gt(e)||!(null!=e&&e.length);const $t=(e,t,n)=>e.getValue(t)===n;$t.autoRemove=e=>Gt(e);const Ut=(e,t,n)=>e.getValue(t)==n;Ut.autoRemove=e=>Gt(e);const Ht=(e,t,n)=>{let[r,o]=n;const a=e.getValue(t);return a>=r&&a<=o};Ht.resolveFilterValue=e=>{let[t,n]=e,r="number"!=typeof t?parseFloat(t):t,o="number"!=typeof n?parseFloat(n):n,a=null===t||Number.isNaN(r)?-1/0:r,i=null===n||Number.isNaN(o)?1/0:o;if(a>i){const e=a;a=i,i=e}return[a,i]},Ht.autoRemove=e=>Gt(e)||Gt(e[0])&&Gt(e[1]);const qt={includesString:Mt,includesStringSensitive:Lt,equalsString:Nt,arrIncludes:Bt,arrIncludesAll:Vt,arrIncludesSome:zt,equals:$t,weakEquals:Ut,inNumberRange:Ht};function Gt(e){return null==e||""===e}const Wt={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Ot("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"string"==typeof r?qt.includesString:"number"==typeof r?qt.inNumberRange:"boolean"==typeof r||null!==r&&"object"==typeof r?qt.equals:Array.isArray(r)?qt.arrIncludes:qt.weakEquals},e.getFilterFn=()=>{var n,r;return At(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(n=null==(r=t.options.filterFns)?void 0:r[e.columnDef.filterFn])?n:qt[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return(null==(n=e.columnDef.enableColumnFilter)||n)&&(null==(r=t.options.enableColumnFilters)||r)&&(null==(o=t.options.enableFilters)||o)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return null==(n=t.getState().columnFilters)||null==(n=n.find((t=>t.id===e.id)))?void 0:n.value},e.getFilterIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().columnFilters)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.setFilterValue=n=>{t.setColumnFilters((t=>{const r=e.getFilterFn(),o=null==t?void 0:t.find((t=>t.id===e.id)),a=xt(n,o?o.value:void 0);var i;if(Qt(r,a,e))return null!=(i=null==t?void 0:t.filter((t=>t.id!==e.id)))?i:[];const s={id:e.id,value:a};var l;return o?null!=(l=null==t?void 0:t.map((t=>t.id===e.id?s:t)))?l:[]:null!=t&&t.length?[...t,s]:[s]}))}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange((e=>{var r;return null==(r=xt(t,e))?void 0:r.filter((e=>{const t=n.find((t=>t.id===e.id));return!t||!Qt(t.getFilterFn(),e.value,t)}))}))},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.columnFilters)?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Qt(e,t,n){return!(!e||!e.autoRemove)&&e.autoRemove(t,n)||void 0===t||"string"==typeof t&&!t}const Yt={sum:(e,t,n)=>n.reduce(((t,n)=>{const r=n.getValue(e);return t+("number"==typeof r?r:0)}),0),min:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r>n||void 0===r&&n>=n)&&(r=n)})),r},max:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r<n||void 0===r&&n>=n)&&(r=n)})),r},extent:(e,t,n)=>{let r,o;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(void 0===r?n>=n&&(r=o=n):(r>n&&(r=n),o<n&&(o=n)))})),[r,o]},mean:(e,t)=>{let n=0,r=0;if(t.forEach((t=>{let o=t.getValue(e);null!=o&&(o=+o)>=o&&(++n,r+=o)})),n)return r/n},median:(e,t)=>{if(!t.length)return;const n=t.map((t=>t.getValue(e)));if(r=n,!Array.isArray(r)||!r.every((e=>"number"==typeof e)))return;var r;if(1===n.length)return n[0];const o=Math.floor(n.length/2),a=n.sort(((e,t)=>e-t));return n.length%2!=0?a[o]:(a[o-1]+a[o])/2},unique:(e,t)=>Array.from(new Set(t.map((t=>t.getValue(e)))).values()),uniqueCount:(e,t)=>new Set(t.map((t=>t.getValue(e)))).size,count:(e,t)=>t.length},Xt={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return null!=(t=null==(n=e.getValue())||null==n.toString?void 0:n.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Ot("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping((t=>null!=t&&t.includes(e.id)?t.filter((t=>t!==e.id)):[...null!=t?t:[],e.id]))},e.getCanGroup=()=>{var n,r;return(null==(n=e.columnDef.enableGrouping)||n)&&(null==(r=t.options.enableGrouping)||r)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"number"==typeof r?Yt.sum:"[object Date]"===Object.prototype.toString.call(r)?Yt.extent:void 0},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return At(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(n=null==(r=t.options.aggregationFns)?void 0:r[e.columnDef.aggregationFn])?n:Yt[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.grouping)?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return null!=r&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!(null==(t=n.subRows)||!t.length)}}},Kt={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Ot("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Rt((e=>[on(t,e)]),(t=>t.findIndex((t=>t.id===e.id))),_t(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return(null==(r=on(t,n)[0])?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=on(t,n);return(null==(r=o[o.length-1])?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:null!=(n=e.initialState.columnOrder)?n:[])},e._getOrderColumnsFn=Rt((()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode]),((e,t,n)=>r=>{let o=[];if(null!=e&&e.length){const t=[...e],n=[...r];for(;n.length&&t.length;){const e=t.shift(),r=n.findIndex((t=>t.id===e));r>-1&&o.push(n.splice(r,1)[0])}o=[...o,...n]}else o=r;return function(e,t,n){if(null==t||!t.length||!n)return e;const r=e.filter((e=>!t.includes(e.id)));return"remove"===n?r:[...t.map((t=>e.find((e=>e.id===t)))).filter(Boolean),...r]}(o,t,n)}),_t(e.options,"debugTable"))}},Zt={getInitialState:e=>({columnPinning:{left:[],right:[]},...e}),getDefaultOptions:e=>({onColumnPinningChange:Ot("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map((e=>e.id)).filter(Boolean);t.setColumnPinning((e=>{var t,o,a,i,s,l;return"right"===n?{left:(null!=(a=null==e?void 0:e.left)?a:[]).filter((e=>!(null!=r&&r.includes(e)))),right:[...(null!=(i=null==e?void 0:e.right)?i:[]).filter((e=>!(null!=r&&r.includes(e)))),...r]}:"left"===n?{left:[...(null!=(s=null==e?void 0:e.left)?s:[]).filter((e=>!(null!=r&&r.includes(e)))),...r],right:(null!=(l=null==e?void 0:e.right)?l:[]).filter((e=>!(null!=r&&r.includes(e))))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter((e=>!(null!=r&&r.includes(e)))),right:(null!=(o=null==e?void 0:e.right)?o:[]).filter((e=>!(null!=r&&r.includes(e))))}}))},e.getCanPin=()=>e.getLeafColumns().some((e=>{var n,r,o;return(null==(n=e.columnDef.enablePinning)||n)&&(null==(r=null!=(o=t.options.enableColumnPinning)?o:t.options.enablePinning)||r)})),e.getIsPinned=()=>{const n=e.getLeafColumns().map((e=>e.id)),{left:r,right:o}=t.getState().columnPinning,a=n.some((e=>null==r?void 0:r.includes(e))),i=n.some((e=>null==o?void 0:o.includes(e)));return a?"left":!!i&&"right"},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?null!=(n=null==(r=t.getState().columnPinning)||null==(r=r[o])?void 0:r.indexOf(e.id))?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Rt((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.column.id)))}),_t(t.options,"debugRows")),e.getLeftVisibleCells=Rt((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"left"})))),_t(t.options,"debugRows")),e.getRightVisibleCells=Rt((()=>[e._getAllVisibleCells(),t.getState().columnPinning.right]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"right"})))),_t(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?{left:[],right:[]}:null!=(n=null==(r=e.initialState)?void 0:r.columnPinning)?n:{left:[],right:[]})},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;var o,a;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(o=r.left)?void 0:o.length)||(null==(a=r.right)?void 0:a.length))},e.getLeftLeafColumns=Rt((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),_t(e.options,"debugColumns")),e.getRightLeafColumns=Rt((()=>[e.getAllLeafColumns(),e.getState().columnPinning.right]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),_t(e.options,"debugColumns")),e.getCenterLeafColumns=Rt((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.id)))}),_t(e.options,"debugColumns"))}},Jt={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},en={getDefaultColumnDef:()=>Jt,getInitialState:e=>({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]},...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ot("columnSizing",e),onColumnSizingInfoChange:Ot("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const a=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(n=e.columnDef.minSize)?n:Jt.minSize,null!=(r=null!=a?a:e.columnDef.size)?r:Jt.size),null!=(o=e.columnDef.maxSize)?o:Jt.maxSize)},e.getStart=Rt((e=>[e,on(t,e),t.getState().columnSizing]),((t,n)=>n.slice(0,e.getIndex(t)).reduce(((e,t)=>e+t.getSize()),0)),_t(t.options,"debugColumns")),e.getAfter=Rt((e=>[e,on(t,e),t.getState().columnSizing]),((t,n)=>n.slice(e.getIndex(t)+1).reduce(((e,t)=>e+t.getSize()),0)),_t(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing((t=>{let{[e.id]:n,...r}=t;return r}))},e.getCanResize=()=>{var n,r;return(null==(n=e.columnDef.enableResizing)||n)&&(null==(r=t.options.enableColumnResizing)||r)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0;const n=e=>{var r;e.subHeaders.length?e.subHeaders.forEach(n):t+=null!=(r=e.column.getSize())?r:0};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=null==r?void 0:r.getCanResize();return a=>{if(!r||!o)return;if(null==a.persist||a.persist(),nn(a)&&a.touches&&a.touches.length>1)return;const i=e.getSize(),s=e?e.getLeafHeaders().map((e=>[e.column.id,e.column.getSize()])):[[r.id,r.getSize()]],l=nn(a)?Math.round(a.touches[0].clientX):a.clientX,c={},u=(e,n)=>{"number"==typeof n&&(t.setColumnSizingInfo((e=>{var r,o;const a="rtl"===t.options.columnResizeDirection?-1:1,i=(n-(null!=(r=null==e?void 0:e.startOffset)?r:0))*a,s=Math.max(i/(null!=(o=null==e?void 0:e.startSize)?o:0),-.999999);return e.columnSizingStart.forEach((e=>{let[t,n]=e;c[t]=Math.round(100*Math.max(n+n*s,0))/100})),{...e,deltaOffset:i,deltaPercentage:s}})),"onChange"!==t.options.columnResizeMode&&"end"!==e||t.setColumnSizing((e=>({...e,...c}))))},d=e=>u("move",e),p=e=>{u("end",e),t.setColumnSizingInfo((e=>({...e,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]})))},f=n||"undefined"!=typeof document?document:null,h={moveHandler:e=>d(e.clientX),upHandler:e=>{null==f||f.removeEventListener("mousemove",h.moveHandler),null==f||f.removeEventListener("mouseup",h.upHandler),p(e.clientX)}},g={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1),upHandler:e=>{var t;null==f||f.removeEventListener("touchmove",g.moveHandler),null==f||f.removeEventListener("touchend",g.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),p(null==(t=e.touches[0])?void 0:t.clientX)}},m=!!function(){if("boolean"==typeof tn)return tn;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch(t){e=!1}return tn=e,tn}()&&{passive:!1};nn(a)?(null==f||f.addEventListener("touchmove",g.moveHandler,m),null==f||f.addEventListener("touchend",g.upHandler,m)):(null==f||f.addEventListener("mousemove",h.moveHandler,m),null==f||f.addEventListener("mouseup",h.upHandler,m)),t.setColumnSizingInfo((e=>({...e,startOffset:l,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:r.id})))}}},createTable:e=>{e.setColumnSizing=t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:null!=(n=e.initialState.columnSizing)?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(n=e.initialState.columnSizingInfo)?n:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},e.getTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getLeftTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getLeftHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getCenterTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getCenterHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getRightTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getRightHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0}}};let tn=null;function nn(e){return"touchstart"===e.type}const rn={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Ot("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility((t=>({...t,[e.id]:null!=n?n:!e.getIsVisible()})))},e.getIsVisible=()=>{var n,r;const o=e.columns;return null==(n=o.length?o.some((e=>e.getIsVisible())):null==(r=t.getState().columnVisibility)?void 0:r[e.id])||n},e.getCanHide=()=>{var n,r;return(null==(n=e.columnDef.enableHiding)||n)&&(null==(r=t.options.enableHiding)||r)},e.getToggleVisibilityHandler=()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Rt((()=>[e.getAllCells(),t.getState().columnVisibility]),(e=>e.filter((e=>e.column.getIsVisible()))),_t(t.options,"debugRows")),e.getVisibleCells=Rt((()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()]),((e,t,n)=>[...e,...t,...n]),_t(t.options,"debugRows"))},createTable:e=>{const t=(t,n)=>Rt((()=>[n(),n().filter((e=>e.getIsVisible())).map((e=>e.id)).join("_")]),(e=>e.filter((e=>null==e.getIsVisible?void 0:e.getIsVisible()))),_t(e.options,"debugColumns"));e.getVisibleFlatColumns=t(0,(()=>e.getAllFlatColumns())),e.getVisibleLeafColumns=t(0,(()=>e.getAllLeafColumns())),e.getLeftVisibleLeafColumns=t(0,(()=>e.getLeftLeafColumns())),e.getRightVisibleLeafColumns=t(0,(()=>e.getRightLeafColumns())),e.getCenterVisibleLeafColumns=t(0,(()=>e.getCenterLeafColumns())),e.setColumnVisibility=t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:null!=(n=e.initialState.columnVisibility)?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=null!=(n=t)?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce(((e,n)=>({...e,[n.id]:t||!(null!=n.getCanHide&&n.getCanHide())})),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some((e=>!(null!=e.getIsVisible&&e.getIsVisible()))),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some((e=>null==e.getIsVisible?void 0:e.getIsVisible())),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible(null==(n=t.target)?void 0:n.checked)}}};function on(e,t){return t?"center"===t?e.getCenterVisibleLeafColumns():"left"===t?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const an={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Ot("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(t){if(null!=(r=null!=(o=e.options.autoResetAll)?o:e.options.autoResetExpanded)?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue((()=>{e.resetExpanded(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setExpanded=t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),e.toggleAllRowsExpanded=t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=t=>{var n,r;e.setExpanded(t?{}:null!=(n=null==(r=e.initialState)?void 0:r.expanded)?n:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some((e=>e.getCanExpand())),e.getToggleAllRowsExpandedHandler=()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},e.getIsAllRowsExpanded=()=>{const t=e.getState().expanded;return"boolean"==typeof t?!0===t:!!Object.keys(t).length&&!e.getRowModel().flatRows.some((e=>!e.getIsExpanded()))},e.getExpandedDepth=()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach((e=>{const n=e.split(".");t=Math.max(t,n.length)})),t},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded((r=>{var o;const a=!0===r||!(null==r||!r[e.id]);let i={};if(!0===r?Object.keys(t.getRowModel().rowsById).forEach((e=>{i[e]=!0})):i=r,n=null!=(o=n)?o:!a,!a&&n)return{...i,[e.id]:!0};if(a&&!n){const{[e.id]:t,...n}=i;return n}return r}))},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!(null!=(n=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?n:!0===r||(null==r?void 0:r[e.id]))},e.getCanExpand=()=>{var n,r,o;return null!=(n=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?n:(null==(r=t.options.enableExpanding)||r)&&!(null==(o=e.subRows)||!o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},sn={getInitialState:e=>({...e,pagination:{pageIndex:0,pageSize:10,...null==e?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Ot("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(t){if(null!=(r=null!=(o=e.options.autoResetAll)?o:e.options.autoResetPageIndex)?r:!e.options.manualPagination){if(n)return;n=!0,e._queue((()=>{e.resetPageIndex(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setPagination=t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange((e=>xt(t,e))),e.resetPagination=t=>{var n;e.setPagination(t?{pageIndex:0,pageSize:10}:null!=(n=e.initialState.pagination)?n:{pageIndex:0,pageSize:10})},e.setPageIndex=t=>{e.setPagination((n=>{let r=xt(t,n.pageIndex);const o=void 0===e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,o)),{...n,pageIndex:r}}))},e.resetPageIndex=t=>{var n,r;e.setPageIndex(t?0:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageIndex)?n:0)},e.resetPageSize=t=>{var n,r;e.setPageSize(t?10:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageSize)?n:10)},e.setPageSize=t=>{e.setPagination((e=>{const n=Math.max(1,xt(t,e.pageSize)),r=e.pageSize*e.pageIndex,o=Math.floor(r/n);return{...e,pageIndex:o,pageSize:n}}))},e.setPageCount=t=>e.setPagination((n=>{var r;let o=xt(t,null!=(r=e.options.pageCount)?r:-1);return"number"==typeof o&&(o=Math.max(-1,o)),{...n,pageCount:o}})),e.getPageOptions=Rt((()=>[e.getPageCount()]),(e=>{let t=[];return e&&e>0&&(t=[...new Array(e)].fill(null).map(((e,t)=>t))),t}),_t(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:t}=e.getState().pagination,n=e.getPageCount();return-1===n||0!==n&&t<n-1},e.previousPage=()=>e.setPageIndex((e=>e-1)),e.nextPage=()=>e.setPageIndex((e=>e+1)),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var t;return null!=(t=e.options.rowCount)?t:e.getPrePaginationRowModel().rows.length}}},ln={getInitialState:e=>({rowPinning:{top:[],bottom:[]},...e}),getDefaultOptions:e=>({onRowPinningChange:Ot("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,o)=>{const a=r?e.getLeafRows().map((e=>{let{id:t}=e;return t})):[],i=o?e.getParentRows().map((e=>{let{id:t}=e;return t})):[],s=new Set([...i,e.id,...a]);t.setRowPinning((e=>{var t,r,o,a,i,l;return"bottom"===n?{top:(null!=(o=null==e?void 0:e.top)?o:[]).filter((e=>!(null!=s&&s.has(e)))),bottom:[...(null!=(a=null==e?void 0:e.bottom)?a:[]).filter((e=>!(null!=s&&s.has(e)))),...Array.from(s)]}:"top"===n?{top:[...(null!=(i=null==e?void 0:e.top)?i:[]).filter((e=>!(null!=s&&s.has(e)))),...Array.from(s)],bottom:(null!=(l=null==e?void 0:e.bottom)?l:[]).filter((e=>!(null!=s&&s.has(e))))}:{top:(null!=(t=null==e?void 0:e.top)?t:[]).filter((e=>!(null!=s&&s.has(e)))),bottom:(null!=(r=null==e?void 0:e.bottom)?r:[]).filter((e=>!(null!=s&&s.has(e))))}}))},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return"function"==typeof r?r(e):null==(n=null!=r?r:o)||n},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,a=n.some((e=>null==r?void 0:r.includes(e))),i=n.some((e=>null==o?void 0:o.includes(e)));return a?"top":!!i&&"bottom"},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const a=null==(n="top"===o?t.getTopRows():t.getBottomRows())?void 0:n.map((e=>{let{id:t}=e;return t}));return null!=(r=null==a?void 0:a.indexOf(e.id))?r:-1}},createTable:e=>{e.setRowPinning=t=>null==e.options.onRowPinningChange?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?{top:[],bottom:[]}:null!=(n=null==(r=e.initialState)?void 0:r.rowPinning)?n:{top:[],bottom:[]})},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;var o,a;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(o=r.top)?void 0:o.length)||(null==(a=r.bottom)?void 0:a.length))},e._getPinnedRows=(t,n,r)=>{var o;return(null==(o=e.options.keepPinnedRows)||o?(null!=n?n:[]).map((t=>{const n=e.getRow(t,!0);return n.getIsAllParentsExpanded()?n:null})):(null!=n?n:[]).map((e=>t.find((t=>t.id===e))))).filter(Boolean).map((e=>({...e,position:r})))},e.getTopRows=Rt((()=>[e.getRowModel().rows,e.getState().rowPinning.top]),((t,n)=>e._getPinnedRows(t,n,"top")),_t(e.options,"debugRows")),e.getBottomRows=Rt((()=>[e.getRowModel().rows,e.getState().rowPinning.bottom]),((t,n)=>e._getPinnedRows(t,n,"bottom")),_t(e.options,"debugRows")),e.getCenterRows=Rt((()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom]),((e,t,n)=>{const r=new Set([...null!=t?t:[],...null!=n?n:[]]);return e.filter((e=>!r.has(e.id)))}),_t(e.options,"debugRows"))}},cn={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Ot("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:null!=(n=e.initialState.rowSelection)?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection((n=>{t=void 0!==t?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach((e=>{e.getCanSelect()&&(r[e.id]=!0)})):o.forEach((e=>{delete r[e.id]})),r}))},e.toggleAllPageRowsSelected=t=>e.setRowSelection((n=>{const r=void 0!==t?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach((t=>{un(o,t.id,r,!0,e)})),o})),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Rt((()=>[e.getState().rowSelection,e.getCoreRowModel()]),((t,n)=>Object.keys(t).length?dn(e,n):{rows:[],flatRows:[],rowsById:{}}),_t(e.options,"debugTable")),e.getFilteredSelectedRowModel=Rt((()=>[e.getState().rowSelection,e.getFilteredRowModel()]),((t,n)=>Object.keys(t).length?dn(e,n):{rows:[],flatRows:[],rowsById:{}}),_t(e.options,"debugTable")),e.getGroupedSelectedRowModel=Rt((()=>[e.getState().rowSelection,e.getSortedRowModel()]),((t,n)=>Object.keys(t).length?dn(e,n):{rows:[],flatRows:[],rowsById:{}}),_t(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=Boolean(t.length&&Object.keys(n).length);return r&&t.some((e=>e.getCanSelect()&&!n[e.id]))&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter((e=>e.getCanSelect())),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some((e=>!n[e.id]))&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter((e=>e.getCanSelect())).some((e=>e.getIsSelected()||e.getIsSomeSelected()))},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection((a=>{var i;if(n=void 0!==n?n:!o,e.getCanSelect()&&o===n)return a;const s={...a};return un(s,e.id,n,null==(i=null==r?void 0:r.selectChildren)||i,t),s}))},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return pn(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return"some"===fn(e,n)},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return"all"===fn(e,n)},e.getCanSelect=()=>{var n;return"function"==typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(n=t.options.enableRowSelection)||n},e.getCanSelectSubRows=()=>{var n;return"function"==typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(n=t.options.enableSubRowSelection)||n},e.getCanMultiSelect=()=>{var n;return"function"==typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(n=t.options.enableMultiRowSelection)||n},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var r;t&&e.toggleSelected(null==(r=n.target)?void 0:r.checked)}}}},un=(e,t,n,r,o)=>{var a;const i=o.getRow(t,!0);n?(i.getCanMultiSelect()||Object.keys(e).forEach((t=>delete e[t])),i.getCanSelect()&&(e[t]=!0)):delete e[t],r&&null!=(a=i.subRows)&&a.length&&i.getCanSelectSubRows()&&i.subRows.forEach((t=>un(e,t.id,n,r,o)))};function dn(e,t){const n=e.getState().rowSelection,r=[],o={},a=function(e,t){return e.map((e=>{var t;const i=pn(e,n);if(i&&(r.push(e),o[e.id]=e),null!=(t=e.subRows)&&t.length&&(e={...e,subRows:a(e.subRows)}),i)return e})).filter(Boolean)};return{rows:a(t.rows),flatRows:r,rowsById:o}}function pn(e,t){var n;return null!=(n=t[e.id])&&n}function fn(e,t,n){var r;if(null==(r=e.subRows)||!r.length)return!1;let o=!0,a=!1;return e.subRows.forEach((e=>{if((!a||o)&&(e.getCanSelect()&&(pn(e,t)?a=!0:o=!1),e.subRows&&e.subRows.length)){const n=fn(e,t);"all"===n?a=!0:"some"===n?(a=!0,o=!1):o=!1}})),o?"all":!!a&&"some"}const hn=/([0-9]+)/gm;function gn(e,t){return e===t?0:e>t?1:-1}function mn(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}function bn(e,t){const n=e.split(hn).filter(Boolean),r=t.split(hn).filter(Boolean);for(;n.length&&r.length;){const e=n.shift(),t=r.shift(),o=parseInt(e,10),a=parseInt(t,10),i=[o,a].sort();if(isNaN(i[0])){if(e>t)return 1;if(t>e)return-1}else{if(isNaN(i[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}}return n.length-r.length}const vn={alphanumeric:(e,t,n)=>bn(mn(e.getValue(n)).toLowerCase(),mn(t.getValue(n)).toLowerCase()),alphanumericCaseSensitive:(e,t,n)=>bn(mn(e.getValue(n)),mn(t.getValue(n))),text:(e,t,n)=>gn(mn(e.getValue(n)).toLowerCase(),mn(t.getValue(n)).toLowerCase()),textCaseSensitive:(e,t,n)=>gn(mn(e.getValue(n)),mn(t.getValue(n))),datetime:(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},basic:(e,t,n)=>gn(e.getValue(n),t.getValue(n))},yn={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Ot("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const t of n){const n=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(n))return vn.datetime;if("string"==typeof n&&(r=!0,n.split(hn).length>1))return vn.alphanumeric}return r?vn.text:vn.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return"string"==typeof(null==n?void 0:n.getValue(e.id))?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return At(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(n=null==(r=t.options.sortingFns)?void 0:r[e.columnDef.sortingFn])?n:vn[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),a=null!=n;t.setSorting((i=>{const s=null==i?void 0:i.find((t=>t.id===e.id)),l=null==i?void 0:i.findIndex((t=>t.id===e.id));let c,u=[],d=a?n:"desc"===o;var p;return c=null!=i&&i.length&&e.getCanMultiSort()&&r?s?"toggle":"add":null!=i&&i.length&&l!==i.length-1?"replace":s?"toggle":"replace","toggle"===c&&(a||o||(c="remove")),"add"===c?(u=[...i,{id:e.id,desc:d}],u.splice(0,u.length-(null!=(p=t.options.maxMultiSortColCount)?p:Number.MAX_SAFE_INTEGER))):u="toggle"===c?i.map((t=>t.id===e.id?{...t,desc:d}:t)):"remove"===c?i.filter((t=>t.id!==e.id)):[{id:e.id,desc:d}],u}))},e.getFirstSortDir=()=>{var n,r;return(null!=(n=null!=(r=e.columnDef.sortDescFirst)?r:t.options.sortDescFirst)?n:"desc"===e.getAutoSortDir())?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const a=e.getFirstSortDir(),i=e.getIsSorted();return i?!!(i===a||null!=(r=t.options.enableSortingRemoval)&&!r||n&&null!=(o=t.options.enableMultiRemove)&&!o)&&("desc"===i?"asc":"desc"):a},e.getCanSort=()=>{var n,r;return(null==(n=e.columnDef.enableSorting)||n)&&(null==(r=t.options.enableSorting)||r)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return null!=(n=null!=(r=e.columnDef.enableMultiSort)?r:t.options.enableMultiSort)?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=null==(n=t.getState().sorting)?void 0:n.find((t=>t.id===e.id));return!!r&&(r.desc?"desc":"asc")},e.getSortIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().sorting)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.clearSorting=()=>{t.setSorting((t=>null!=t&&t.length?t.filter((t=>t.id!==e.id)):[]))},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(null==r.persist||r.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(r))))}}},createTable:e=>{e.setSorting=t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.sorting)?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},wn=[Tt,rn,Kt,Zt,Ft,Wt,{createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},{getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Ot("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=null==(n=e.getCoreRowModel().flatRows[0])||null==(n=n._getAllCellsByColumnId()[t.id])?void 0:n.getValue();return"string"==typeof r||"number"==typeof r}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,o,a;return(null==(n=e.columnDef.enableGlobalFilter)||n)&&(null==(r=t.options.enableGlobalFilter)||r)&&(null==(o=t.options.enableFilters)||o)&&(null==(a=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||a)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>qt.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return At(r)?r:"auto"===r?e.getGlobalAutoFilterFn():null!=(t=null==(n=e.options.filterFns)?void 0:n[r])?t:qt[r]},e.setGlobalFilter=t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},yn,Xt,an,sn,ln,cn,en];function En(e){var t,n;const r=[...wn,...null!=(t=e._features)?t:[]];let o={_features:r};const a=o._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(o))),{});let i={...null!=(n=e.initialState)?n:{}};o._features.forEach((e=>{var t;i=null!=(t=null==e.getInitialState?void 0:e.getInitialState(i))?t:i}));const s=[];let l=!1;const c={_features:r,options:{...a,...e},initialState:i,_queue:e=>{s.push(e),l||(l=!0,Promise.resolve().then((()=>{for(;s.length;)s.shift()();l=!1})).catch((e=>setTimeout((()=>{throw e})))))},reset:()=>{o.setState(o.initialState)},setOptions:e=>{const t=xt(e,o.options);o.options=(e=>o.options.mergeOptions?o.options.mergeOptions(a,e):{...a,...e})(t)},getState:()=>o.options.state,setState:e=>{null==o.options.onStateChange||o.options.onStateChange(e)},_getRowId:(e,t,n)=>{var r;return null!=(r=null==o.options.getRowId?void 0:o.options.getRowId(e,t,n))?r:`${n?[n.id,t].join("."):t}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(e,t)=>{let n=(t?o.getPrePaginationRowModel():o.getRowModel()).rowsById[e];if(!n&&(n=o.getCoreRowModel().rowsById[e],!n))throw new Error;return n},_getDefaultColumnDef:Rt((()=>[o.options.defaultColumn]),(e=>{var t;return e=null!=(t=e)?t:{},{header:e=>{const t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,n;return null!=(t=null==(n=e.renderValue())||null==n.toString?void 0:n.toString())?t:null},...o._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef())),{}),...e}}),_t(e,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:Rt((()=>[o._getColumnDefs()]),(e=>{const t=function(e,n,r){return void 0===r&&(r=0),e.map((e=>{const a=function(e,t,n,r){var o,a;const i={...e._getDefaultColumnDef(),...t},s=i.accessorKey;let l,c=null!=(o=null!=(a=i.id)?a:s?"function"==typeof String.prototype.replaceAll?s.replaceAll(".","_"):s.replace(/\./g,"_"):void 0)?o:"string"==typeof i.header?i.header:void 0;if(i.accessorFn?l=i.accessorFn:s&&(l=s.includes(".")?e=>{let t=e;for(const e of s.split(".")){var n;t=null==(n=t)?void 0:n[e]}return t}:e=>e[i.accessorKey]),!c)throw new Error;let u={id:`${String(c)}`,accessorFn:l,parent:r,depth:n,columnDef:i,columns:[],getFlatColumns:Rt((()=>[!0]),(()=>{var e;return[u,...null==(e=u.columns)?void 0:e.flatMap((e=>e.getFlatColumns()))]}),_t(e.options,"debugColumns")),getLeafColumns:Rt((()=>[e._getOrderColumnsFn()]),(e=>{var t;if(null!=(t=u.columns)&&t.length){let t=u.columns.flatMap((e=>e.getLeafColumns()));return e(t)}return[u]}),_t(e.options,"debugColumns"))};for(const t of e._features)null==t.createColumn||t.createColumn(u,e);return u}(o,e,r,n),i=e;return a.columns=i.columns?t(i.columns,a,r+1):[],a}))};return t(e)}),_t(e,"debugColumns")),getAllFlatColumns:Rt((()=>[o.getAllColumns()]),(e=>e.flatMap((e=>e.getFlatColumns()))),_t(e,"debugColumns")),_getAllFlatColumnsById:Rt((()=>[o.getAllFlatColumns()]),(e=>e.reduce(((e,t)=>(e[t.id]=t,e)),{})),_t(e,"debugColumns")),getAllLeafColumns:Rt((()=>[o.getAllColumns(),o._getOrderColumnsFn()]),((e,t)=>t(e.flatMap((e=>e.getLeafColumns())))),_t(e,"debugColumns")),getColumn:e=>o._getAllFlatColumnsById()[e]};Object.assign(o,c);for(let e=0;e<o._features.length;e++){const t=o._features[e];null==t||null==t.createTable||t.createTable(o)}return o}function Sn(){return e=>Rt((()=>[e.options.data]),(t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(t,o,a){void 0===o&&(o=0);const i=[];for(let l=0;l<t.length;l++){const c=jt(e,e._getRowId(t[l],l,a),t[l],l,o,void 0,null==a?void 0:a.id);var s;n.flatRows.push(c),n.rowsById[c.id]=c,i.push(c),e.options.getSubRows&&(c.originalSubRows=e.options.getSubRows(t[l],l),null!=(s=c.originalSubRows)&&s.length&&(c.subRows=r(c.originalSubRows,o+1,c)))}return i};return n.rows=r(t),n}),_t(e.options,"debugTable",0,(()=>e._autoResetPageIndex())))}function Cn(e){const t=[],n=e=>{var r;t.push(e),null!=(r=e.subRows)&&r.length&&e.getIsExpanded()&&e.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function xn(e,t,n){return n.options.filterFromLeafRows?function(e,t,n){var r;const o=[],a={},i=null!=(r=n.options.maxLeafRowFilterDepth)?r:100,s=function(e,r){void 0===r&&(r=0);const l=[];for(let u=0;u<e.length;u++){var c;let d=e[u];const p=jt(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(p.columnFilters=d.columnFilters,null!=(c=d.subRows)&&c.length&&r<i){if(p.subRows=s(d.subRows,r+1),d=p,t(d)&&!p.subRows.length){l.push(d),a[d.id]=d,o.push(d);continue}if(t(d)||p.subRows.length){l.push(d),a[d.id]=d,o.push(d);continue}}else d=p,t(d)&&(l.push(d),a[d.id]=d,o.push(d))}return l};return{rows:s(e),flatRows:o,rowsById:a}}(e,t,n):function(e,t,n){var r;const o=[],a={},i=null!=(r=n.options.maxLeafRowFilterDepth)?r:100,s=function(e,r){void 0===r&&(r=0);const l=[];for(let u=0;u<e.length;u++){let d=e[u];if(t(d)){var c;if(null!=(c=d.subRows)&&c.length&&r<i){const e=jt(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);e.subRows=s(d.subRows,r+1),d=e}l.push(d),o.push(d),a[d.id]=d}}return l};return{rows:s(e),flatRows:o,rowsById:a}}(e,t,n)}function On(){return e=>Rt((()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter]),((t,n,r)=>{if(!t.rows.length||(null==n||!n.length)&&!r){for(let e=0;e<t.flatRows.length;e++)t.flatRows[e].columnFilters={},t.flatRows[e].columnFiltersMeta={};return t}const o=[],a=[];(null!=n?n:[]).forEach((t=>{var n;const r=e.getColumn(t.id);if(!r)return;const a=r.getFilterFn();a&&o.push({id:t.id,filterFn:a,resolvedValue:null!=(n=null==a.resolveFilterValue?void 0:a.resolveFilterValue(t.value))?n:t.value})}));const i=(null!=n?n:[]).map((e=>e.id)),s=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter((e=>e.getCanGlobalFilter()));let c,u;r&&s&&l.length&&(i.push("__global__"),l.forEach((e=>{var t;a.push({id:e.id,filterFn:s,resolvedValue:null!=(t=null==s.resolveFilterValue?void 0:s.resolveFilterValue(r))?t:r})})));for(let e=0;e<t.flatRows.length;e++){const n=t.flatRows[e];if(n.columnFilters={},o.length)for(let e=0;e<o.length;e++){c=o[e];const t=c.id;n.columnFilters[t]=c.filterFn(n,t,c.resolvedValue,(e=>{n.columnFiltersMeta[t]=e}))}if(a.length){for(let e=0;e<a.length;e++){u=a[e];const t=u.id;if(u.filterFn(n,t,u.resolvedValue,(e=>{n.columnFiltersMeta[t]=e}))){n.columnFilters.__global__=!0;break}}!0!==n.columnFilters.__global__&&(n.columnFilters.__global__=!1)}}return xn(t.rows,(e=>{for(let t=0;t<i.length;t++)if(!1===e.columnFilters[i[t]])return!1;return!0}),e)}),_t(e.options,"debugTable",0,(()=>e._autoResetPageIndex())))}function An(){return e=>Rt((()=>[e.getState().sorting,e.getPreSortedRowModel()]),((t,n)=>{if(!n.rows.length||null==t||!t.length)return n;const r=e.getState().sorting,o=[],a=r.filter((t=>{var n;return null==(n=e.getColumn(t.id))?void 0:n.getCanSort()})),i={};a.forEach((t=>{const n=e.getColumn(t.id);n&&(i[t.id]={sortUndefined:n.columnDef.sortUndefined,invertSorting:n.columnDef.invertSorting,sortingFn:n.getSortingFn()})}));const s=e=>{const t=e.map((e=>({...e})));return t.sort(((e,t)=>{for(let r=0;r<a.length;r+=1){var n;const o=a[r],s=i[o.id],l=s.sortUndefined,c=null!=(n=null==o?void 0:o.desc)&&n;let u=0;if(l){const n=void 0===e.getValue(o.id),r=void 0===t.getValue(o.id);if(n||r){if("first"===l)return n?-1:1;if("last"===l)return n?1:-1;u=n&&r?0:n?l:-l}}if(0===u&&(u=s.sortingFn(e,t,o.id)),0!==u)return c&&(u*=-1),s.invertSorting&&(u*=-1),u}return e.index-t.index})),t.forEach((e=>{var t;o.push(e),null!=(t=e.subRows)&&t.length&&(e.subRows=s(e.subRows))})),t};return{rows:s(n.rows),flatRows:o,rowsById:n.rowsById}}),_t(e.options,"debugTable",0,(()=>e._autoResetPageIndex())))}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Dn(e,t,n[t])}))}return e}function _n(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const kn=(e,t,n,r)=>{const a=(e=>e&&"object"==typeof e&&"type"in e&&Object.values(P).includes(e.type)?e:{type:"none"})(n);switch(a.type){case P.SEARCH:return a.caseSensitive?qt.includesStringSensitive(e,t,a.value,r):qt.includesString(e,t,a.value,r);case P.NUMBER:return((e,t,n,r)=>{const o=e.getValue(t),a=n[0];switch(r){case T.BETWEEN:{const e=Math.min(n[0],n[1]),t=Math.max(n[0],n[1]);return o>=e&&o<=t}case T.MORE:return o>a;case T.MORE_OR_EQUAL:return o>=a;case T.LESS:return o<a;case T.LESS_OR_EQUAL:return o<=a;case T.EQUAL:return o===a;case T.NOT_EQUAL:return o!==a;default:return!1}})(e,t,a.value,a.operator);case P.FACETED:return((e,t,n)=>n.some((n=>e.getValue(t)===n)))(e,t,a.value);case P.TIMESTAMP:return((e,t,n)=>{const r=e.getValue(t);if("number"!=typeof r&&"string"!=typeof r)return!0;if("number"==typeof r)return r>=n.from&&r<=n.to;const a=(0,o.dateTime)(r);if(a.isValid()){const e=a.valueOf();return e>=n.from&&e<=n.to}return!0})(e,t,a.valueToFilter);default:return!0}};kn.resolveFilterValue=e=>e.type===P.TIMESTAMP?_n(Rn({},e),{valueToFilter:{from:e.value.from.valueOf(),to:e.value.to.valueOf()}}):e;const Pn=e=>{switch(e){case P.NUMBER:return{type:e,value:[0,0],operator:T.MORE};case P.SEARCH:return{type:e,value:"",caseSensitive:!1};case P.FACETED:return{type:e,value:[]};case P.TIMESTAMP:{const t=(0,o.dateTime)(null),n=(0,o.dateTime)(null);return{type:e,value:{from:t,to:n,raw:{from:t,to:n}}}}default:return{type:e}}},Tn=e=>{if(e)switch(e.type){case"query":case"custom":if(e.multi)return[P.FACETED];break;case"textbox":case"constant":return[P.SEARCH]}return[]},In=e=>{const t=e.filter((e=>{var t;return e.enableColumnFilter&&(null===(t=e.meta)||void 0===t?void 0:t.filterMode)===F.QUERY}));if(t.length){const e=(0,Ct.getTemplateSrv)().getVariables(),n=[];return t.forEach((t=>{const r=e.find((e=>{var n;return e.name===(null===(n=t.meta)||void 0===n?void 0:n.filterVariableName)}));if(r){const e="current"in r?r.current.value:"",o=Tn(r)[0];if(o&&e)switch(o){case P.SEARCH:n.push({id:t.id,value:{type:P.SEARCH,value:e,caseSensitive:!1}});break;case P.FACETED:n.push({id:t.id,value:{type:P.FACETED,value:e}})}else n.push({id:t.id,value:void 0})}})),n}return[]},jn=(e,t)=>{const n=new Map;return e.forEach((e=>{n.set(e.id,e)})),t.forEach((e=>{e.value?n.set(e.id,e):n.delete(e.id)})),[...n.values()]},Fn=({context:e,config:t,field:n,theme:r})=>{const a=t.footer[0];if(void 0===a)return"";const i=e.table.getFilteredRowModel().rows.map((t=>t.getValue(e.column.id))),[s]=(0,o.toDataFrame)({fields:[_n(Rn({},n),{values:i})]}).fields,l=(0,o.reduceField)({field:s,reducers:t.footer})[a];var c;const u=null!==(c=n.display)&&void 0!==c?c:(0,o.getDisplayProcessor)({field:s,theme:r});return o.fieldReducers.get(a).preservesUnits?(0,o.formattedValueToString)(u(l)):(0,o.formattedValueToString)({text:l})},Mn=e=>t=>t[e];function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Nn=e=>e.reduce(((e,t)=>{const n=t;return n?(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ln(e,t,n[t])}))}return e}({},e),o=null!=(o={[n.name]:n})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})),r):e;var r,o}),{}),Bn=e=>{if("current"in e){const t=e.current.value,n="string"==typeof t?t:Array.isArray(t)?t[0]:"",r=Number(n);if(Number.isNaN(r))return;return r}},Vn=e=>`var-${e}`,zn=e=>({column:X.css`
      &:not(:last-child) {
        margin-bottom: ${e.spacing(.5)};
      }
    `,groupField:X.css`
      &:not(:last-child) {
        margin-bottom: ${e.spacing(1)};
      }
    `});function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$n(e,t,n[t])}))}return e}function Hn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const qn=H.tableAddRowEditor,Gn=({value:e,onChange:t,data:n})=>{const r=(0,a.useStyles2)(zn),[o,l]=(0,s.useState)({}),u=(0,s.useCallback)((n=>{t(Hn(Un({},e),{items:e.items.map((e=>gt(e.field)===gt(n.field)?n:e))}))}),[t,e]);return c().createElement(c().Fragment,null,!e.showHeader&&c().createElement(a.Alert,Un({severity:"info",title:"Unavailable with hidden table header"},qn.disabledHeaderMessage.apply()),"Please enable header to allow to add rows."),c().createElement(a.Label,null,"Columns"),c().createElement(c().Fragment,null,e.items.length>0?e.items.map((e=>c().createElement("div",{key:gt(e.field),className:r.column},c().createElement(i.SD,{fill:"solid",title:c().createElement(Sc,null,e.field.name,c().createElement(a.InlineSwitch,Un({value:e.newRowEdit.enabled,label:"Editable",transparent:!0,onChange:t=>{u(Hn(Un({},e),{newRowEdit:Hn(Un({},e.newRowEdit),{enabled:t.currentTarget.checked})})),l(Hn(Un({},o),{[gt(e.field)]:t.currentTarget.checked}))},disabled:e.type===_.NESTED_OBJECTS},qn.fieldEditQuickEnabled.apply(gt(e.field)))),e.newRowEdit.enabled&&c().createElement(a.Tag,{name:e.newRowEdit.editor.type})),isOpen:o[gt(e.field)],onToggle:t=>l(Hn(Un({},o),{[gt(e.field)]:t})),headerTestId:qn.columnHeader.selector(gt(e.field)),contentTestId:qn.columnContent.selector(gt(e.field)),isExpandDisabled:!e.newRowEdit.enabled},c().createElement(c().Fragment,null,e.newRowEdit.enabled&&c().createElement(xc,{label:"Editor"},c().createElement(Xr,{value:e.newRowEdit.editor,onChange:t=>{u(Hn(Un({},e),{newRowEdit:Hn(Un({},e.newRowEdit),{editor:t})}))},data:n}))))))):c().createElement(a.Alert,Un({severity:"info",title:"No Columns"},qn.noColumnsMessage.apply()),"Please add at least one column for table.")),c().createElement(xc,{label:"Permission"},c().createElement(Eu,{data:n,value:e.addRow.permission,onChange:n=>{t(Hn(Un({},e),{addRow:Hn(Un({},e.addRow),{permission:n})}))}})),c().createElement(i.SD,{title:"Add Request",isOpen:o.request,onToggle:e=>{l(Hn(Un({},o),{request:e}))},headerTestId:qn.requestSectionHeader.selector(),contentTestId:qn.requestSectionContent.selector()},c().createElement(Ou,{value:e.addRow.request,onChange:n=>{t(Hn(Un({},e),{addRow:Hn(Un({},e.addRow),{request:n})}))},queryEditorDescription:"New row is placed in variable `${payload}`"})))};function Wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Wn(e,t,n[t])}))}return e}function Yn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Xn=H.addDataEditor,Kn=({context:{data:e},onChange:t,value:n})=>{const r=(0,a.useStyles2)(K),[o,l]=(0,s.useState)({}),u=(0,s.useCallback)((e=>{t(e)}),[t]),d=(0,s.useCallback)((e=>{l((t=>Yn(Qn({},t),{[e]:!t[e]})))}),[]),p=(0,s.useCallback)((e=>{u(n.map((t=>t.name===e.name?e:t)))}),[n,u]);return c().createElement(c().Fragment,null,n.map((t=>c().createElement("div",{key:t.name,className:r.item},c().createElement(i.SD,{title:c().createElement(Sc,null,t.name,c().createElement(a.InlineSwitch,Qn({transparent:!0,value:t.addRow.enabled,onChange:e=>{p(Yn(Qn({},t),{addRow:Yn(Qn({},t.addRow),{enabled:e.currentTarget.checked})})),l(Yn(Qn({},o),{[t.name]:e.currentTarget.checked}))}},Xn.fieldItemEnabled.apply(t.name)))),headerTestId:Xn.itemHeader.selector(t.name),contentTestId:Xn.itemContent.selector(t.name),isOpen:o[t.name],onToggle:()=>d(t.name),isExpandDisabled:!t.addRow.enabled},c().createElement(Gn,{value:t,onChange:p,data:e}))))))},Zn=()=>{const e=(0,s.createContext)({});return{Provider:e.Provider,useContext:()=>(0,s.useContext)(e)}},Jn=Zn(),er=Zn(),tr=Zn();function nr(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}const rr=()=>{const[e,t]=(0,s.useState)([]);return(0,s.useEffect)((()=>{!function(){var e,n=(e=function*(){const e=(0,Ct.getDataSourceSrv)().getList({alerting:!1,tracing:!1,metrics:!1,logs:!1,dashboard:!1,mixed:!1,variables:!0,annotations:!1,filter:e=>"grafana"!==e.uid});t(e)},function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){nr(a,r,o,i,s,"next",e)}function s(e){nr(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}()()}),[]),e};function or(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ar(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){or(a,r,o,i,s,"next",e)}function s(e){or(a,r,o,i,s,"throw",e)}i(void 0)}))}}const ir=(e,t)=>{const n=(0,s.useCallback)(ar((function*(){const n=window.localStorage.getItem(e);if(n){const e=JSON.parse(n);return(null==e?void 0:e.version)===t?e.data:void 0}})),[e,t]),r=(0,s.useCallback)(function(){var n=ar((function*(n){return window.localStorage.setItem(e,JSON.stringify({version:t,data:n})),n}));return function(e){return n.apply(this,arguments)}}(),[e,t]);return(0,s.useMemo)((()=>({get:n,update:r})),[n,r])};function sr(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const cr=({key:e,initialValue:t,version:n=1,getStateForSave:r=e=>e,enabled:o=!0})=>{const[a,i]=(0,s.useState)(t),[l,c]=(0,s.useState)(!1),u=(0,s.useRef)(r),{get:d,update:p}=ir(e,n);(0,s.useEffect)((()=>{const e=function(){var e,t=(e=function*(){const e=yield d();e&&i("object"==typeof e?t=>(0,fe.merge)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lr(e,t,n[t])}))}return e}({},t),e):e),c(!0)},function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){sr(a,r,o,i,s,"next",e)}function s(e){sr(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();o&&e()}),[o,d]);const f=(0,s.useCallback)((e=>{i((t=>{const n="function"==typeof e?e(t):e;return o&&p(u.current(n)),n}))}),[o,p]);return[a,f,l]};function ur(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dr(e,t,n[t])}))}return e}function fr(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const hr=({objects:e,replaceVariables:t})=>{const n=(0,i.ki)(),[r,a]=(0,s.useState)({}),[l,c]=(0,s.useState)({}),u=(0,Ct.getAppEvents)(),d=(0,s.useCallback)((e=>u.publish({type:o.AppEvents.alertError.name,payload:e})),[u]),p=(0,s.useCallback)(function(){var r,o=(r=function*(r,o){const i=e.find((e=>e.id===r.objectId)),s=o.reduce(((e,t)=>{const n=t[r.field.name];return Array.isArray(n)?e.concat(...n):e.concat(n)}),[]);if(!i||!s.length)return;const l=i.id;c((e=>fr(pr({},e),{[l]:!0})));try{const e=yield n({query:i.get.payload,datasource:i.get.datasource,payload:{rows:o,ids:s},replaceVariables:t});e.data&&e.data[0]&&a((t=>fr(pr({},t),{[l]:wt(i,e.data[0])})))}catch(e){const t=e instanceof Error?e.message:"Unknown Error";d(["Error",t])}c((e=>fr(pr({},e),{[l]:!1})))},function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){ur(a,n,o,i,s,"next",e)}function s(e){ur(a,n,o,i,s,"throw",e)}i(void 0)}))});return function(e,t){return o.apply(this,arguments)}}(),[n,d,e,t]),f=(0,s.useCallback)((e=>r[e]),[r]);return(0,s.useMemo)((()=>({onLoad:p,getValuesForColumn:f,loadingState:l})),[f,l,p])};function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){gr(e,t,n[t])}))}return e}function br(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function vr(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}const yr=({replaceVariables:e,currentTable:t,operation:n})=>{const r=(0,Ct.getAppEvents)(),a=(0,s.useCallback)((e=>r.publish({type:o.AppEvents.alertSuccess.name,payload:e})),[r]),l=(0,s.useCallback)((e=>r.publish({type:o.AppEvents.alertError.name,payload:e})),[r]),c=(0,i.rC)(),u=(0,i.ki)();return(0,s.useCallback)(function(){var r,i=(r=function*(r){let i,s="";switch(n){case"add":i=null==t?void 0:t.addRow.request,s="Row added successfully.";break;case"update":i=null==t?void 0:t.update,s="Row updated successfully.";break;case"delete":i=null==t?void 0:t.deleteRow.request,s="Row deleted successfully."}if(i)try{for(const e in r)r.hasOwnProperty(e)&&(r[e]=r[e].replace(/'/g,"''").replace(/\\/g,"\\\\").replace(/"/g,'\\"'));const t=yield u({query:i.payload,datasource:i.datasource,replaceVariables:e,payload:r});if(t.state===o.LoadingState.Error)throw t.errors;a(["Success",s]),c()}catch(e){const t=e instanceof Error?e:Array.isArray(e)?e[0]:"Unknown Error";throw l(["Error",t]),e}},function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){vr(a,n,o,i,s,"next",e)}function s(e){vr(a,n,o,i,s,"throw",e)}i(void 0)}))});return function(e){return i.apply(this,arguments)}}(),[null==t?void 0:t.addRow.request,null==t?void 0:t.deleteRow.request,null==t?void 0:t.update,u,l,a,n,c,e])};function wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Er=({value:e,onChange:t})=>{const n=rr(),r=(0,s.useMemo)((()=>n.map((e=>({label:e.name,value:e.uid})))),[n]);return c().createElement(a.Select,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){wr(e,t,n[t])}))}return e}({onChange:e=>{t(e.value)},options:r,value:e},H.datasourceEditor.fieldSelect.apply()))};function Sr(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Cr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Sr(a,r,o,i,s,"next",e)}function s(e){Sr(a,r,o,i,s,"throw",e)}i(void 0)}))}}function xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xr(e,t,n[t])}))}return e}const Ar=({value:e,onChange:t,datasourceUid:n})=>{var r;const o=(0,Ct.getDataSourceSrv)(),i=(0,Ct.getTemplateSrv)(),[l,u]=(0,s.useState)(),[d,p]=(0,s.useState)(!0),{startTimer:f,removeTimer:h}=(()=>{const e=(0,s.useRef)(null),t=(0,s.useCallback)((()=>{e.current&&(clearTimeout(e.current),e.current=null)}),[]);return{startTimer:(0,s.useCallback)((n=>{t(),e.current=setTimeout((()=>{n(),e.current=null}),1e3)}),[t]),removeTimer:t}})(),[g,m]=(0,s.useState)(e),[b,v]=(0,s.useState)(!1),y=(0,s.useCallback)((e=>{m(e),v(!0)}),[]),w=(0,s.useCallback)((()=>null),[]),E=(0,s.useCallback)((()=>{t(g),v(!1)}),[t,g]);if((0,s.useEffect)((()=>{const e=function(){var e=Cr((function*(e){p(!0);const t=yield o.get(e);return p(!1),t}));return function(t){return e.apply(this,arguments)}}();!function(){var t=Cr((function*(){const t=l,r=i.replace(n);if(t&&t.uid!==r){const n=yield e(r);t.type!==n.type&&y({}),u(n)}r&&!l&&u(yield e(r))}));return function(){return t.apply(this,arguments)}}()()}),[n,o,l,y,i]),(0,s.useEffect)((()=>(b?f(E):h(),()=>{h()})),[f,b,E,h]),d)return c().createElement(a.Alert,Or({severity:"info",title:"Please Wait"},H.payloadEditor.loadingMessage.apply()),c().createElement(a.LoadingPlaceholder,{text:"Loading..."}));if(!l||!(null===(r=l.components)||void 0===r?void 0:r.QueryEditor))return c().createElement(a.Alert,Or({title:"No Query Editor",severity:"error"},H.payloadEditor.errorMessage.apply()));const S=l.components.QueryEditor;return c().createElement(S,{datasource:l,query:g,onChange:y,onRunQuery:w})};function Dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Dr(e,t,n[t])}))}return e}function _r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const kr=H.tableAddRowEditor,Pr=({value:e,onChange:t,data:n})=>{const[r,o]=(0,s.useState)({});return c().createElement(c().Fragment,null,c().createElement(xc,{label:"Permission"},c().createElement(Eu,{data:n,value:e.deleteRow.permission,onChange:n=>{t(_r(Rr({},e),{deleteRow:_r(Rr({},e.deleteRow),{permission:n})}))}})),c().createElement(i.SD,{title:"Delete Request",isOpen:r.request,onToggle:e=>{o(_r(Rr({},r),{request:e}))},headerTestId:kr.requestSectionHeader.selector(),contentTestId:kr.requestSectionContent.selector()},c().createElement(Ou,{value:e.deleteRow.request,onChange:n=>{t(_r(Rr({},e),{deleteRow:_r(Rr({},e.deleteRow),{request:n})}))},queryEditorDescription:"Row to delete is placed in variable `${payload}`"})))},Tr=e=>({item:X.css`
      margin-bottom: ${e.spacing(1)};
    `});function Ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ir(e,t,n[t])}))}return e}function Fr(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Mr=H.deleteDataEditor,Lr=({context:{data:e},onChange:t,value:n})=>{const r=(0,a.useStyles2)(Tr),[o,l]=(0,s.useState)({}),u=(0,s.useCallback)((e=>{t(e)}),[t]),d=(0,s.useCallback)((e=>{l((t=>Fr(jr({},t),{[e]:!t[e]})))}),[]),p=(0,s.useCallback)((e=>{u(n.map((t=>t.name===e.name?e:t)))}),[n,u]);return c().createElement(c().Fragment,null,n.map((t=>c().createElement("div",{key:t.name,className:r.item},c().createElement(i.SD,{title:c().createElement(Sc,null,t.name,c().createElement(a.InlineSwitch,jr({transparent:!0,value:t.deleteRow.enabled,onChange:e=>{p(Fr(jr({},t),{deleteRow:Fr(jr({},t.deleteRow),{enabled:e.currentTarget.checked})})),l(Fr(jr({},o),{[t.name]:e.currentTarget.checked}))}},Mr.fieldItemEnabled.apply(t.name)))),headerTestId:Mr.itemHeader.selector(t.name),contentTestId:Mr.itemContent.selector(t.name),isOpen:o[t.name],onToggle:()=>d(t.name),isExpandDisabled:!t.deleteRow.enabled},c().createElement(Pr,{value:t,onChange:p,data:e}))))))};function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Nr(e,t,n[t])}))}return e}const Vr=e=>{var{value:t,onChange:n,label:r}=e,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["value","onChange","label"]);return c().createElement(a.InlineFieldRow,i,t?c().createElement(c().Fragment,null,c().createElement(a.InlineField,{label:r,labelWidth:8},c().createElement(a.DateTimePicker,Br({onChange:e=>{e&&n(e.toISOString())},date:(0,o.dateTime)(t)},H.dateEditor.field.apply()))),c().createElement(a.Button,Br({icon:"minus",onClick:()=>{n(void 0)},variant:"secondary"},H.dateEditor.buttonRemoveDate.apply()))):c().createElement(a.InlineField,{label:r,labelWidth:8},c().createElement(a.Button,Br({icon:"plus",onClick:()=>{n((new Date).toISOString())},variant:"secondary"},H.dateEditor.buttonSetDate.apply()),"Set ",r," Date")))};function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){zr(e,t,n[t])}))}return e}const Ur=({value:e,onChange:t,data:n})=>{const r=(0,s.useMemo)((()=>{if(e)return{source:e.source,name:e.value}}),[e]);return c().createElement(c().Fragment,null,c().createElement(a.InlineFieldRow,null,c().createElement(a.InlineField,{label:"Value Field",grow:!0},c().createElement(co,$r({value:r,onChange:n=>{t(n?{source:n.source,value:n.name,label:(null==e?void 0:e.source)!==n.source?null:(null==e?void 0:e.label)||null}:void 0)},data:n,isClearable:!0},H.queryOptionsEditor.fieldValue.apply())))),(null==e?void 0:e.value)&&c().createElement(a.InlineFieldRow,null,c().createElement(a.InlineField,{label:"Label Field",grow:!0},c().createElement(co,$r({value:r?{source:r.source,name:e.label||""}:void 0,onChange:n=>{return t((r=$r({},e),o=null!=(o={label:n?n.name:null})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})),r));var r,o},data:n,alreadySelectedFields:r?[r]:void 0,isClearable:!0},H.queryOptionsEditor.fieldLabel.apply())))))};function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Hr(e,t,n[t])}))}return e}function Gr(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Wr=(e=>{const t=new Map;return e.forEach((e=>t.set(e.id,e))),t})([{id:C.STRING,editor:()=>null,control:({value:e,onChange:t,isSaving:n})=>c().createElement(a.Input,qr({value:e,onChange:e=>{t(e.currentTarget.value)},style:{width:"100%"},disabled:n},H.editableCell.fieldString.apply())),getControlOptions:e=>e.config},{id:C.BOOLEAN,editor:()=>null,control:({value:e,onChange:t,isSaving:n})=>c().createElement(a.InlineSwitch,qr({onChange:e=>{t(e.currentTarget.checked)},disabled:n,value:e},H.editableCell.fieldBoolean.apply())),getControlOptions:e=>e.config},{id:C.TEXTAREA,editor:()=>null,control:({value:e,onChange:t,isSaving:n})=>c().createElement(a.TextArea,qr({value:"string"==typeof e?e.replaceAll("\\n","\n"):String(e),onChange:e=>{t(e.target.value.replaceAll("\n","\\n"))},disabled:n},H.editableCell.fieldTextarea.apply())),getControlOptions:e=>e.config},{id:C.NUMBER,editor:({value:e,onChange:t})=>c().createElement(a.InlineFieldRow,null,c().createElement(a.InlineField,{label:"Min"},c().createElement(a.Input,qr({type:"number",value:ne(e.min),onChange:n=>{t(re(Gr(qr({},e),{min:n.target.value?Number(n.target.value):void 0})))}},H.editableColumnEditor.fieldNumberMin.apply()))),c().createElement(a.InlineField,{label:"Max"},c().createElement(a.Input,qr({type:"number",value:ne(e.max),onChange:n=>t(re(Gr(qr({},e),{max:n.target.value?Number(n.target.value):void 0})))},H.editableColumnEditor.fieldNumberMax.apply())))),control:({value:e,onChange:t,config:n})=>c().createElement(i.Q7,qr({value:e,onChange:t,min:n.min,max:n.max},H.editableCell.fieldNumber.apply())),getControlOptions:e=>e.config},{id:C.DATETIME,editor:({value:e,onChange:t})=>c().createElement(c().Fragment,null,c().createElement(Vr,{label:"Min",onChange:n=>t(re(Gr(qr({},e),{min:n}))),value:e.min,"data-testid":H.editableColumnEditor.fieldDatetimeMin.selector()}),c().createElement(Vr,{label:"Max",onChange:n=>t(re(Gr(qr({},e),{max:n}))),value:e.max,"data-testid":H.editableColumnEditor.fieldDatetimeMax.selector()})),control:({value:e,onChange:t,config:n})=>c().createElement(a.DateTimePicker,qr({date:(0,o.dateTime)(e||void 0),onChange:e=>t(null==e?void 0:e.toISOString()),minDate:n.min?new Date(n.min):void 0,maxDate:n.max?new Date(n.max):void 0},H.editableCell.fieldDatetime.apply())),getControlOptions:e=>e.config},{id:C.SELECT,editor:({value:e,onChange:t,data:n})=>c().createElement(c().Fragment,null,c().createElement(Ur,{value:e.queryOptions,onChange:n=>{t(re(Gr(qr({},e),{queryOptions:n})))},data:n}),c().createElement(a.InlineFieldRow,null,c().createElement(a.InlineField,{label:"Allow custom values",grow:!0},c().createElement(a.InlineSwitch,qr({value:e.customValues,onChange:n=>t(re(Gr(qr({},e),{customValues:n.currentTarget.checked})))},H.editableColumnEditor.fieldCustomValues.apply()))))),control:({value:e,onChange:t,config:n})=>c().createElement(a.Select,qr({value:e,onChange:e=>t(e.value),options:n.options,allowCustomValue:n.customValues},H.editableCell.fieldSelect.apply())),getControlOptions:({config:e,data:t})=>{var n;const r=e.queryOptions;var o;const a={type:e.type,customValues:null!==(o=e.customValues)&&void 0!==o&&o,options:[]};if(!r||!r.value)return a;const i=t.series.find((e=>e.refId===r.source)),s=null==i?void 0:i.fields.find((e=>e.name===r.value));if(!i||!s)return a;const l=(null==i||null===(n=i.fields.find((e=>e.name===r.label)))||void 0===n?void 0:n.values)||s.values;return Gr(qr({},a),{options:s.values.map(((e,t)=>({value:e,label:l[t]})))})}}]);function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Yr=[{value:C.DATETIME,label:"Date Time"},{value:C.BOOLEAN,label:"Switch"},{value:C.NUMBER,label:"Number"},{value:C.SELECT,label:"Select"},{value:C.STRING,label:"String"},{value:C.TEXTAREA,label:"Text Area"}],Xr=({value:e,onChange:t,data:n})=>{var r;const o=null===(r=Wr.get(e.type))||void 0===r?void 0:r.editor;return c().createElement(c().Fragment,null,c().createElement(a.InlineField,{label:"Editor Type",grow:!0},c().createElement(a.Select,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Qr(e,t,n[t])}))}return e}({value:e.type,onChange:e=>{t(te(e.value))},options:Yr},H.editableColumnEditor.fieldType.apply()))),o&&c().createElement(o,{value:e,onChange:t,data:n}))},Kr=e=>({column:X.css`
      &:not(:last-child) {
        margin-bottom: ${e.spacing(.5)};
      }
    `,groupField:X.css`
      &:not(:last-child) {
        margin-bottom: ${e.spacing(1)};
      }
    `});function Zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Zr(e,t,n[t])}))}return e}function eo(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const to=H.tableUpdateEditor,no=({value:e,onChange:t,data:n})=>{const r=(0,a.useStyles2)(Kr),[o,l]=(0,s.useState)({}),u=(0,s.useCallback)((n=>{t(eo(Jr({},e),{items:e.items.map((e=>gt(e.field)===gt(n.field)?n:e))}))}),[t,e]),d=(0,s.useMemo)((()=>e.items.some((e=>e.edit.enabled))),[e.items]);return c().createElement(c().Fragment,null,c().createElement(a.Label,null,"Columns"),c().createElement(c().Fragment,null,e.items.length>0?e.items.map((e=>c().createElement("div",{key:gt(e.field),className:r.column},c().createElement(i.SD,{fill:"solid",title:c().createElement(Sc,null,e.field.name,c().createElement(a.InlineSwitch,Jr({value:e.edit.enabled,label:"Editable",transparent:!0,onChange:t=>{u(eo(Jr({},e),{edit:eo(Jr({},e.edit),{enabled:t.currentTarget.checked})})),l(eo(Jr({},o),{[gt(e.field)]:t.currentTarget.checked}))},disabled:e.type===_.NESTED_OBJECTS},to.fieldEditQuickEnabled.apply(gt(e.field)))),e.edit.enabled&&c().createElement(a.Tag,{name:e.edit.editor.type})),isOpen:o[gt(e.field)],onToggle:t=>l(eo(Jr({},o),{[gt(e.field)]:t})),headerTestId:to.columnHeader.selector(gt(e.field)),contentTestId:to.columnContent.selector(gt(e.field)),isExpandDisabled:!e.edit.enabled},c().createElement(c().Fragment,null,e.edit.enabled&&c().createElement(c().Fragment,null,c().createElement(xc,{label:"Permission"},c().createElement(Eu,{data:n,value:e.edit.permission,onChange:t=>{u(eo(Jr({},e),{edit:eo(Jr({},e.edit),{permission:t})}))}})),c().createElement(xc,{label:"Editor"},c().createElement(Xr,{value:e.edit.editor,onChange:t=>{u(eo(Jr({},e),{edit:eo(Jr({},e.edit),{editor:t})}))},data:n})))))))):c().createElement(a.Alert,Jr({severity:"info",title:"No Columns"},to.noColumnsMessage.apply()),"Please add at least one column for table.")),d&&c().createElement(c().Fragment,null,c().createElement(a.Label,null,"Settings"),c().createElement(i.SD,{title:"Update Request",isOpen:o.update,onToggle:e=>{l(eo(Jr({},o),{update:e}))},headerTestId:to.updateSectionHeader.selector(),contentTestId:to.updateSectionContent.selector()},c().createElement(Ou,{value:e.update,onChange:n=>{t(eo(Jr({},e),{update:n}))},queryEditorDescription:"Updated row is placed in variable `${payload}`"}))))},ro=e=>({item:X.css`
      margin-bottom: ${e.spacing(1)};
    `});function oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ao=H.editableDataEditor,io=({context:{data:e},onChange:t,value:n})=>{const r=(0,a.useStyles2)(ro),[o,l]=(0,s.useState)({}),u=(0,s.useCallback)((e=>{t(e)}),[t]),d=(0,s.useCallback)((e=>{l((t=>{return n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){oo(e,t,n[t])}))}return e}({},t),r=null!=(r={[e]:!t[e]})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})),n;var n,r}))}),[]),p=(0,s.useCallback)((e=>{u(n.map((t=>t.name===e.name?e:t)))}),[n,u]);return c().createElement(c().Fragment,null,n.map((t=>c().createElement("div",{key:t.name,className:r.item},c().createElement(i.SD,{title:c().createElement(Sc,null,t.name),headerTestId:ao.itemHeader.selector(t.name),contentTestId:ao.itemContent.selector(t.name),isOpen:o[t.name],onToggle:()=>d(t.name)},c().createElement(no,{value:t,onChange:p,data:e}))))))},so=(e,t)=>({value:gt({source:t,name:e.name}),fieldName:e.name,label:gt({source:t,name:e.name}),source:t,icon:(0,a.getFieldTypeIcon)(e)});function lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const co=e=>{var{data:t,value:n,onChange:r,alreadySelectedFields:o,includeTypes:i}=e,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["data","value","onChange","alreadySelectedFields","includeTypes"]);const u=(0,s.useMemo)((()=>{const e=null==o?void 0:o[0];if(e){const n=t.findIndex(((t,n)=>void 0===t.refId?n===e.source:t.refId===e.source)),r=t[n];if(r){const e=r.refId||n;return r.fields.filter((e=>!i||i.includes(e.type))).map((t=>so(t,e))).filter((e=>!o.some((t=>t.name===e.fieldName))))||[]}}return t.reduce(((e,t,n)=>e.concat(t.fields.filter((e=>!i||i.includes(e.type))).map((e=>{const r=t.refId||n;return so(e,r)})))),[])}),[o,t,i]),d=(0,s.useMemo)((()=>n?gt(n):null),[n]);return c().createElement(a.Select,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lo(e,t,n[t])}))}return e}({inputId:"config-new-column",options:u,value:d,onChange:e=>{r(e?{source:e.source,name:e.fieldName}:void 0)}},H.fieldPicker.root.apply(),l))},uo={};function po(e,t){"string"!=typeof t&&(t=po.defaultChars);const n=function(e){let t=uo[e];if(t)return t;t=uo[e]=[];for(let e=0;e<128;e++){const n=String.fromCharCode(e);t.push(n)}for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return t}(t);return e.replace(/(%[a-f0-9]{2})+/gi,(function(e){let t="";for(let r=0,o=e.length;r<o;r+=3){const a=parseInt(e.slice(r+1,r+3),16);if(a<128)t+=n[a];else{if(192==(224&a)&&r+3<o){const n=parseInt(e.slice(r+4,r+6),16);if(128==(192&n)){const e=a<<6&1984|63&n;t+=e<128?"":String.fromCharCode(e),r+=3;continue}}if(224==(240&a)&&r+6<o){const n=parseInt(e.slice(r+4,r+6),16),o=parseInt(e.slice(r+7,r+9),16);if(128==(192&n)&&128==(192&o)){const e=a<<12&61440|n<<6&4032|63&o;t+=e<2048||e>=55296&&e<=57343?"":String.fromCharCode(e),r+=6;continue}}if(240==(248&a)&&r+9<o){const n=parseInt(e.slice(r+4,r+6),16),o=parseInt(e.slice(r+7,r+9),16),i=parseInt(e.slice(r+10,r+12),16);if(128==(192&n)&&128==(192&o)&&128==(192&i)){let e=a<<18&1835008|n<<12&258048|o<<6&4032|63&i;e<65536||e>1114111?t+="":(e-=65536,t+=String.fromCharCode(55296+(e>>10),56320+(1023&e))),r+=9;continue}}t+=""}}return t}))}po.defaultChars=";/?:@&=+$,#",po.componentChars="";const fo=po,ho={};function go(e,t,n){"string"!=typeof t&&(n=t,t=go.defaultChars),void 0===n&&(n=!0);const r=function(e){let t=ho[e];if(t)return t;t=ho[e]=[];for(let e=0;e<128;e++){const n=String.fromCharCode(e);/^[0-9a-z]$/i.test(n)?t.push(n):t.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}(t);let o="";for(let t=0,a=e.length;t<a;t++){const i=e.charCodeAt(t);if(n&&37===i&&t+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(t+1,t+3)))o+=e.slice(t,t+3),t+=2;else if(i<128)o+=r[i];else if(i>=55296&&i<=57343){if(i>=55296&&i<=56319&&t+1<a){const n=e.charCodeAt(t+1);if(n>=56320&&n<=57343){o+=encodeURIComponent(e[t]+e[t+1]),t++;continue}}o+="%EF%BF%BD"}else o+=encodeURIComponent(e[t])}return o}go.defaultChars=";/?:@&=+$,-_.!~*'()#",go.componentChars="-_.!~*'()";const mo=go;function bo(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function vo(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const yo=/^([a-z0-9.+-]+:)/i,wo=/:[0-9]*$/,Eo=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,So=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Co=["'"].concat(So),xo=["%","/","?",";","#"].concat(Co),Oo=["/","?","#"],Ao=/^[+a-z0-9A-Z_-]{0,63}$/,Do=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ro={javascript:!0,"javascript:":!0},_o={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};vo.prototype.parse=function(e,t){let n,r,o,a=e;if(a=a.trim(),!t&&1===e.split("#").length){const e=Eo.exec(a);if(e)return this.pathname=e[1],e[2]&&(this.search=e[2]),this}let i=yo.exec(a);if(i&&(i=i[0],n=i.toLowerCase(),this.protocol=i,a=a.substr(i.length)),(t||i||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(o="//"===a.substr(0,2),!o||i&&Ro[i]||(a=a.substr(2),this.slashes=!0)),!Ro[i]&&(o||i&&!_o[i])){let e,t,n=-1;for(let e=0;e<Oo.length;e++)r=a.indexOf(Oo[e]),-1!==r&&(-1===n||r<n)&&(n=r);t=-1===n?a.lastIndexOf("@"):a.lastIndexOf("@",n),-1!==t&&(e=a.slice(0,t),a=a.slice(t+1),this.auth=e),n=-1;for(let e=0;e<xo.length;e++)r=a.indexOf(xo[e]),-1!==r&&(-1===n||r<n)&&(n=r);-1===n&&(n=a.length),":"===a[n-1]&&n--;const o=a.slice(0,n);a=a.slice(n),this.parseHost(o),this.hostname=this.hostname||"";const i="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!i){const e=this.hostname.split(/\./);for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n&&!n.match(Ao)){let r="";for(let e=0,t=n.length;e<t;e++)n.charCodeAt(e)>127?r+="x":r+=n[e];if(!r.match(Ao)){const r=e.slice(0,t),o=e.slice(t+1),i=n.match(Do);i&&(r.push(i[1]),o.unshift(i[2])),o.length&&(a=o.join(".")+a),this.hostname=r.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),i&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const s=a.indexOf("#");-1!==s&&(this.hash=a.substr(s),a=a.slice(0,s));const l=a.indexOf("?");return-1!==l&&(this.search=a.substr(l),a=a.slice(0,l)),a&&(this.pathname=a),_o[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},vo.prototype.parseHost=function(e){let t=wo.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const ko=function(e,t){if(e&&e instanceof vo)return e;const n=new vo;return n.parse(e,t),n},Po=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,To=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Io=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,jo=/[\0-\x1F\x7F-\x9F]/,Fo=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Mo=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Lo=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((e=>e.charCodeAt(0)))),No=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((e=>e.charCodeAt(0))));var Bo;const Vo=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),zo=null!==(Bo=String.fromCodePoint)&&void 0!==Bo?Bo:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};var $o,Uo,Ho,qo,Go;function Wo(e){return e>=$o.ZERO&&e<=$o.NINE}!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}($o||($o={})),function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(Uo||(Uo={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(Ho||(Ho={})),(Go=qo||(qo={}))[Go.Legacy=0]="Legacy",Go[Go.Strict=1]="Strict",Go[Go.Attribute=2]="Attribute";class Qo{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=Ho.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=qo.Strict}startEntity(e){this.decodeMode=e,this.state=Ho.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case Ho.EntityStart:return e.charCodeAt(t)===$o.NUM?(this.state=Ho.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=Ho.NamedEntity,this.stateNamedEntity(e,t));case Ho.NumericStart:return this.stateNumericStart(e,t);case Ho.NumericDecimal:return this.stateNumericDecimal(e,t);case Ho.NumericHex:return this.stateNumericHex(e,t);case Ho.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===$o.LOWER_X?(this.state=Ho.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=Ho.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,r){if(t!==n){const o=n-t;this.result=this.result*Math.pow(r,o)+parseInt(e.substr(t,o),r),this.consumed+=o}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const o=e.charCodeAt(t);if(!(Wo(o)||(r=o,r>=$o.UPPER_A&&r<=$o.UPPER_F||r>=$o.LOWER_A&&r<=$o.LOWER_F)))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(o,3);t+=1}var r;return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!Wo(r))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===$o.SEMI)this.consumed+=1;else if(this.decodeMode===qo.Strict)return 0;return this.emitCodePoint(function(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=Vo.get(e))&&void 0!==t?t:e}(this.result),this.consumed),this.errors&&(e!==$o.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let r=n[this.treeIndex],o=(r&Uo.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const i=e.charCodeAt(t);if(this.treeIndex=Xo(n,r,this.treeIndex+Math.max(1,o),i),this.treeIndex<0)return 0===this.result||this.decodeMode===qo.Attribute&&(0===o||((a=i)===$o.EQUALS||function(e){return e>=$o.UPPER_A&&e<=$o.UPPER_Z||e>=$o.LOWER_A&&e<=$o.LOWER_Z||Wo(e)}(a)))?0:this.emitNotTerminatedNamedEntity();if(r=n[this.treeIndex],o=(r&Uo.VALUE_LENGTH)>>14,0!==o){if(i===$o.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==qo.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}var a;return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,r=(n[t]&Uo.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:r}=this;return this.emitCodePoint(1===t?r[e]&~Uo.VALUE_LENGTH:r[e+1],n),3===t&&this.emitCodePoint(r[e+2],n),n}end(){var e;switch(this.state){case Ho.NamedEntity:return 0===this.result||this.decodeMode===qo.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case Ho.NumericDecimal:return this.emitNumericEntity(0,2);case Ho.NumericHex:return this.emitNumericEntity(0,3);case Ho.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ho.EntityStart:return 0}}}function Yo(e){let t="";const n=new Qo(e,(e=>t+=zo(e)));return function(e,r){let o=0,a=0;for(;(a=e.indexOf("&",a))>=0;){t+=e.slice(o,a),n.startEntity(r);const i=n.write(e,a+1);if(i<0){o=a+n.end();break}o=a+i,a=0===i?o+1:o}const i=t+e.slice(o);return t="",i}}function Xo(e,t,n,r){const o=(t&Uo.BRANCH_LENGTH)>>7,a=t&Uo.JUMP_TABLE;if(0===o)return 0!==a&&r===a?n:-1;if(a){const t=r-a;return t<0||t>=o?-1:e[n+t]-1}let i=n,s=i+o-1;for(;i<=s;){const t=i+s>>>1,n=e[t];if(n<r)i=t+1;else{if(!(n>r))return e[t+o];s=t-1}}return-1}const Ko=Yo(Lo);function Zo(e,t=qo.Legacy){return Ko(e,t)}function Jo(e){for(let t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}Yo(No),new Map(Jo([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(Jo([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(Jo([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(Jo([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));const ea=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function ta(e,t){return function(n){let r,o=0,a="";for(;r=e.exec(n);)o!==r.index&&(a+=n.substring(o,r.index)),a+=t.get(r[0].charCodeAt(0)),o=r.index+1;return a+n.substring(o)}}var na,ra;function oa(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)}String.prototype.codePointAt,ta(/[&<>'"]/g,ea),ta(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),ta(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"}(na||(na={})),function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"}(ra||(ra={}));const aa=Object.prototype.hasOwnProperty;function ia(e,t){return aa.call(e,t)}function sa(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e}function la(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function ca(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||!(65535&~e&&65534!=(65535&e))||e>=0&&e<=8||11===e||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function ua(e){if(e>65535){const t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const da=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,pa=new RegExp(da.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),fa=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function ha(e){return e.indexOf("\\")<0?e:e.replace(da,"$1")}function ga(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(pa,(function(e,t,n){return t||function(e,t){if(35===t.charCodeAt(0)&&fa.test(t)){const n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return ca(n)?ua(n):e}const n=Zo(e);return n!==e?n:e}(e,n)}))}const ma=/[&<>"]/,ba=/[&<>"]/g,va={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function ya(e){return va[e]}function wa(e){return ma.test(e)?e.replace(ba,ya):e}const Ea=/[.?*+^$[\]\\(){}|-]/g;function Sa(e){return e.replace(Ea,"\\$&")}function Ca(e){switch(e){case 9:case 32:return!0}return!1}function xa(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Oa(e){return Po.test(e)||To.test(e)}function Aa(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Da(e){return e=e.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const Ra={mdurl:e,ucmicro:t};function _a(e,t,n){let r,o,a,i;const s=e.posMax,l=e.pos;for(e.pos=t+1,r=1;e.pos<s;){if(a=e.src.charCodeAt(e.pos),93===a&&(r--,0===r)){o=!0;break}if(i=e.pos,e.md.inline.skipToken(e),91===a)if(i===e.pos-1)r++;else if(n)return e.pos=l,-1}let c=-1;return o&&(c=e.pos),e.pos=l,c}function ka(e,t,n){let r,o=t;const a={ok:!1,pos:0,str:""};if(60===e.charCodeAt(o)){for(o++;o<n;){if(r=e.charCodeAt(o),10===r)return a;if(60===r)return a;if(62===r)return a.pos=o+1,a.str=ga(e.slice(t+1,o)),a.ok=!0,a;92===r&&o+1<n?o+=2:o++}return a}let i=0;for(;o<n&&(r=e.charCodeAt(o),32!==r)&&!(r<32||127===r);)if(92===r&&o+1<n){if(32===e.charCodeAt(o+1))break;o+=2}else{if(40===r&&(i++,i>32))return a;if(41===r){if(0===i)break;i--}o++}return t===o||0!==i||(a.str=ga(e.slice(t,o)),a.pos=o,a.ok=!0),a}function Pa(e,t,n,r){let o,a=t;const i={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)i.str=r.str,i.marker=r.marker;else{if(a>=n)return i;let r=e.charCodeAt(a);if(34!==r&&39!==r&&40!==r)return i;t++,a++,40===r&&(r=41),i.marker=r}for(;a<n;){if(o=e.charCodeAt(a),o===i.marker)return i.pos=a+1,i.str+=ga(e.slice(t,a)),i.ok=!0,i;if(40===o&&41===i.marker)return i;92===o&&a+1<n&&a++,a++}return i.can_continue=!0,i.str+=ga(e.slice(t,a)),i}const Ta={};function Ia(){this.rules=sa({},Ta)}Ta.code_inline=function(e,t,n,r,o){const a=e[t];return"<code"+o.renderAttrs(a)+">"+wa(a.content)+"</code>"},Ta.code_block=function(e,t,n,r,o){const a=e[t];return"<pre"+o.renderAttrs(a)+"><code>"+wa(e[t].content)+"</code></pre>\n"},Ta.fence=function(e,t,n,r,o){const a=e[t],i=a.info?ga(a.info).trim():"";let s,l="",c="";if(i){const e=i.split(/(\s+)/g);l=e[0],c=e.slice(2).join("")}if(s=n.highlight&&n.highlight(a.content,l,c)||wa(a.content),0===s.indexOf("<pre"))return s+"\n";if(i){const e=a.attrIndex("class"),t=a.attrs?a.attrs.slice():[];e<0?t.push(["class",n.langPrefix+l]):(t[e]=t[e].slice(),t[e][1]+=" "+n.langPrefix+l);const r={attrs:t};return`<pre><code${o.renderAttrs(r)}>${s}</code></pre>\n`}return`<pre><code${o.renderAttrs(a)}>${s}</code></pre>\n`},Ta.image=function(e,t,n,r,o){const a=e[t];return a.attrs[a.attrIndex("alt")][1]=o.renderInlineAsText(a.children,n,r),o.renderToken(e,t,n)},Ta.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},Ta.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},Ta.text=function(e,t){return wa(e[t].content)},Ta.html_block=function(e,t){return e[t].content},Ta.html_inline=function(e,t){return e[t].content},Ia.prototype.renderAttrs=function(e){let t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+wa(e.attrs[t][0])+'="'+wa(e.attrs[t][1])+'"';return r},Ia.prototype.renderToken=function(e,t,n){const r=e[t];let o="";if(r.hidden)return"";r.block&&-1!==r.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===r.nesting?"</":"<")+r.tag,o+=this.renderAttrs(r),0===r.nesting&&n.xhtmlOut&&(o+=" /");let a=!1;if(r.block&&(a=!0,1===r.nesting&&t+1<e.length)){const n=e[t+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===r.tag)&&(a=!1)}return o+=a?">\n":">",o},Ia.prototype.renderInline=function(e,t,n){let r="";const o=this.rules;for(let a=0,i=e.length;a<i;a++){const i=e[a].type;void 0!==o[i]?r+=o[i](e,a,t,n,this):r+=this.renderToken(e,a,t)}return r},Ia.prototype.renderInlineAsText=function(e,t,n){let r="";for(let o=0,a=e.length;o<a;o++)switch(e[o].type){case"text":case"html_inline":case"html_block":r+=e[o].content;break;case"image":r+=this.renderInlineAsText(e[o].children,t,n);break;case"softbreak":case"hardbreak":r+="\n"}return r},Ia.prototype.render=function(e,t,n){let r="";const o=this.rules;for(let a=0,i=e.length;a<i;a++){const i=e[a].type;"inline"===i?r+=this.renderInline(e[a].children,t,n):void 0!==o[i]?r+=o[i](e,a,t,n,this):r+=this.renderToken(e,a,t,n)}return r};const ja=Ia;function Fa(){this.__rules__=[],this.__cache__=null}Fa.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},Fa.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},Fa.prototype.at=function(e,t,n){const r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},Fa.prototype.before=function(e,t,n,r){const o=this.__find__(e),a=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:a.alt||[]}),this.__cache__=null},Fa.prototype.after=function(e,t,n,r){const o=this.__find__(e),a=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:a.alt||[]}),this.__cache__=null},Fa.prototype.push=function(e,t,n){const r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},Fa.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach((function(e){const r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)}),this),this.__cache__=null,n},Fa.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},Fa.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach((function(e){const r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)}),this),this.__cache__=null,n},Fa.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]};const Ma=Fa;function La(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}La.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let n=0,r=t.length;n<r;n++)if(t[n][0]===e)return n;return-1},La.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},La.prototype.attrSet=function(e,t){const n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},La.prototype.attrGet=function(e){const t=this.attrIndex(e);let n=null;return t>=0&&(n=this.attrs[t][1]),n},La.prototype.attrJoin=function(e,t){const n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t};const Na=La;function Ba(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}Ba.prototype.Token=Na;const Va=Ba,za=/\r\n?|\n/g,$a=/\0/g;function Ua(e){return/^<\/a\s*>/i.test(e)}const Ha=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,qa=/\((c|tm|r)\)/i,Ga=/\((c|tm|r)\)/gi,Wa={c:"",r:"",tm:""};function Qa(e,t){return Wa[t.toLowerCase()]}function Ya(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];"text"!==r.type||t||(r.content=r.content.replace(Ga,Qa)),"link_open"===r.type&&"auto"===r.info&&t--,"link_close"===r.type&&"auto"===r.info&&t++}}function Xa(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];"text"!==r.type||t||Ha.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===r.type&&"auto"===r.info&&t--,"link_close"===r.type&&"auto"===r.info&&t++}}const Ka=/['"]/,Za=/['"]/g;function Ja(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function ei(e,t){let n;const r=[];for(let o=0;o<e.length;o++){const a=e[o],i=e[o].level;for(n=r.length-1;n>=0&&!(r[n].level<=i);n--);if(r.length=n+1,"text"!==a.type)continue;let s=a.content,l=0,c=s.length;e:for(;l<c;){Za.lastIndex=l;const u=Za.exec(s);if(!u)break;let d=!0,p=!0;l=u.index+1;const f="'"===u[0];let h=32;if(u.index-1>=0)h=s.charCodeAt(u.index-1);else for(n=o-1;n>=0&&"softbreak"!==e[n].type&&"hardbreak"!==e[n].type;n--)if(e[n].content){h=e[n].content.charCodeAt(e[n].content.length-1);break}let g=32;if(l<c)g=s.charCodeAt(l);else for(n=o+1;n<e.length&&"softbreak"!==e[n].type&&"hardbreak"!==e[n].type;n++)if(e[n].content){g=e[n].content.charCodeAt(0);break}const m=Aa(h)||Oa(String.fromCharCode(h)),b=Aa(g)||Oa(String.fromCharCode(g)),v=xa(h),y=xa(g);if(y?d=!1:b&&(v||m||(d=!1)),v?p=!1:m&&(y||b||(p=!1)),34===g&&'"'===u[0]&&h>=48&&h<=57&&(p=d=!1),d&&p&&(d=m,p=b),d||p){if(p)for(n=r.length-1;n>=0;n--){let d=r[n];if(r[n].level<i)break;if(d.single===f&&r[n].level===i){let i,p;d=r[n],f?(i=t.md.options.quotes[2],p=t.md.options.quotes[3]):(i=t.md.options.quotes[0],p=t.md.options.quotes[1]),a.content=Ja(a.content,u.index,p),e[d.token].content=Ja(e[d.token].content,d.pos,i),l+=p.length-1,d.token===o&&(l+=i.length-1),s=a.content,c=s.length,r.length=n;continue e}}d?r.push({token:o,pos:u.index,single:f,level:i}):p&&f&&(a.content=Ja(a.content,u.index,""))}else f&&(a.content=Ja(a.content,u.index,""))}}}const ti=[["normalize",function(e){let t;t=e.src.replace(za,"\n"),t=t.replace($a,""),e.src=t}],["block",function(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}],["inline",function(e){const t=e.tokens;for(let n=0,r=t.length;n<r;n++){const r=t[n];"inline"===r.type&&e.md.inline.parse(r.content,e.md,e.env,r.children)}}],["linkify",function(e){const t=e.tokens;var n;if(e.md.options.linkify)for(let r=0,o=t.length;r<o;r++){if("inline"!==t[r].type||!e.md.linkify.pretest(t[r].content))continue;let o=t[r].children,a=0;for(let i=o.length-1;i>=0;i--){const s=o[i];if("link_close"!==s.type){if("html_inline"===s.type&&(n=s.content,/^<a[>\s]/i.test(n)&&a>0&&a--,Ua(s.content)&&a++),!(a>0)&&"text"===s.type&&e.md.linkify.test(s.content)){const n=s.content;let a=e.md.linkify.match(n);const l=[];let c=s.level,u=0;a.length>0&&0===a[0].index&&i>0&&"text_special"===o[i-1].type&&(a=a.slice(1));for(let t=0;t<a.length;t++){const r=a[t].url,o=e.md.normalizeLink(r);if(!e.md.validateLink(o))continue;let i=a[t].text;i=a[t].schema?"mailto:"!==a[t].schema||/^mailto:/i.test(i)?e.md.normalizeLinkText(i):e.md.normalizeLinkText("mailto:"+i).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+i).replace(/^http:\/\//,"");const s=a[t].index;if(s>u){const t=new e.Token("text","",0);t.content=n.slice(u,s),t.level=c,l.push(t)}const d=new e.Token("link_open","a",1);d.attrs=[["href",o]],d.level=c++,d.markup="linkify",d.info="auto",l.push(d);const p=new e.Token("text","",0);p.content=i,p.level=c,l.push(p);const f=new e.Token("link_close","a",-1);f.level=--c,f.markup="linkify",f.info="auto",l.push(f),u=a[t].lastIndex}if(u<n.length){const t=new e.Token("text","",0);t.content=n.slice(u),t.level=c,l.push(t)}t[r].children=o=la(o,i,l)}}else for(i--;o[i].level!==s.level&&"link_open"!==o[i].type;)i--}}}],["replacements",function(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(qa.test(e.tokens[t].content)&&Ya(e.tokens[t].children),Ha.test(e.tokens[t].content)&&Xa(e.tokens[t].children))}],["smartquotes",function(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&Ka.test(e.tokens[t].content)&&ei(e.tokens[t].children,e)}],["text_join",function(e){let t,n;const r=e.tokens,o=r.length;for(let e=0;e<o;e++){if("inline"!==r[e].type)continue;const o=r[e].children,a=o.length;for(t=0;t<a;t++)"text_special"===o[t].type&&(o[t].type="text");for(t=n=0;t<a;t++)"text"===o[t].type&&t+1<a&&"text"===o[t+1].type?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}}]];function ni(){this.ruler=new Ma;for(let e=0;e<ti.length;e++)this.ruler.push(ti[e][0],ti[e][1])}ni.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,r=t.length;n<r;n++)t[n](e)},ni.prototype.State=Va;const ri=ni;function oi(e,t,n,r){this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const o=this.src;for(let e=0,t=0,n=0,r=0,a=o.length,i=!1;t<a;t++){const s=o.charCodeAt(t);if(!i){if(Ca(s)){n++,9===s?r+=4-r%4:r++;continue}i=!0}10!==s&&t!==a-1||(10!==s&&t++,this.bMarks.push(e),this.eMarks.push(t),this.tShift.push(n),this.sCount.push(r),this.bsCount.push(0),i=!1,n=0,r=0,e=t+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}oi.prototype.push=function(e,t,n){const r=new Na(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r},oi.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},oi.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},oi.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t&&Ca(this.src.charCodeAt(e));e++);return e},oi.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!Ca(this.src.charCodeAt(--e)))return e+1;return e},oi.prototype.skipChars=function(e,t){for(let n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},oi.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},oi.prototype.getLines=function(e,t,n,r){if(e>=t)return"";const o=new Array(t-e);for(let a=0,i=e;i<t;i++,a++){let e=0;const s=this.bMarks[i];let l,c=s;for(l=i+1<t||r?this.eMarks[i]+1:this.eMarks[i];c<l&&e<n;){const t=this.src.charCodeAt(c);if(Ca(t))9===t?e+=4-(e+this.bsCount[i])%4:e++;else{if(!(c-s<this.tShift[i]))break;e++}c++}o[a]=e>n?new Array(e-n+1).join(" ")+this.src.slice(c,l):this.src.slice(c,l)}return o.join("")},oi.prototype.Token=Na;const ai=oi;function ii(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function si(e){const t=[],n=e.length;let r=0,o=e.charCodeAt(r),a=!1,i=0,s="";for(;r<n;)124===o&&(a?(s+=e.substring(i,r-1),i=r):(t.push(s+e.substring(i,r)),s="",i=r+1)),a=92===o,r++,o=e.charCodeAt(r);return t.push(s+e.substring(i)),t}function li(e,t){const n=e.eMarks[t];let r=e.bMarks[t]+e.tShift[t];const o=e.src.charCodeAt(r++);return 42!==o&&45!==o&&43!==o||r<n&&!Ca(e.src.charCodeAt(r))?-1:r}function ci(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];let o=n;if(o+1>=r)return-1;let a=e.src.charCodeAt(o++);if(a<48||a>57)return-1;for(;;){if(o>=r)return-1;if(a=e.src.charCodeAt(o++),!(a>=48&&a<=57)){if(41===a||46===a)break;return-1}if(o-n>=10)return-1}return o<r&&(a=e.src.charCodeAt(o),!Ca(a))?-1:o}const ui="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",di="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",pi=new RegExp("^(?:"+ui+"|"+di+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),fi=new RegExp("^(?:"+ui+"|"+di+")"),hi=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(fi.source+"\\s*$"),/^$/,!1]],gi=[["table",function(e,t,n,r){if(t+2>n)return!1;let o=t+1;if(e.sCount[o]<e.blkIndent)return!1;if(e.sCount[o]-e.blkIndent>=4)return!1;let a=e.bMarks[o]+e.tShift[o];if(a>=e.eMarks[o])return!1;const i=e.src.charCodeAt(a++);if(124!==i&&45!==i&&58!==i)return!1;if(a>=e.eMarks[o])return!1;const s=e.src.charCodeAt(a++);if(124!==s&&45!==s&&58!==s&&!Ca(s))return!1;if(45===i&&Ca(s))return!1;for(;a<e.eMarks[o];){const t=e.src.charCodeAt(a);if(124!==t&&45!==t&&58!==t&&!Ca(t))return!1;a++}let l=ii(e,t+1),c=l.split("|");const u=[];for(let e=0;e<c.length;e++){const t=c[e].trim();if(!t){if(0===e||e===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(t))return!1;58===t.charCodeAt(t.length-1)?u.push(58===t.charCodeAt(0)?"center":"right"):58===t.charCodeAt(0)?u.push("left"):u.push("")}if(l=ii(e,t).trim(),-1===l.indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;c=si(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop();const d=c.length;if(0===d||d!==u.length)return!1;if(r)return!0;const p=e.parentType;e.parentType="table";const f=e.md.block.ruler.getRules("blockquote"),h=[t,0];e.push("table_open","table",1).map=h,e.push("thead_open","thead",1).map=[t,t+1],e.push("tr_open","tr",1).map=[t,t+1];for(let t=0;t<c.length;t++){const n=e.push("th_open","th",1);u[t]&&(n.attrs=[["style","text-align:"+u[t]]]);const r=e.push("inline","",0);r.content=c[t].trim(),r.children=[],e.push("th_close","th",-1)}let g;e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let m=0;for(o=t+2;o<n&&!(e.sCount[o]<e.blkIndent);o++){let r=!1;for(let t=0,a=f.length;t<a;t++)if(f[t](e,o,n,!0)){r=!0;break}if(r)break;if(l=ii(e,o).trim(),!l)break;if(e.sCount[o]-e.blkIndent>=4)break;if(c=si(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop(),m+=d-c.length,m>65536)break;o===t+2&&(e.push("tbody_open","tbody",1).map=g=[t+2,0]),e.push("tr_open","tr",1).map=[o,o+1];for(let t=0;t<d;t++){const n=e.push("td_open","td",1);u[t]&&(n.attrs=[["style","text-align:"+u[t]]]);const r=e.push("inline","",0);r.content=c[t]?c[t].trim():"",r.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return g&&(e.push("tbody_close","tbody",-1),g[1]=o),e.push("table_close","table",-1),h[1]=o,e.parentType=p,e.line=o,!0},["paragraph","reference"]],["code",function(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let r=t+1,o=r;for(;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;r++,o=r}e.line=o;const a=e.push("code_block","code",0);return a.content=e.getLines(t,o,4+e.blkIndent,!1)+"\n",a.map=[t,e.line],!0}],["fence",function(e,t,n,r){let o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(o+3>a)return!1;const i=e.src.charCodeAt(o);if(126!==i&&96!==i)return!1;let s=o;o=e.skipChars(o,i);let l=o-s;if(l<3)return!1;const c=e.src.slice(s,o),u=e.src.slice(o,a);if(96===i&&u.indexOf(String.fromCharCode(i))>=0)return!1;if(r)return!0;let d=t,p=!1;for(;!(d++,d>=n||(o=s=e.bMarks[d]+e.tShift[d],a=e.eMarks[d],o<a&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(o)===i&&!(e.sCount[d]-e.blkIndent>=4||(o=e.skipChars(o,i),o-s<l||(o=e.skipSpaces(o),o<a)))){p=!0;break}l=e.sCount[t],e.line=d+(p?1:0);const f=e.push("fence","code",0);return f.info=u,f.content=e.getLines(t+1,d,l,!0),f.markup=c,f.map=[t,e.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(e,t,n,r){let o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];const i=e.lineMax;if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(o))return!1;if(r)return!0;const s=[],l=[],c=[],u=[],d=e.md.block.ruler.getRules("blockquote"),p=e.parentType;e.parentType="blockquote";let f,h=!1;for(f=t;f<n;f++){const t=e.sCount[f]<e.blkIndent;if(o=e.bMarks[f]+e.tShift[f],a=e.eMarks[f],o>=a)break;if(62===e.src.charCodeAt(o++)&&!t){let t,n,r=e.sCount[f]+1;32===e.src.charCodeAt(o)?(o++,r++,n=!1,t=!0):9===e.src.charCodeAt(o)?(t=!0,(e.bsCount[f]+r)%4==3?(o++,r++,n=!1):n=!0):t=!1;let i=r;for(s.push(e.bMarks[f]),e.bMarks[f]=o;o<a;){const t=e.src.charCodeAt(o);if(!Ca(t))break;9===t?i+=4-(i+e.bsCount[f]+(n?1:0))%4:i++,o++}h=o>=a,l.push(e.bsCount[f]),e.bsCount[f]=e.sCount[f]+1+(t?1:0),c.push(e.sCount[f]),e.sCount[f]=i-r,u.push(e.tShift[f]),e.tShift[f]=o-e.bMarks[f];continue}if(h)break;let r=!1;for(let t=0,o=d.length;t<o;t++)if(d[t](e,f,n,!0)){r=!0;break}if(r){e.lineMax=f,0!==e.blkIndent&&(s.push(e.bMarks[f]),l.push(e.bsCount[f]),u.push(e.tShift[f]),c.push(e.sCount[f]),e.sCount[f]-=e.blkIndent);break}s.push(e.bMarks[f]),l.push(e.bsCount[f]),u.push(e.tShift[f]),c.push(e.sCount[f]),e.sCount[f]=-1}const g=e.blkIndent;e.blkIndent=0;const m=e.push("blockquote_open","blockquote",1);m.markup=">";const b=[t,0];m.map=b,e.md.block.tokenize(e,t,f),e.push("blockquote_close","blockquote",-1).markup=">",e.lineMax=i,e.parentType=p,b[1]=e.line;for(let n=0;n<u.length;n++)e.bMarks[n+t]=s[n],e.tShift[n+t]=u[n],e.sCount[n+t]=c[n],e.bsCount[n+t]=l[n];return e.blkIndent=g,!0},["paragraph","reference","blockquote","list"]],["hr",function(e,t,n,r){const o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let a=e.bMarks[t]+e.tShift[t];const i=e.src.charCodeAt(a++);if(42!==i&&45!==i&&95!==i)return!1;let s=1;for(;a<o;){const t=e.src.charCodeAt(a++);if(t!==i&&!Ca(t))return!1;t===i&&s++}if(s<3)return!1;if(r)return!0;e.line=t+1;const l=e.push("hr","hr",0);return l.map=[t,e.line],l.markup=Array(s+1).join(String.fromCharCode(i)),!0},["paragraph","reference","blockquote","list"]],["list",function(e,t,n,r){let o,a,i,s,l=t,c=!0;if(e.sCount[l]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[l]-e.listIndent>=4&&e.sCount[l]<e.blkIndent)return!1;let u,d,p,f=!1;if(r&&"paragraph"===e.parentType&&e.sCount[l]>=e.blkIndent&&(f=!0),(p=ci(e,l))>=0){if(u=!0,i=e.bMarks[l]+e.tShift[l],d=Number(e.src.slice(i,p-1)),f&&1!==d)return!1}else{if(!((p=li(e,l))>=0))return!1;u=!1}if(f&&e.skipSpaces(p)>=e.eMarks[l])return!1;if(r)return!0;const h=e.src.charCodeAt(p-1),g=e.tokens.length;u?(s=e.push("ordered_list_open","ol",1),1!==d&&(s.attrs=[["start",d]])):s=e.push("bullet_list_open","ul",1);const m=[l,0];s.map=m,s.markup=String.fromCharCode(h);let b=!1;const v=e.md.block.ruler.getRules("list"),y=e.parentType;for(e.parentType="list";l<n;){a=p,o=e.eMarks[l];const t=e.sCount[l]+p-(e.bMarks[l]+e.tShift[l]);let r=t;for(;a<o;){const t=e.src.charCodeAt(a);if(9===t)r+=4-(r+e.bsCount[l])%4;else{if(32!==t)break;r++}a++}const d=a;let f;f=d>=o?1:r-t,f>4&&(f=1);const g=t+f;s=e.push("list_item_open","li",1),s.markup=String.fromCharCode(h);const m=[l,0];s.map=m,u&&(s.info=e.src.slice(i,p-1));const y=e.tight,w=e.tShift[l],E=e.sCount[l],S=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=g,e.tight=!0,e.tShift[l]=d-e.bMarks[l],e.sCount[l]=r,d>=o&&e.isEmpty(l+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,l,n,!0),e.tight&&!b||(c=!1),b=e.line-l>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=S,e.tShift[l]=w,e.sCount[l]=E,e.tight=y,s=e.push("list_item_close","li",-1),s.markup=String.fromCharCode(h),l=e.line,m[1]=l,l>=n)break;if(e.sCount[l]<e.blkIndent)break;if(e.sCount[l]-e.blkIndent>=4)break;let C=!1;for(let t=0,r=v.length;t<r;t++)if(v[t](e,l,n,!0)){C=!0;break}if(C)break;if(u){if(p=ci(e,l),p<0)break;i=e.bMarks[l]+e.tShift[l]}else if(p=li(e,l),p<0)break;if(h!==e.src.charCodeAt(p-1))break}return s=u?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),s.markup=String.fromCharCode(h),m[1]=l,e.line=l,e.parentType=y,c&&function(e,t){const n=e.level+2;for(let r=t+2,o=e.tokens.length-2;r<o;r++)e.tokens[r].level===n&&"paragraph_open"===e.tokens[r].type&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}(e,g),!0},["paragraph","reference","blockquote"]],["reference",function(e,t,n,r){let o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t],i=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(o))return!1;function s(t){const n=e.lineMax;if(t>=n||e.isEmpty(t))return null;let r=!1;if(e.sCount[t]-e.blkIndent>3&&(r=!0),e.sCount[t]<0&&(r=!0),!r){const r=e.md.block.ruler.getRules("reference"),o=e.parentType;e.parentType="reference";let a=!1;for(let o=0,i=r.length;o<i;o++)if(r[o](e,t,n,!0)){a=!0;break}if(e.parentType=o,a)return null}const o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];return e.src.slice(o,a+1)}let l=e.src.slice(o,a+1);a=l.length;let c=-1;for(o=1;o<a;o++){const e=l.charCodeAt(o);if(91===e)return!1;if(93===e){c=o;break}if(10===e){const e=s(i);null!==e&&(l+=e,a=l.length,i++)}else if(92===e&&(o++,o<a&&10===l.charCodeAt(o))){const e=s(i);null!==e&&(l+=e,a=l.length,i++)}}if(c<0||58!==l.charCodeAt(c+1))return!1;for(o=c+2;o<a;o++){const e=l.charCodeAt(o);if(10===e){const e=s(i);null!==e&&(l+=e,a=l.length,i++)}else if(!Ca(e))break}const u=e.md.helpers.parseLinkDestination(l,o,a);if(!u.ok)return!1;const d=e.md.normalizeLink(u.str);if(!e.md.validateLink(d))return!1;o=u.pos;const p=o,f=i,h=o;for(;o<a;o++){const e=l.charCodeAt(o);if(10===e){const e=s(i);null!==e&&(l+=e,a=l.length,i++)}else if(!Ca(e))break}let g,m=e.md.helpers.parseLinkTitle(l,o,a);for(;m.can_continue;){const t=s(i);if(null===t)break;l+=t,o=a,a=l.length,i++,m=e.md.helpers.parseLinkTitle(l,o,a,m)}for(o<a&&h!==o&&m.ok?(g=m.str,o=m.pos):(g="",o=p,i=f);o<a&&Ca(l.charCodeAt(o));)o++;if(o<a&&10!==l.charCodeAt(o)&&g)for(g="",o=p,i=f;o<a&&Ca(l.charCodeAt(o));)o++;if(o<a&&10!==l.charCodeAt(o))return!1;const b=Da(l.slice(1,c));return!!b&&(r||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[b]&&(e.env.references[b]={title:g,href:d}),e.line=i),!0)}],["html_block",function(e,t,n,r){let o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(o))return!1;let i=e.src.slice(o,a),s=0;for(;s<hi.length&&!hi[s][0].test(i);s++);if(s===hi.length)return!1;if(r)return hi[s][2];let l=t+1;if(!hi[s][1].test(i))for(;l<n&&!(e.sCount[l]<e.blkIndent);l++)if(o=e.bMarks[l]+e.tShift[l],a=e.eMarks[l],i=e.src.slice(o,a),hi[s][1].test(i)){0!==i.length&&l++;break}e.line=l;const c=e.push("html_block","",0);return c.map=[t,l],c.content=e.getLines(t,l,e.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(e,t,n,r){let o=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let i=e.src.charCodeAt(o);if(35!==i||o>=a)return!1;let s=1;for(i=e.src.charCodeAt(++o);35===i&&o<a&&s<=6;)s++,i=e.src.charCodeAt(++o);if(s>6||o<a&&!Ca(i))return!1;if(r)return!0;a=e.skipSpacesBack(a,o);const l=e.skipCharsBack(a,35,o);l>o&&Ca(e.src.charCodeAt(l-1))&&(a=l),e.line=t+1;const c=e.push("heading_open","h"+String(s),1);c.markup="########".slice(0,s),c.map=[t,e.line];const u=e.push("inline","",0);return u.content=e.src.slice(o,a).trim(),u.map=[t,e.line],u.children=[],e.push("heading_close","h"+String(s),-1).markup="########".slice(0,s),!0},["paragraph","reference","blockquote"]],["lheading",function(e,t,n){const r=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const o=e.parentType;e.parentType="paragraph";let a,i=0,s=t+1;for(;s<n&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3)continue;if(e.sCount[s]>=e.blkIndent){let t=e.bMarks[s]+e.tShift[s];const n=e.eMarks[s];if(t<n&&(a=e.src.charCodeAt(t),(45===a||61===a)&&(t=e.skipChars(t,a),t=e.skipSpaces(t),t>=n))){i=61===a?1:2;break}}if(e.sCount[s]<0)continue;let t=!1;for(let o=0,a=r.length;o<a;o++)if(r[o](e,s,n,!0)){t=!0;break}if(t)break}if(!i)return!1;const l=e.getLines(t,s,e.blkIndent,!1).trim();e.line=s+1;const c=e.push("heading_open","h"+String(i),1);c.markup=String.fromCharCode(a),c.map=[t,e.line];const u=e.push("inline","",0);return u.content=l,u.map=[t,e.line-1],u.children=[],e.push("heading_close","h"+String(i),-1).markup=String.fromCharCode(a),e.parentType=o,!0}],["paragraph",function(e,t,n){const r=e.md.block.ruler.getRules("paragraph"),o=e.parentType;let a=t+1;for(e.parentType="paragraph";a<n&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3)continue;if(e.sCount[a]<0)continue;let t=!1;for(let o=0,i=r.length;o<i;o++)if(r[o](e,a,n,!0)){t=!0;break}if(t)break}const i=e.getLines(t,a,e.blkIndent,!1).trim();e.line=a,e.push("paragraph_open","p",1).map=[t,e.line];const s=e.push("inline","",0);return s.content=i,s.map=[t,e.line],s.children=[],e.push("paragraph_close","p",-1),e.parentType=o,!0}]];function mi(){this.ruler=new Ma;for(let e=0;e<gi.length;e++)this.ruler.push(gi[e][0],gi[e][1],{alt:(gi[e][2]||[]).slice()})}mi.prototype.tokenize=function(e,t,n){const r=this.ruler.getRules(""),o=r.length,a=e.md.options.maxNesting;let i=t,s=!1;for(;i<n&&(e.line=i=e.skipEmptyLines(i),!(i>=n))&&!(e.sCount[i]<e.blkIndent);){if(e.level>=a){e.line=n;break}const t=e.line;let l=!1;for(let a=0;a<o;a++)if(l=r[a](e,i,n,!1),l){if(t>=e.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),i=e.line,i<n&&e.isEmpty(i)&&(s=!0,i++,e.line=i)}},mi.prototype.parse=function(e,t,n,r){if(!e)return;const o=new this.State(e,t,n,r);this.tokenize(o,o.line,o.lineMax)},mi.prototype.State=ai;const bi=mi;function vi(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}vi.prototype.pushPending=function(){const e=new Na("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},vi.prototype.push=function(e,t,n){this.pending&&this.pushPending();const r=new Na(e,t,n);let o=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(o),r},vi.prototype.scanDelims=function(e,t){const n=this.posMax,r=this.src.charCodeAt(e),o=e>0?this.src.charCodeAt(e-1):32;let a=e;for(;a<n&&this.src.charCodeAt(a)===r;)a++;const i=a-e,s=a<n?this.src.charCodeAt(a):32,l=Aa(o)||Oa(String.fromCharCode(o)),c=Aa(s)||Oa(String.fromCharCode(s)),u=xa(o),d=xa(s),p=!d&&(!c||u||l),f=!u&&(!l||d||c);return{can_open:p&&(t||!f||l),can_close:f&&(t||!p||c),length:i}},vi.prototype.Token=Na;const yi=vi;function wi(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}const Ei=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,Si=[];for(let e=0;e<256;e++)Si.push(0);function Ci(e,t){let n;const r=[],o=t.length;for(let a=0;a<o;a++){const o=t[a];if(126!==o.marker)continue;if(-1===o.end)continue;const i=t[o.end];n=e.tokens[o.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[i.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&r.push(i.token-1)}for(;r.length;){const t=r.pop();let o=t+1;for(;o<e.tokens.length&&"s_close"===e.tokens[o].type;)o++;o--,t!==o&&(n=e.tokens[o],e.tokens[o]=e.tokens[t],e.tokens[t]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){Si[e.charCodeAt(0)]=1}));const xi={tokenize:function(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t)return!1;if(126!==r)return!1;const o=e.scanDelims(e.pos,!0);let a=o.length;const i=String.fromCharCode(r);if(a<2)return!1;let s;a%2&&(s=e.push("text","",0),s.content=i,a--);for(let t=0;t<a;t+=2)s=e.push("text","",0),s.content=i+i,e.delimiters.push({marker:r,length:0,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;Ci(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&Ci(e,t[r].delimiters)}};function Oi(e,t){for(let n=t.length-1;n>=0;n--){const r=t[n];if(95!==r.marker&&42!==r.marker)continue;if(-1===r.end)continue;const o=t[r.end],a=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===o.token+1,i=String.fromCharCode(r.marker),s=e.tokens[r.token];s.type=a?"strong_open":"em_open",s.tag=a?"strong":"em",s.nesting=1,s.markup=a?i+i:i,s.content="";const l=e.tokens[o.token];l.type=a?"strong_close":"em_close",l.tag=a?"strong":"em",l.nesting=-1,l.markup=a?i+i:i,l.content="",a&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--)}}const Ai={tokenize:function(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t)return!1;if(95!==r&&42!==r)return!1;const o=e.scanDelims(e.pos,42===r);for(let t=0;t<o.length;t++)e.push("text","",0).content=String.fromCharCode(r),e.delimiters.push({marker:r,length:o.length,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;Oi(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&Oi(e,t[r].delimiters)}},Di=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Ri=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/,_i=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,ki=/^&([a-z][a-z0-9]{1,31});/i;function Pi(e){const t={},n=e.length;if(!n)return;let r=0,o=-2;const a=[];for(let i=0;i<n;i++){const n=e[i];if(a.push(0),e[r].marker===n.marker&&o===n.token-1||(r=i),o=n.token,n.length=n.length||0,!n.close)continue;t.hasOwnProperty(n.marker)||(t[n.marker]=[-1,-1,-1,-1,-1,-1]);const s=t[n.marker][(n.open?3:0)+n.length%3];let l=r-a[r]-1,c=l;for(;l>s;l-=a[l]+1){const t=e[l];if(t.marker===n.marker&&t.open&&t.end<0){let r=!1;if((t.close||n.open)&&(t.length+n.length)%3==0&&(t.length%3==0&&n.length%3==0||(r=!0)),!r){const r=l>0&&!e[l-1].open?a[l-1]+1:0;a[i]=i-l+r,a[l]=r,n.open=!1,t.end=i,t.close=!1,c=-1,o=-2;break}}}-1!==c&&(t[n.marker][(n.open?3:0)+(n.length||0)%3]=c)}}const Ti=[["text",function(e,t){let n=e.pos;for(;n<e.posMax&&!wi(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["linkify",function(e,t){if(!e.md.options.linkify)return!1;if(e.linkLevel>0)return!1;const n=e.pos;if(n+3>e.posMax)return!1;if(58!==e.src.charCodeAt(n))return!1;if(47!==e.src.charCodeAt(n+1))return!1;if(47!==e.src.charCodeAt(n+2))return!1;const r=e.pending.match(Ei);if(!r)return!1;const o=r[1],a=e.md.linkify.matchAtStart(e.src.slice(n-o.length));if(!a)return!1;let i=a.url;if(i.length<=o.length)return!1;i=i.replace(/\*+$/,"");const s=e.md.normalizeLink(i);if(!e.md.validateLink(s))return!1;if(!t){e.pending=e.pending.slice(0,-o.length);const t=e.push("link_open","a",1);t.attrs=[["href",s]],t.markup="linkify",t.info="auto",e.push("text","",0).content=e.md.normalizeLinkText(i);const n=e.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return e.pos+=i.length-o.length,!0}],["newline",function(e,t){let n=e.pos;if(10!==e.src.charCodeAt(n))return!1;const r=e.pending.length-1,o=e.posMax;if(!t)if(r>=0&&32===e.pending.charCodeAt(r))if(r>=1&&32===e.pending.charCodeAt(r-1)){let t=r-1;for(;t>=1&&32===e.pending.charCodeAt(t-1);)t--;e.pending=e.pending.slice(0,t),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<o&&Ca(e.src.charCodeAt(n));)n++;return e.pos=n,!0}],["escape",function(e,t){let n=e.pos;const r=e.posMax;if(92!==e.src.charCodeAt(n))return!1;if(n++,n>=r)return!1;let o=e.src.charCodeAt(n);if(10===o){for(t||e.push("hardbreak","br",0),n++;n<r&&(o=e.src.charCodeAt(n),Ca(o));)n++;return e.pos=n,!0}let a=e.src[n];if(o>=55296&&o<=56319&&n+1<r){const t=e.src.charCodeAt(n+1);t>=56320&&t<=57343&&(a+=e.src[n+1],n++)}const i="\\"+a;if(!t){const t=e.push("text_special","",0);o<256&&0!==Si[o]?t.content=a:t.content=i,t.markup=i,t.info="escape"}return e.pos=n+1,!0}],["backticks",function(e,t){let n=e.pos;if(96!==e.src.charCodeAt(n))return!1;const r=n;n++;const o=e.posMax;for(;n<o&&96===e.src.charCodeAt(n);)n++;const a=e.src.slice(r,n),i=a.length;if(e.backticksScanned&&(e.backticks[i]||0)<=r)return t||(e.pending+=a),e.pos+=i,!0;let s,l=n;for(;-1!==(s=e.src.indexOf("`",l));){for(l=s+1;l<o&&96===e.src.charCodeAt(l);)l++;const r=l-s;if(r===i){if(!t){const t=e.push("code_inline","code",0);t.markup=a,t.content=e.src.slice(n,s).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=l,!0}e.backticks[r]=s}return e.backticksScanned=!0,t||(e.pending+=a),e.pos+=i,!0}],["strikethrough",xi.tokenize],["emphasis",Ai.tokenize],["link",function(e,t){let n,r,o,a,i="",s="",l=e.pos,c=!0;if(91!==e.src.charCodeAt(e.pos))return!1;const u=e.pos,d=e.posMax,p=e.pos+1,f=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(f<0)return!1;let h=f+1;if(h<d&&40===e.src.charCodeAt(h)){for(c=!1,h++;h<d&&(n=e.src.charCodeAt(h),Ca(n)||10===n);h++);if(h>=d)return!1;if(l=h,o=e.md.helpers.parseLinkDestination(e.src,h,e.posMax),o.ok){for(i=e.md.normalizeLink(o.str),e.md.validateLink(i)?h=o.pos:i="",l=h;h<d&&(n=e.src.charCodeAt(h),Ca(n)||10===n);h++);if(o=e.md.helpers.parseLinkTitle(e.src,h,e.posMax),h<d&&l!==h&&o.ok)for(s=o.str,h=o.pos;h<d&&(n=e.src.charCodeAt(h),Ca(n)||10===n);h++);}(h>=d||41!==e.src.charCodeAt(h))&&(c=!0),h++}if(c){if(void 0===e.env.references)return!1;if(h<d&&91===e.src.charCodeAt(h)?(l=h+1,h=e.md.helpers.parseLinkLabel(e,h),h>=0?r=e.src.slice(l,h++):h=f+1):h=f+1,r||(r=e.src.slice(p,f)),a=e.env.references[Da(r)],!a)return e.pos=u,!1;i=a.href,s=a.title}if(!t){e.pos=p,e.posMax=f;const t=[["href",i]];e.push("link_open","a",1).attrs=t,s&&t.push(["title",s]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=h,e.posMax=d,!0}],["image",function(e,t){let n,r,o,a,i,s,l,c,u="";const d=e.pos,p=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;const f=e.pos+2,h=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(h<0)return!1;if(a=h+1,a<p&&40===e.src.charCodeAt(a)){for(a++;a<p&&(n=e.src.charCodeAt(a),Ca(n)||10===n);a++);if(a>=p)return!1;for(c=a,s=e.md.helpers.parseLinkDestination(e.src,a,e.posMax),s.ok&&(u=e.md.normalizeLink(s.str),e.md.validateLink(u)?a=s.pos:u=""),c=a;a<p&&(n=e.src.charCodeAt(a),Ca(n)||10===n);a++);if(s=e.md.helpers.parseLinkTitle(e.src,a,e.posMax),a<p&&c!==a&&s.ok)for(l=s.str,a=s.pos;a<p&&(n=e.src.charCodeAt(a),Ca(n)||10===n);a++);else l="";if(a>=p||41!==e.src.charCodeAt(a))return e.pos=d,!1;a++}else{if(void 0===e.env.references)return!1;if(a<p&&91===e.src.charCodeAt(a)?(c=a+1,a=e.md.helpers.parseLinkLabel(e,a),a>=0?o=e.src.slice(c,a++):a=h+1):a=h+1,o||(o=e.src.slice(f,h)),i=e.env.references[Da(o)],!i)return e.pos=d,!1;u=i.href,l=i.title}if(!t){r=e.src.slice(f,h);const t=[];e.md.inline.parse(r,e.md,e.env,t);const n=e.push("image","img",0),o=[["src",u],["alt",""]];n.attrs=o,n.children=t,n.content=r,l&&o.push(["title",l])}return e.pos=a,e.posMax=p,!0}],["autolink",function(e,t){let n=e.pos;if(60!==e.src.charCodeAt(n))return!1;const r=e.pos,o=e.posMax;for(;;){if(++n>=o)return!1;const t=e.src.charCodeAt(n);if(60===t)return!1;if(62===t)break}const a=e.src.slice(r+1,n);if(Ri.test(a)){const n=e.md.normalizeLink(a);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto",e.push("text","",0).content=e.md.normalizeLinkText(a);const r=e.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return e.pos+=a.length+2,!0}if(Di.test(a)){const n=e.md.normalizeLink("mailto:"+a);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto",e.push("text","",0).content=e.md.normalizeLinkText(a);const r=e.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return e.pos+=a.length+2,!0}return!1}],["html_inline",function(e,t){if(!e.md.options.html)return!1;const n=e.posMax,r=e.pos;if(60!==e.src.charCodeAt(r)||r+2>=n)return!1;const o=e.src.charCodeAt(r+1);if(33!==o&&63!==o&&47!==o&&!function(e){const t=32|e;return t>=97&&t<=122}(o))return!1;const a=e.src.slice(r).match(pi);if(!a)return!1;if(!t){const t=e.push("html_inline","",0);t.content=a[0],i=t.content,/^<a[>\s]/i.test(i)&&e.linkLevel++,function(e){return/^<\/a\s*>/i.test(e)}(t.content)&&e.linkLevel--}var i;return e.pos+=a[0].length,!0}],["entity",function(e,t){const n=e.pos,r=e.posMax;if(38!==e.src.charCodeAt(n))return!1;if(n+1>=r)return!1;if(35===e.src.charCodeAt(n+1)){const r=e.src.slice(n).match(_i);if(r){if(!t){const t="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),n=e.push("text_special","",0);n.content=ca(t)?ua(t):ua(65533),n.markup=r[0],n.info="entity"}return e.pos+=r[0].length,!0}}else{const r=e.src.slice(n).match(ki);if(r){const n=Zo(r[0]);if(n!==r[0]){if(!t){const t=e.push("text_special","",0);t.content=n,t.markup=r[0],t.info="entity"}return e.pos+=r[0].length,!0}}}return!1}]],Ii=[["balance_pairs",function(e){const t=e.tokens_meta,n=e.tokens_meta.length;Pi(e.delimiters);for(let e=0;e<n;e++)t[e]&&t[e].delimiters&&Pi(t[e].delimiters)}],["strikethrough",xi.postProcess],["emphasis",Ai.postProcess],["fragments_join",function(e){let t,n,r=0;const o=e.tokens,a=e.tokens.length;for(t=n=0;t<a;t++)o[t].nesting<0&&r--,o[t].level=r,o[t].nesting>0&&r++,"text"===o[t].type&&t+1<a&&"text"===o[t+1].type?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}]];function ji(){this.ruler=new Ma;for(let e=0;e<Ti.length;e++)this.ruler.push(Ti[e][0],Ti[e][1]);this.ruler2=new Ma;for(let e=0;e<Ii.length;e++)this.ruler2.push(Ii[e][0],Ii[e][1])}ji.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),r=n.length,o=e.md.options.maxNesting,a=e.cache;if(void 0!==a[t])return void(e.pos=a[t]);let i=!1;if(e.level<o){for(let o=0;o<r;o++)if(e.level++,i=n[o](e,!0),e.level--,i){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;i||e.pos++,a[t]=e.pos},ji.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,r=e.posMax,o=e.md.options.maxNesting;for(;e.pos<r;){const a=e.pos;let i=!1;if(e.level<o)for(let r=0;r<n;r++)if(i=t[r](e,!1),i){if(a>=e.pos)throw new Error("inline rule didn't increment state.pos");break}if(i){if(e.pos>=r)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},ji.prototype.parse=function(e,t,n,r){const o=new this.State(e,t,n,r);this.tokenize(o);const a=this.ruler2.getRules(""),i=a.length;for(let e=0;e<i;e++)a[e](o)},ji.prototype.State=yi;const Fi=ji;function Mi(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function Li(e){return Object.prototype.toString.call(e)}function Ni(e){return"[object Function]"===Li(e)}function Bi(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Vi={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},zi={"http:":{validate:function(e,t,n){const r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},$i="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function Ui(e){const t=e.re=function(e){const t={};e=e||{},t.src_Any=Io.source,t.src_Cc=jo.source,t.src_Z=Mo.source,t.src_P=Po.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}(e.__opts__),n=e.__tlds__.slice();function r(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");const o=[];function a(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){const n=e.__schemas__[t];if(null===n)return;const r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===Li(n))return"[object RegExp]"!==Li(n.validate)?Ni(n.validate)?r.validate=n.validate:a(t,n):r.validate=function(e){return function(t,n){const r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(Ni(n.normalize)?r.normalize=n.normalize:n.normalize?a(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===Li(e)}(n)?a(t,n):o.push(t)})),o.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};const i=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(Bi).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+i+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+i+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function Hi(e,t){const n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function qi(e,t){const n=new Hi(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function Gi(e,t){if(!(this instanceof Gi))return new Gi(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||Vi.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=Mi({},Vi,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Mi({},zi,e),this.__compiled__={},this.__tlds__=$i,this.__tlds_replaced__=!1,this.re={},Ui(this)}Gi.prototype.add=function(e,t){return this.__schemas__[e]=t,Ui(this),this},Gi.prototype.set=function(e){return this.__opts__=Mi(this.__opts__,e),this},Gi.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,n,r,o,a,i,s,l,c;if(this.re.schema_test.test(e))for(s=this.re.schema_search,s.lastIndex=0;null!==(t=s.exec(e));)if(o=this.testSchemaAt(e,t[2],s.lastIndex),o){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(a=n.index+n[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(a=r.index+r[1].length,i=r.index+r[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=i))),this.__index__>=0},Gi.prototype.pretest=function(e){return this.re.pretest.test(e)},Gi.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},Gi.prototype.match=function(e){const t=[];let n=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(qi(this,n)),n=this.__last_index__);let r=n?e.slice(n):e;for(;this.test(r);)t.push(qi(this,n)),r=r.slice(this.__last_index__),n+=this.__last_index__;return t.length?t:null},Gi.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,qi(this,0)):null},Gi.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),Ui(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Ui(this),this)},Gi.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},Gi.prototype.onCompile=function(){};const Wi=Gi,Qi=2147483647,Yi=36,Xi=/^xn--/,Ki=/[^\0-\x7F]/,Zi=/[\x2E\u3002\uFF0E\uFF61]/g,Ji={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},es=Math.floor,ts=String.fromCharCode;function ns(e){throw new RangeError(Ji[e])}function rs(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]);const o=function(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}((e=e.replace(Zi,".")).split("."),t).join(".");return r+o}function os(e){const t=[];let n=0;const r=e.length;for(;n<r;){const o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&o)<<10)+(1023&r)+65536):(t.push(o),n--)}else t.push(o)}return t}const as=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},is=function(e,t,n){let r=0;for(e=n?es(e/700):e>>1,e+=es(e/t);e>455;r+=Yi)e=es(e/35);return es(r+36*e/(e+38))},ss=function(e){const t=[],n=e.length;let r=0,o=128,a=72,i=e.lastIndexOf("-");i<0&&(i=0);for(let n=0;n<i;++n)e.charCodeAt(n)>=128&&ns("not-basic"),t.push(e.charCodeAt(n));for(let l=i>0?i+1:0;l<n;){const i=r;for(let t=1,o=Yi;;o+=Yi){l>=n&&ns("invalid-input");const i=(s=e.charCodeAt(l++))>=48&&s<58?s-48+26:s>=65&&s<91?s-65:s>=97&&s<123?s-97:Yi;i>=Yi&&ns("invalid-input"),i>es((Qi-r)/t)&&ns("overflow"),r+=i*t;const c=o<=a?1:o>=a+26?26:o-a;if(i<c)break;const u=Yi-c;t>es(Qi/u)&&ns("overflow"),t*=u}const c=t.length+1;a=is(r-i,c,0==i),es(r/c)>Qi-o&&ns("overflow"),o+=es(r/c),r%=c,t.splice(r++,0,o)}var s;return String.fromCodePoint(...t)},ls=function(e){const t=[],n=(e=os(e)).length;let r=128,o=0,a=72;for(const n of e)n<128&&t.push(ts(n));const i=t.length;let s=i;for(i&&t.push("-");s<n;){let n=Qi;for(const t of e)t>=r&&t<n&&(n=t);const l=s+1;n-r>es((Qi-o)/l)&&ns("overflow"),o+=(n-r)*l,r=n;for(const n of e)if(n<r&&++o>Qi&&ns("overflow"),n===r){let e=o;for(let n=Yi;;n+=Yi){const r=n<=a?1:n>=a+26?26:n-a;if(e<r)break;const o=e-r,i=Yi-r;t.push(ts(as(r+o%i,0))),e=es(o/i)}t.push(ts(as(e,0))),a=is(o,l,s===i),o=0,++s}++o,++r}return t.join("")},cs=function(e){return rs(e,(function(e){return Ki.test(e)?"xn--"+ls(e):e}))},us=function(e){return rs(e,(function(e){return Xi.test(e)?ss(e.slice(4).toLowerCase()):e}))},ds={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},ps=/^(vbscript|javascript|file|data):/,fs=/^data:image\/(gif|png|jpeg|webp);/;function hs(e){const t=e.trim().toLowerCase();return!ps.test(t)||fs.test(t)}const gs=["http:","https:","mailto:"];function ms(e){const t=ko(e,!0);if(t.hostname&&(!t.protocol||gs.indexOf(t.protocol)>=0))try{t.hostname=cs(t.hostname)}catch(e){}return mo(bo(t))}function bs(e){const t=ko(e,!0);if(t.hostname&&(!t.protocol||gs.indexOf(t.protocol)>=0))try{t.hostname=us(t.hostname)}catch(e){}return fo(bo(t),fo.defaultChars+"%")}function vs(e,t){if(!(this instanceof vs))return new vs(e,t);t||oa(e)||(t=e||{},e="default"),this.inline=new Fi,this.block=new bi,this.core=new ri,this.renderer=new ja,this.linkify=new Wi,this.validateLink=hs,this.normalizeLink=ms,this.normalizeLinkText=bs,this.utils=n,this.helpers=sa({},r),this.options={},this.configure(e),t&&this.set(t)}vs.prototype.set=function(e){return sa(this.options,e),this},vs.prototype.configure=function(e){const t=this;if(oa(e)){const t=e;if(!(e=ds[t]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)})),this},vs.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));const r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},vs.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));const r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},vs.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},vs.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},vs.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},vs.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},vs.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const ys=vs,ws=e=>({root:X.css`
      &:last-child {
        margin-bottom: 0;
        border-bottom: 0;
      }

      img {
        max-width: 100%;
      }

      li {
        margin-left: ${e.spacing(2)};
      }

      a {
        color: ${e.colors.text.link};
      }

      table {
        border-collapse: collapse;

        th,
        td {
          padding: ${e.spacing(.5)} ${e.spacing(1)};
          border-top: 1px solid ${e.colors.border.medium};
          border-left: 1px solid ${e.colors.border.medium};
        }

        th {
          font-weight: ${e.typography.fontWeightMedium};
          background: ${e.colors.background.secondary};
        }

        border-bottom: 1px solid ${e.colors.border.medium};
        border-right: 1px solid ${e.colors.border.medium};
      }

      blockquote {
        margin: ${e.spacing(2)} 0;
        border-left: 5px solid ${e.colors.border.strong};
        padding: ${e.spacing(1)};
        padding-left: ${e.spacing(2)};

        p {
          font-size: ${e.typography.body.fontSize};
          color: ${e.colors.text.secondary};
        }
      }
    `});function Es(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ss=new ys({html:!0}),Cs=H.nestedObjectCardContent,xs=({text:e,replaceVariables:t})=>{const n=(0,a.useStyles2)(ws);return c().createElement("div",(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Es(e,t,n[t])}))}return e}({},Cs.root.apply()),i=null!=(i={className:n.root,dangerouslySetInnerHTML:{__html:o.textUtil.sanitize(Ss.render(t(e)))}})?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(i)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})),r));var r,i};function Os(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function As(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Os(a,r,o,i,s,"next",e)}function s(e){Os(a,r,o,i,s,"throw",e)}i(void 0)}))}}function Ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ds(e,t,n[t])}))}return e}function _s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const ks=H.nestedObjectCardsItem,Ps=({value:e,isDeleteEnabled:t,isEditEnabled:n,isEditing:r,onEdit:l,replaceVariables:u,isLoading:d,onDelete:p})=>{const[f,h]=(0,s.useState)(null!=r&&r),[g,m]=(0,s.useState)(!1),[b,v]=(0,s.useState)(r?e:null),y=f&&b?b:e,w=(0,s.useCallback)((()=>{h(!0),v(_s(Rs({},e),{body:e.body?e.body.replaceAll("\n","\\n"):e.body}))}),[e]),E=(0,s.useCallback)(As((function*(){try{yield l(b),r||h(!1)}catch(e){}})),[r,b,l]);var S,C;return c().createElement(c().Fragment,null,c().createElement(a.Card,_s(Rs({},ks.root.apply()),{isCompact:!0}),c().createElement(a.Card.Heading,ks.root.apply(),void 0!==y.title&&c().createElement(c().Fragment,null,f?c().createElement(a.Input,Rs({placeholder:"Title",value:y.title,onChange:e=>v(_s(Rs({},y),{title:e.currentTarget.value}))},ks.fieldTitle.apply())):u(y.title))),c().createElement(a.Card.Meta,null,y.time?(0,o.dateTimeFormat)(y.time):"","string"==typeof y.author?y.author:"","number"==typeof y.author?y.author:""),c().createElement(a.Card.Description,null,void 0!==y.body&&c().createElement(c().Fragment,null,f?c().createElement(a.Field,null,c().createElement(i.v4,Rs({isEscaping:!0,value:y.body,onChange:e=>{v((t=>_s(Rs({},t),{body:e})))},language:"markdown"},ks.fieldBody.apply()))):c().createElement(xs,{text:y.body,replaceVariables:u})),f?c().createElement(a.Stack,{gap:1},c().createElement(a.Button,Rs({variant:"secondary",onClick:()=>{h(!1),v(null),l(null)},disabled:d},ks.buttonCancelEdit.apply()),"Cancel"),c().createElement(a.Button,Rs({variant:"primary",onClick:E,disabled:d},ks.buttonSaveEdit.apply()),"Save")):c().createElement(a.Stack,{gap:.5},n&&c().createElement(a.IconButton,Rs({name:"pen","aria-label":"Edit",onClick:w},ks.buttonStartEdit.apply())),t&&c().createElement(a.IconButton,Rs({name:"trash-alt","aria-label":"Delete",onClick:()=>m(!0)},ks.buttonStartDelete.apply()))))),g&&c().createElement(a.ConfirmModal,Rs({isOpen:!0,title:`Delete ${null!==(C=null!==(S=y.title)&&void 0!==S?S:y.body)&&void 0!==C?C:"Item"}`,body:"Please confirm to delete",confirmText:"Confirm",onConfirm:()=>null==p?void 0:p(y),onDismiss:()=>m(!1)},ks.modalConfirmDelete.apply())))};function Ts(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Is(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const js=H.nestedObjectCardsAdd,Fs=({mapper:e,onAdd:t,replaceVariables:n})=>{const[r,o]=(0,s.useState)(null),[i,l]=(0,s.useState)(!1);return r?c().createElement(a.FieldSet,{label:"New"},c().createElement(Ps,{value:r,isEditing:!0,onEdit:function(){var e,n=(e=function*(e){if(e){l(!0);try{yield t(e),o(null),l(!1)}catch(e){l(!1)}}else o(null)},function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ts(a,r,o,i,s,"next",e)}function s(e){Ts(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}(),isEditEnabled:!0,isDeleteEnabled:!1,isLoading:i,replaceVariables:n})):c().createElement(a.Button,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Is(e,t,n[t])}))}return e}({icon:"plus-circle",onClick:()=>o(e.createNewPayload())},js.buttonAdd.apply()),"Add")},Ms=()=>({list:X.css`
      width: 100%;
    `});function Ls(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Ns(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ls(a,r,o,i,s,"next",e)}function s(e){Ls(a,r,o,i,s,"throw",e)}i(void 0)}))}}function Bs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Bs(e,t,n[t])}))}return e}const zs=H.nestedObjectCardsControl;var $s=m(4621),Us=m(977);function Hs(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&(0,Us.Ng)(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function qs(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Gs(e){return(null==e?void 0:e.ownerDocument)||document}function Ws(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function Qs(e){return"composedPath"in e?e.composedPath()[0]:e.target}var Ys=m(8398),Xs=m.n(Ys);const Ks={...l},Zs=Ks.useInsertionEffect||(e=>e());function Js(e){const t=s.useRef((()=>{}));return Zs((()=>{t.current=e})),s.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}var el="undefined"!=typeof document?s.useLayoutEffect:s.useEffect;let tl=!1,nl=0;const rl=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+nl++,ol=Ks.useId||function(){const[e,t]=s.useState((()=>tl?rl():void 0));return el((()=>{null==e&&t(rl())}),[]),s.useEffect((()=>{tl=!0}),[]),e};const al=s.createContext(null),il=s.createContext(null),sl=()=>s.useContext(il);function ll(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(r);return n}const cl="data-floating-ui-focusable";function ul(e){return(0,Us.sb)(e.target)&&"BUTTON"===e.target.tagName}function dl(e){return function(e){return(0,Us.sb)(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}(e)}const pl={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},fl={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},hl=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function gl(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=ol(),a=s.useRef({}),[i]=s.useState((()=>function(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}())),l=null!=((null==(h=s.useContext(al))?void 0:h.id)||null),[c,u]=s.useState(r.reference),d=Js(((e,t,r)=>{a.current.openEvent=e?t:void 0,i.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)})),p=s.useMemo((()=>({setPositionReference:u})),[]),f=s.useMemo((()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference})),[c,r.reference,r.floating]);var h;return s.useMemo((()=>({dataRef:a,open:t,onOpenChange:d,elements:f,events:i,floatingId:o,refs:p})),[t,d,f,i,o,p])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[a,i]=s.useState(null),[l,c]=s.useState(null),u=(null==o?void 0:o.reference)||a,d=s.useRef(null),p=sl();el((()=>{u&&(d.current=u)}),[u]);const f=(0,$s.we)({...e,elements:{...o,...l&&{reference:l}}}),h=s.useCallback((e=>{const t=(0,Us.vq)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;c(t),f.refs.setReference(t)}),[f.refs]),g=s.useCallback((e=>{((0,Us.vq)(e)||null===e)&&(d.current=e,i(e)),((0,Us.vq)(f.refs.reference.current)||null===f.refs.reference.current||null!==e&&!(0,Us.vq)(e))&&f.refs.setReference(e)}),[f.refs]),m=s.useMemo((()=>({...f.refs,setReference:g,setPositionReference:h,domReference:d})),[f.refs,g,h]),b=s.useMemo((()=>({...f.elements,domReference:u})),[f.elements,u]),v=s.useMemo((()=>({...f,...r,refs:m,elements:b,nodeId:t})),[f,m,b,t,r]);return el((()=>{r.dataRef.current.floatingContext=v;const e=null==p?void 0:p.nodesRef.current.find((e=>e.id===t));e&&(e.context=v)})),s.useMemo((()=>({...f,context:v,refs:m,elements:b})),[f,m,b,v])}const ml="active",bl="selected";function vl(e,t,n){const r=new Map,o="item"===n;let a=e;if(o&&e){const{[ml]:t,[bl]:n,...r}=e;a=r}return{..."floating"===n&&{tabIndex:-1,[cl]:""},...a,...t.map((t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,a]=t;var i;o&&[ml,bl].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof a&&(null==(i=r.get(n))||i.push(a),e[n]=function(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return null==(e=r.get(n))?void 0:e.map((e=>e(...o))).find((e=>void 0!==e))})):e[n]=a)})),e):e),{})}}var yl=m(8083);const wl=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},El=e=>e&&"window"in e&&e.window===e?e:wl(e).defaultView||window;let Sl=new Map,Cl=new Set;function xl(){if("undefined"==typeof window)return;function e(e){return"propertyName"in e}let t=n=>{if(!e(n)||!n.target)return;let r=Sl.get(n.target);if(r&&(r.delete(n.propertyName),0===r.size&&(n.target.removeEventListener("transitioncancel",t),Sl.delete(n.target)),0===Sl.size)){for(let e of Cl)e();Cl.clear()}};document.body.addEventListener("transitionrun",(n=>{if(!e(n)||!n.target)return;let r=Sl.get(n.target);r||(r=new Set,Sl.set(n.target,r),n.target.addEventListener("transitioncancel",t,{once:!0})),r.add(n.propertyName)})),document.body.addEventListener("transitionend",t)}function Ol(e){if(function(){if(null==Al){Al=!1;try{document.createElement("div").focus({get preventScroll(){return Al=!0,!0}})}catch(e){}}return Al}())e.focus({preventScroll:!0});else{let t=function(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}(t)}}"undefined"!=typeof document&&("loading"!==document.readyState?xl():document.addEventListener("DOMContentLoaded",xl));let Al=null;function Dl(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some((t=>e.test(t.brand))))||e.test(window.navigator.userAgent))}function Rl(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function _l(e){let t=null;return()=>(null==t&&(t=e()),t)}const kl=_l((function(){return Rl(/^Mac/i)})),Pl=_l((function(){return Rl(/^iPhone/i)})),Tl=_l((function(){return Rl(/^iPad/i)||kl()&&navigator.maxTouchPoints>1})),Il=_l((function(){return Pl()||Tl()})),jl=(_l((function(){return kl()||Il()})),_l((function(){return Dl(/AppleWebKit/i)&&!jl()})),_l((function(){return Dl(/Chrome/i)}))),Fl=_l((function(){return Dl(/Android/i)}));_l((function(){return Dl(/Firefox/i)}));let Ml=null,Ll=new Set,Nl=new Map,Bl=!1,Vl=!1;function zl(e,t){for(let n of Ll)n(e,t)}function $l(e){Bl=!0,function(e){return!(e.metaKey||!kl()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(Ml="keyboard",zl("keyboard",e))}function Ul(e){Ml="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(Bl=!0,zl("pointer",e))}function Hl(e){var t;(0===(t=e).mozInputSource&&t.isTrusted||(Fl()&&t.pointerType?"click"===t.type&&1===t.buttons:0===t.detail&&!t.pointerType))&&(Bl=!0,Ml="virtual")}function ql(e){e.target!==window&&e.target!==document&&(Bl||Vl||(Ml="virtual",zl("virtual",e)),Bl=!1,Vl=!1)}function Gl(){Bl=!1,Vl=!0}function Wl(e){if("undefined"==typeof window||Nl.get(El(e)))return;const t=El(e),n=wl(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Bl=!0,r.apply(this,arguments)},n.addEventListener("keydown",$l,!0),n.addEventListener("keyup",$l,!0),n.addEventListener("click",Hl,!0),t.addEventListener("focus",ql,!0),t.addEventListener("blur",Gl,!1),"undefined"!=typeof PointerEvent?(n.addEventListener("pointerdown",Ul,!0),n.addEventListener("pointermove",Ul,!0),n.addEventListener("pointerup",Ul,!0)):(n.addEventListener("mousedown",Ul,!0),n.addEventListener("mousemove",Ul,!0),n.addEventListener("mouseup",Ul,!0)),t.addEventListener("beforeunload",(()=>{Ql(e)}),{once:!0}),Nl.set(t,{focus:r})}const Ql=(e,t)=>{const n=El(e),r=wl(e);t&&r.removeEventListener("DOMContentLoaded",t),Nl.has(n)&&(n.HTMLElement.prototype.focus=Nl.get(n).focus,r.removeEventListener("keydown",$l,!0),r.removeEventListener("keyup",$l,!0),r.removeEventListener("click",Hl,!0),n.removeEventListener("focus",ql,!0),n.removeEventListener("blur",Gl,!1),"undefined"!=typeof PointerEvent?(r.removeEventListener("pointerdown",Ul,!0),r.removeEventListener("pointermove",Ul,!0),r.removeEventListener("pointerup",Ul,!0)):(r.removeEventListener("mousedown",Ul,!0),r.removeEventListener("mousemove",Ul,!0),r.removeEventListener("mouseup",Ul,!0)),Nl.delete(n))};function Yl(e,t){return"#comment"!==e.nodeName&&function(e){const t=El(e);if(!(e instanceof t.HTMLElement||e instanceof t.SVGElement))return!1;let{display:n,visibility:r}=e.style,o="none"!==n&&"hidden"!==r&&"collapse"!==r;if(o){const{getComputedStyle:t}=e.ownerDocument.defaultView;let{display:n,visibility:r}=t(e);o="none"!==n&&"hidden"!==r&&"collapse"!==r}return o}(e)&&function(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&("DETAILS"!==e.nodeName||!t||"SUMMARY"===t.nodeName||e.hasAttribute("open"))}(e,t)&&(!e.parentElement||Yl(e.parentElement,e))}"undefined"!=typeof document&&function(e){const t=wl(e);let n;"loading"!==t.readyState?Wl(e):(n=()=>{Wl(e)},t.addEventListener("DOMContentLoaded",n))}(),new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);const Xl="undefined"!=typeof document?s.useLayoutEffect:()=>{},Kl=s.createContext(null),Zl="react-aria-focus-scope-restore";let Jl=null;function ec(e){let{children:t,contain:n,restoreFocus:r,autoFocus:o}=e,a=(0,s.useRef)(null),i=(0,s.useRef)(null),l=(0,s.useRef)([]),{parentNode:c}=(0,s.useContext)(Kl)||{},u=(0,s.useMemo)((()=>new mc({scopeRef:l})),[l]);Xl((()=>{let e=c||bc.root;if(bc.getTreeNode(e.scopeRef)&&Jl&&!cc(Jl,e.scopeRef)){let t=bc.getTreeNode(Jl);t&&(e=t)}e.addChild(u),bc.addNode(u)}),[u,c]),Xl((()=>{let e=bc.getTreeNode(l);e&&(e.contain=!!n)}),[n]),Xl((()=>{var e;let t=null===(e=a.current)||void 0===e?void 0:e.nextSibling,n=[],r=e=>e.stopPropagation();for(;t&&t!==i.current;)n.push(t),t.addEventListener(Zl,r),t=t.nextSibling;return l.current=n,()=>{for(let e of n)e.removeEventListener(Zl,r)}}),[t]),function(e,t,n){Xl((()=>{if(t||n)return;let r=e.current;const o=wl(r?r[0]:void 0);let a=t=>{let n=t.target;sc(n,e.current)?Jl=e:ic(n)||(Jl=null)};return o.addEventListener("focusin",a,!1),null==r||r.forEach((e=>e.addEventListener("focusin",a,!1))),()=>{o.removeEventListener("focusin",a,!1),null==r||r.forEach((e=>e.removeEventListener("focusin",a,!1)))}}),[e,t,n])}(l,r,n),function(e,t){let n=(0,s.useRef)(void 0),r=(0,s.useRef)(void 0);Xl((()=>{let o=e.current;if(!t)return void(r.current&&(cancelAnimationFrame(r.current),r.current=void 0));const a=wl(o?o[0]:void 0);let i=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!ac(e)||t.isComposing)return;let n=a.activeElement,r=e.current;if(!r||!sc(n,r))return;let o=hc(oc(r),{tabbable:!0},r);if(!n)return;o.currentNode=n;let i=t.shiftKey?o.previousNode():o.nextNode();i||(o.currentNode=t.shiftKey?r[r.length-1].nextElementSibling:r[0].previousElementSibling,i=t.shiftKey?o.previousNode():o.nextNode()),t.preventDefault(),i&&uc(i,!0)},s=t=>{Jl&&!cc(Jl,e)||!sc(t.target,e.current)?ac(e)&&!lc(t.target,e)?n.current?n.current.focus():Jl&&Jl.current&&pc(Jl.current):ac(e)&&(n.current=t.target):(Jl=e,n.current=t.target)},l=t=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame((()=>{var r;a.activeElement&&ac(e)&&!lc(a.activeElement,e)&&(Jl=e,a.body.contains(t.target)?(n.current=t.target,null===(r=n.current)||void 0===r||r.focus()):Jl.current&&pc(Jl.current))}))};return a.addEventListener("keydown",i,!1),a.addEventListener("focusin",s,!1),null==o||o.forEach((e=>e.addEventListener("focusin",s,!1))),null==o||o.forEach((e=>e.addEventListener("focusout",l,!1))),()=>{a.removeEventListener("keydown",i,!1),a.removeEventListener("focusin",s,!1),null==o||o.forEach((e=>e.removeEventListener("focusin",s,!1))),null==o||o.forEach((e=>e.removeEventListener("focusout",l,!1)))}}),[e,t]),Xl((()=>()=>{r.current&&cancelAnimationFrame(r.current)}),[r])}(l,n),function(e,t,n){const r=(0,s.useRef)("undefined"!=typeof document?wl(e.current?e.current[0]:void 0).activeElement:null);Xl((()=>{let r=e.current;const o=wl(r?r[0]:void 0);if(!t||n)return;let a=()=>{Jl&&!cc(Jl,e)||!sc(o.activeElement,e.current)||(Jl=e)};return o.addEventListener("focusin",a,!1),null==r||r.forEach((e=>e.addEventListener("focusin",a,!1))),()=>{o.removeEventListener("focusin",a,!1),null==r||r.forEach((e=>e.removeEventListener("focusin",a,!1)))}}),[e,n]),Xl((()=>{const r=wl(e.current?e.current[0]:void 0);if(!t)return;let o=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!ac(e)||t.isComposing)return;let n=r.activeElement;if(!sc(n,e.current))return;let o=bc.getTreeNode(e);if(!o)return;let a=o.nodeToRestore,i=hc(r.body,{tabbable:!0});i.currentNode=n;let s=t.shiftKey?i.previousNode():i.nextNode();if(a&&r.body.contains(a)&&a!==r.body||(a=void 0,o.nodeToRestore=void 0),(!s||!sc(s,e.current))&&a){i.currentNode=a;do{s=t.shiftKey?i.previousNode():i.nextNode()}while(sc(s,e.current));t.preventDefault(),t.stopPropagation(),s?uc(s,!0):ic(a)?uc(a,!0):n.blur()}};return n||r.addEventListener("keydown",o,!0),()=>{n||r.removeEventListener("keydown",o,!0)}}),[e,t,n]),Xl((()=>{const n=wl(e.current?e.current[0]:void 0);if(!t)return;let o=bc.getTreeNode(e);var a;return o?(o.nodeToRestore=null!==(a=r.current)&&void 0!==a?a:void 0,()=>{let r=bc.getTreeNode(e);if(!r)return;let o=r.nodeToRestore;if(t&&o&&(sc(n.activeElement,e.current)||n.activeElement===n.body&&function(e){let t=bc.getTreeNode(Jl);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(null==t?void 0:t.scopeRef)===e}(e))){let t=bc.clone();requestAnimationFrame((()=>{if(n.activeElement===n.body){let n=t.getTreeNode(e);for(;n;){if(n.nodeToRestore&&n.nodeToRestore.isConnected)return void fc(n.nodeToRestore);n=n.parent}for(n=t.getTreeNode(e);n;){if(n.scopeRef&&n.scopeRef.current&&bc.getTreeNode(n.scopeRef))return void fc(dc(n.scopeRef.current,!0));n=n.parent}}}))}}):void 0}),[e,t])}(l,r,n),function(e,t){const n=s.useRef(t);(0,s.useEffect)((()=>{n.current&&(Jl=e,!sc(wl(e.current?e.current[0]:void 0).activeElement,Jl.current)&&e.current&&pc(e.current)),n.current=!1}),[e])}(l,o),(0,s.useEffect)((()=>{const e=wl(l.current?l.current[0]:void 0).activeElement;let t=null;if(sc(e,l.current)){for(let n of bc.traverse())n.scopeRef&&sc(e,n.scopeRef.current)&&(t=n);t===bc.getTreeNode(l)&&(Jl=t.scopeRef)}}),[l]),Xl((()=>()=>{var e,t,n;let r=null!==(n=null===(t=bc.getTreeNode(l))||void 0===t||null===(e=t.parent)||void 0===e?void 0:e.scopeRef)&&void 0!==n?n:null;l!==Jl&&!cc(l,Jl)||r&&!bc.getTreeNode(r)||(Jl=r),bc.removeTreeNode(l)}),[l]);let d=(0,s.useMemo)((()=>function(e){return{focusNext(t={}){let n=e.current,{from:r,tabbable:o,wrap:a,accept:i}=t,s=r||wl(n[0]).activeElement,l=n[0].previousElementSibling,c=hc(oc(n),{tabbable:o,accept:i},n);c.currentNode=sc(s,n)?s:l;let u=c.nextNode();return!u&&a&&(c.currentNode=l,u=c.nextNode()),u&&uc(u,!0),u},focusPrevious(t={}){let n=e.current,{from:r,tabbable:o,wrap:a,accept:i}=t,s=r||wl(n[0]).activeElement,l=n[n.length-1].nextElementSibling,c=hc(oc(n),{tabbable:o,accept:i},n);c.currentNode=sc(s,n)?s:l;let u=c.previousNode();return!u&&a&&(c.currentNode=l,u=c.previousNode()),u&&uc(u,!0),u},focusFirst(t={}){let n=e.current,{tabbable:r,accept:o}=t,a=hc(oc(n),{tabbable:r,accept:o},n);a.currentNode=n[0].previousElementSibling;let i=a.nextNode();return i&&uc(i,!0),i},focusLast(t={}){let n=e.current,{tabbable:r,accept:o}=t,a=hc(oc(n),{tabbable:r,accept:o},n);a.currentNode=n[n.length-1].nextElementSibling;let i=a.previousNode();return i&&uc(i,!0),i}}}(l)),[]),p=(0,s.useMemo)((()=>({focusManager:d,parentNode:u})),[u,d]);return s.createElement(Kl.Provider,{value:p},s.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:a}),t,s.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:i}))}const tc=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],nc=tc.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";tc.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const rc=tc.join(':not([hidden]):not([tabindex="-1"]),');function oc(e){return e[0].parentElement}function ac(e){let t=bc.getTreeNode(Jl);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function ic(e){return lc(e)}function sc(e,t){return!!e&&!!t&&t.some((t=>t.contains(e)))}function lc(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of bc.traverse(bc.getTreeNode(t)))if(n&&sc(e,n.current))return!0;return!1}function cc(e,t){var n;let r=null===(n=bc.getTreeNode(t))||void 0===n?void 0:n.parent;for(;r;){if(r.scopeRef===e)return!0;r=r.parent}return!1}function uc(e,t=!1){if(null==e||t){if(null!=e)try{e.focus()}catch(e){}}else try{!function(e){const t=wl(e);if("virtual"===Ml){let r=t.activeElement;n=()=>{t.activeElement===r&&e.isConnected&&Ol(e)},requestAnimationFrame((()=>{0===Sl.size?n():Cl.add(n)}))}else Ol(e);var n}(e)}catch(e){}}function dc(e,t=!0){let n=e[0].previousElementSibling,r=oc(e),o=hc(r,{tabbable:t},e);o.currentNode=n;let a=o.nextNode();return t&&!a&&(r=oc(e),o=hc(r,{tabbable:!1},e),o.currentNode=n,a=o.nextNode()),a}function pc(e,t=!0){uc(dc(e,t))}function fc(e){e.dispatchEvent(new CustomEvent(Zl,{bubbles:!0,cancelable:!0}))&&uc(e)}function hc(e,t,n){let r=(null==t?void 0:t.tabbable)?rc:nc,o=wl(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(e){var o;return(null==t||null===(o=t.from)||void 0===o?void 0:o.contains(e))?NodeFilter.FILTER_REJECT:!e.matches(r)||!Yl(e)||n&&!sc(e,n)||(null==t?void 0:t.accept)&&!t.accept(e)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}});return(null==t?void 0:t.from)&&(o.currentNode=t.from),o}class gc{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,n){let r=this.fastMap.get(null!=t?t:null);if(!r)return;let o=new mc({scopeRef:e});r.addChild(o),o.parent=r,this.fastMap.set(e,o),n&&(o.nodeToRestore=n)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(null===e)return;let t=this.fastMap.get(e);if(!t)return;let n=t.parent;for(let e of this.traverse())e!==t&&t.nodeToRestore&&e.nodeToRestore&&t.scopeRef&&t.scopeRef.current&&sc(e.nodeToRestore,t.scopeRef.current)&&(e.nodeToRestore=t.nodeToRestore);let r=t.children;n&&(n.removeChild(t),r.size>0&&r.forEach((e=>n&&n.addChild(e)))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(null!=e.scopeRef&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){var e;let t=new gc;var n;for(let r of this.traverse())t.addTreeNode(r.scopeRef,null!==(n=null===(e=r.parent)||void 0===e?void 0:e.scopeRef)&&void 0!==n?n:null,r.nodeToRestore);return t}constructor(){this.fastMap=new Map,this.root=new mc({scopeRef:null}),this.fastMap.set(null,this.root)}}class mc{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let bc=new gc;function vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){vc(e,t,n[t])}))}return e}const wc=e=>{const t=(S=(0,a.useTheme2)(),{wrapper:(0,X.css)({position:"relative",display:"inline-flex"}),menuWrapper:(0,X.css)({zIndex:S.zIndex.dropdown})}),{className:n,options:r,value:o,onChange:i,narrow:l,variant:u}=e,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["className","options","value","onChange","narrow","variant"]),[p,f]=(0,s.useState)(!1),h=[(0,$s.cY)(0),(0,$s.UU)({fallbackAxisSideDirection:"end",crossAxis:!1,boundary:document.body}),(0,$s.BN)()],{context:g,refs:m,floatingStyles:b}=gl({open:p,placement:"top-start",onOpenChange:f,middleware:h,whileElementsMounted:yl.ll}),v=function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:a}}=e,{enabled:i=!0,event:l="click",toggle:c=!0,ignoreMouse:u=!1,keyboardHandlers:d=!0}=t,p=s.useRef(),f=s.useRef(!1),h=s.useMemo((()=>({onPointerDown(e){p.current=e.pointerType},onMouseDown(e){const t=p.current;0===e.button&&"click"!==l&&(qs(t,!0)&&u||(!n||!c||o.current.openEvent&&"mousedown"!==o.current.openEvent.type?(e.preventDefault(),r(!0,e.nativeEvent,"click")):r(!1,e.nativeEvent,"click")))},onClick(e){const t=p.current;"mousedown"===l&&p.current?p.current=void 0:qs(t,!0)&&u||(!n||!c||o.current.openEvent&&"click"!==o.current.openEvent.type?r(!0,e.nativeEvent,"click"):r(!1,e.nativeEvent,"click"))},onKeyDown(e){p.current=void 0,e.defaultPrevented||!d||ul(e)||(" "!==e.key||dl(a)||(e.preventDefault(),f.current=!0),"Enter"===e.key&&r(!n||!c,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!d||ul(e)||dl(a)||" "===e.key&&f.current&&(f.current=!1,r(!n||!c,e.nativeEvent,"click"))}})),[o,a,l,u,d,r,n,c]);return s.useMemo((()=>i?{reference:h}:{}),[i,h])}(g),y=function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:a}=e,{enabled:i=!0,escapeKey:l=!0,outsidePress:c=!0,outsidePressEvent:u="pointerdown",referencePress:d=!1,referencePressEvent:p="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:g}=t,m=sl(),b=Js("function"==typeof c?c:()=>!1),v="function"==typeof c?b:c,y=s.useRef(!1),w=s.useRef(!1),{escapeKey:E,outsidePress:S}=hl(h),{escapeKey:C,outsidePress:x}=hl(g),O=s.useRef(!1),A=Js((e=>{var t;if(!n||!i||!l||"Escape"!==e.key)return;if(O.current)return;const o=null==(t=a.current.floatingContext)?void 0:t.nodeId,s=m?ll(m.nodesRef.current,o):[];if(!E&&(e.stopPropagation(),s.length>0)){let e=!0;if(s.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")})),D=Js((e=>{var t;const n=()=>{var t;A(e),null==(t=Qs(e))||t.removeEventListener("keydown",n)};null==(t=Qs(e))||t.addEventListener("keydown",n)})),R=Js((e=>{var t;const n=y.current;y.current=!1;const i=w.current;if(w.current=!1,"click"===u&&i)return;if(n)return;if("function"==typeof v&&!v(e))return;const s=Qs(e),l="["+("data-floating-ui-"+"inert"+"]"),c=Gs(o.floating).querySelectorAll(l);let d=(0,Us.vq)(s)?s:null;for(;d&&!(0,Us.eu)(d);){const e=(0,Us.$4)(d);if((0,Us.eu)(e)||!(0,Us.vq)(e))break;d=e}if(c.length&&(0,Us.vq)(s)&&!s.matches("html,body")&&!Hs(s,o.floating)&&Array.from(c).every((e=>!Hs(d,e))))return;if((0,Us.sb)(s)&&P){const t=s.clientWidth>0&&s.scrollWidth>s.clientWidth,n=s.clientHeight>0&&s.scrollHeight>s.clientHeight;let r=n&&e.offsetX>s.clientWidth;if(n&&"rtl"===(0,Us.L9)(s).direction&&(r=e.offsetX<=s.offsetWidth-s.clientWidth),r||t&&e.offsetY>s.clientHeight)return}const p=null==(t=a.current.floatingContext)?void 0:t.nodeId,f=m&&ll(m.nodesRef.current,p).some((t=>{var n;return Ws(e,null==(n=t.context)?void 0:n.elements.floating)}));if(Ws(e,o.floating)||Ws(e,o.domReference)||f)return;const h=m?ll(m.nodesRef.current,p):[];if(h.length>0){let e=!0;if(h.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}r(!1,e,"outside-press")})),_=Js((e=>{var t;const n=()=>{var t;R(e),null==(t=Qs(e))||t.removeEventListener(u,n)};null==(t=Qs(e))||t.addEventListener(u,n)}));s.useEffect((()=>{if(!n||!i)return;a.current.__escapeKeyBubbles=E,a.current.__outsidePressBubbles=S;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function s(){window.clearTimeout(e),O.current=!0}function c(){e=window.setTimeout((()=>{O.current=!1}),(0,Us.Tc)()?5:0)}const d=Gs(o.floating);l&&(d.addEventListener("keydown",C?D:A,C),d.addEventListener("compositionstart",s),d.addEventListener("compositionend",c)),v&&d.addEventListener(u,x?_:R,x);let p=[];return f&&((0,Us.vq)(o.domReference)&&(p=(0,Us.v9)(o.domReference)),(0,Us.vq)(o.floating)&&(p=p.concat((0,Us.v9)(o.floating))),!(0,Us.vq)(o.reference)&&o.reference&&o.reference.contextElement&&(p=p.concat((0,Us.v9)(o.reference.contextElement)))),p=p.filter((e=>{var t;return e!==(null==(t=d.defaultView)?void 0:t.visualViewport)})),p.forEach((e=>{e.addEventListener("scroll",t,{passive:!0})})),()=>{l&&(d.removeEventListener("keydown",C?D:A,C),d.removeEventListener("compositionstart",s),d.removeEventListener("compositionend",c)),v&&d.removeEventListener(u,x?_:R,x),p.forEach((e=>{e.removeEventListener("scroll",t)})),window.clearTimeout(e)}}),[a,o,l,v,u,n,r,f,i,E,S,A,C,D,R,x,_]),s.useEffect((()=>{y.current=!1}),[v,u]);const k=s.useMemo((()=>({onKeyDown:A,[pl[p]]:e=>{d&&r(!1,e.nativeEvent,"reference-press")}})),[A,r,d,p]),P=s.useMemo((()=>({onKeyDown:A,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[fl[u]]:()=>{y.current=!0}})),[A,u]);return s.useMemo((()=>i?{reference:k,floating:P}:{}),[i,k,P])}(g),{getReferenceProps:w,getFloatingProps:E}=function(e){void 0===e&&(e=[]);const t=e.map((e=>null==e?void 0:e.reference)),n=e.map((e=>null==e?void 0:e.floating)),r=e.map((e=>null==e?void 0:e.item)),o=s.useCallback((t=>vl(t,e,"reference")),t),a=s.useCallback((t=>vl(t,e,"floating")),n),i=s.useCallback((t=>vl(t,e,"item")),r);return s.useMemo((()=>({getReferenceProps:o,getFloatingProps:a,getItemProps:i})),[o,a,i])}([y,v]);var S,C,x;return c().createElement("div",yc({className:t.wrapper},H.buttonSelect.root.apply()),c().createElement(a.ToolbarButton,yc({className:n,isOpen:p,narrow:l,variant:u,ref:m.setReference},w(),d),(null==o?void 0:o.label)||String(null==o?void 0:o.value)),p&&c().createElement("div",yc((C=yc({className:t.menuWrapper,ref:m.setFloating},E()),x=null!=(x={style:b})?x:{},Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(x)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(x)).forEach((function(e){Object.defineProperty(C,e,Object.getOwnPropertyDescriptor(x,e))})),C),H.buttonSelect.dropdown.apply()),c().createElement(ec,{contain:!0,autoFocus:!0,restoreFocus:!0},c().createElement(a.Menu,{tabIndex:-1},r.map((e=>c().createElement(a.MenuItem,yc({key:`${e.value}`,label:String(e.value),onClick:()=>(e=>{i(e),f(!1)})(e),active:e.value===(null==o?void 0:o.value),ariaChecked:e.value===(null==o?void 0:o.value),ariaLabel:e.ariaLabel||e.label,disabled:e.isDisabled,component:e.component,role:"menuitemradio"},H.buttonSelect.option.apply(e.value)))))))))},Ec=e=>({titleWrapper:X.css`
      display: flex;
      align-items: center;
      flex-grow: 1;
      cursor: pointer;
      overflow: hidden;
      margin-right: ${e.spacing(.5)};
    `,title:X.css`
      font-weight: ${e.typography.fontWeightBold};
      color: ${e.colors.text.secondary};
      margin-left: ${e.spacing(.5)};
      overflow: hidden;
      text-overflow: ellipsis;
      display: flex;
      gap: ${e.spacing(.5)};
      align-items: center;
    `}),Sc=({children:e})=>{const t=(0,a.useStyles2)(Ec);return c().createElement("div",{className:t.titleWrapper},c().createElement("div",{className:t.title},e))},Cc=e=>({root:X.css`
      margin-bottom: ${e.spacing(1)};
    `}),xc=({label:e,children:t})=>{const n=(0,a.useStyles2)(Cc);return c().createElement("fieldset",{className:n.root},c().createElement(a.Label,null,e),t)};function Oc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Oc(e,t,n[t])}))}return e}function Dc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Rc=H.nestedObjectCardsEditor,_c=[{value:O.FIRST,label:"",icon:"sort-amount-down",description:"Show First",ariaLabel:Rc.option.selector(O.FIRST)},{value:O.NONE,label:"None",ariaLabel:Rc.option.selector(O.NONE)},{value:O.LAST,label:"",icon:"sort-amount-up",description:"Show Latest",ariaLabel:Rc.option.selector(O.LAST)}];function kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){kc(e,t,n[t])}))}return e}function Tc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Ic=H.nestedObjectOperationEditor,jc=({value:e,onChange:t})=>{const{data:n}=er.useContext(),[r,o]=(0,s.useState)({request:!1});return c().createElement(c().Fragment,null,c().createElement(xc,{label:"Permission"},c().createElement(Eu,{data:n,value:e.permission,onChange:n=>{t(Tc(Pc({},e),{permission:n}))}})),c().createElement(i.SD,{isOpen:r.request,onToggle:e=>{o(Tc(Pc({},r),{request:e}))},title:"Request",headerTestId:Ic.requestSectionHeader.selector(),contentTestId:Ic.requestSectionContent.selector()},c().createElement(Ou,{value:e.request,onChange:n=>{t(Tc(Pc({},e),{request:n}))},queryEditorDescription:"Use `${payload.row}` and `${payload.item}` variables to get access to the current item or row."})))},Fc=e=>({collapseItem:X.css`
      margin-bottom: ${e.spacing(.5)};
    `});function Mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Lc=(e=>{const t=new Map;return e.forEach((e=>t.set(e.id,e))),t})([{id:x.CARDS,editor:({value:e,onChange:t})=>c().createElement(c().Fragment,null,c().createElement(xc,{label:"Data Settings"},c().createElement(a.InlineField,{label:"Id Field",grow:!0},c().createElement(a.Input,Ac({placeholder:"Field Name With Item ID",value:e.id,onChange:n=>{t(Dc(Ac({},e),{id:n.currentTarget.value}))}},Rc.fieldId.apply()))),c().createElement(a.Card,null,c().createElement(a.Card.Heading,null,c().createElement(a.Input,Ac({placeholder:"Title Field",value:e.title,onChange:n=>{t(Dc(Ac({},e),{title:n.currentTarget.value}))}},Rc.fieldTitle.apply()))),c().createElement(a.Card.Meta,null,c().createElement(a.Input,Ac({placeholder:"Time Field",value:e.time,onChange:n=>{t(Dc(Ac({},e),{time:n.currentTarget.value}))}},Rc.fieldTime.apply())),c().createElement(a.Input,Ac({placeholder:"Author Field",value:e.author,onChange:n=>{t(Dc(Ac({},e),{author:n.currentTarget.value}))}},Rc.fieldAuthor.apply()))),c().createElement(a.Card.Description,null,c().createElement(a.Input,Ac({placeholder:"Description Field",value:e.body,onChange:n=>{t(Dc(Ac({},e),{body:n.currentTarget.value}))}},Rc.fieldBody.apply()))))),c().createElement(xc,{label:"View"},c().createElement(a.InlineField,Ac({label:"Display In Table",grow:!0},Rc.fieldDisplay.apply()),c().createElement(a.RadioButtonGroup,{options:_c,value:e.display,onChange:n=>{t(Dc(Ac({},e),{display:n}))}})),(e.display===O.FIRST||e.display===O.LAST)&&c().createElement(a.InlineField,{label:"Display Count"},c().createElement(a.Input,Ac({placeholder:"All",value:e.displayCount||"",onChange:n=>{const r=Number(n.currentTarget.value);t(Dc(Ac({},e),{displayCount:r||null}))}},Rc.fieldDisplayCount.apply()))))),control:({value:e,row:t,options:{isLoading:n,mapper:r,operations:l,header:u,config:d}})=>{const p=(0,a.useStyles2)(Ms),[f,h]=(0,s.useState)(!1),g=(0,i.ki)(),m=(0,i.rC)(),{replaceVariables:b}=tr.useContext(),v=(0,Ct.getAppEvents)(),y=(0,s.useCallback)((e=>v.publish({type:o.AppEvents.alertSuccess.name,payload:e})),[v]),w=(0,s.useCallback)((e=>v.publish({type:o.AppEvents.alertError.name,payload:e})),[v]),E=(0,s.useCallback)(function(){var e=Ns((function*(e){if(l.add.enabled&&l.add.request)try{const n=r.createObject(e),a=yield g({query:l.add.request.payload,datasource:l.add.request.datasource,payload:{row:t,item:n},replaceVariables:b});if(a.state===o.LoadingState.Error)throw a.errors;y(["Success","Item has been added successfully."]),m()}catch(e){const t=e instanceof Error?e:Array.isArray(e)?e[0]:"Unknown Error";throw w(["Error",t]),e}}));return function(t){return e.apply(this,arguments)}}(),[g,r,w,y,l.add.enabled,l.add.request,m,b,t]),S=(0,s.useCallback)(function(){var e=Ns((function*(e){if(e&&l.update.enabled&&l.update.request)try{const n=r.createObject(e),a=yield g({query:l.update.request.payload,datasource:l.update.request.datasource,payload:{row:t,item:n},replaceVariables:b});if(a.state===o.LoadingState.Error)throw a.errors;y(["Success","Item has been updated successfully."]),m()}catch(e){const t=e instanceof Error?e:Array.isArray(e)?e[0]:"Unknown Error";throw w(["Error",t]),e}}));return function(t){return e.apply(this,arguments)}}(),[g,r,w,y,l.update.enabled,l.update.request,m,b,t]),C=(0,s.useCallback)(function(){var e=Ns((function*(e){if(l.delete.enabled&&l.delete.request)try{const n=r.createObject(e),a=yield g({query:l.delete.request.payload,datasource:l.delete.request.datasource,payload:{row:t,item:n},replaceVariables:b});if(a.state===o.LoadingState.Error)throw a.errors;y(["Success","Item has been deleted successfully."]),m()}catch(e){const t=e instanceof Error?e:Array.isArray(e)?e[0]:"Unknown Error";throw w(["Error",t]),e}}));return function(t){return e.apply(this,arguments)}}(),[g,r,w,y,l.delete.enabled,l.delete.request,m,b,t]),x=(0,s.useCallback)(((e,n)=>b(e,Vs({row:{value:t}},n))),[b,t]),A=(0,s.useMemo)((()=>d.display===O.NONE?[]:null===d.displayCount?e:d.display===O.FIRST?e.slice(0,d.displayCount):e.slice(-d.displayCount)),[d.display,d.displayCount,e]);return n&&!f?c().createElement(a.Icon,Vs({name:"spinner"},zs.loadingIcon.apply())):c().createElement(c().Fragment,null,A.length>0?c().createElement("div",Vs({className:p.list},zs.list.apply()),A.map(((e,t)=>{const n=r.getPayload(e);return c().createElement(Ps,{key:n.id||t,value:n,isEditEnabled:!1,isDeleteEnabled:!1,onEdit:S,replaceVariables:x})})),c().createElement(a.Button,Vs({variant:"primary",fill:"text",size:"sm",onClick:()=>h(!0)},zs.buttonShowItems.apply()),"Show All ",u)):c().createElement(a.Button,Vs({variant:e.length>0?"primary":"secondary",fill:"text",size:"sm",onClick:()=>h(!0)},zs.buttonShowItems.apply()),e.length," ",u),f&&c().createElement(a.Drawer,{title:u,onClose:()=>h(!1)},e.length>0?e.map(((e,t)=>{const n=r.getPayload(e);return c().createElement(Ps,{key:n.id||t,value:n,isEditEnabled:l.update.enabled,isDeleteEnabled:l.delete.enabled,onEdit:S,onDelete:C,replaceVariables:x})})):c().createElement("div",zs.noItemsMessage.apply(),c().createElement(a.EmptySearchResult,null,`No ${u}`)),l.add.enabled&&c().createElement(Fs,{mapper:r,onAdd:E,replaceVariables:x})))},getControlOptions:e=>{return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Mc(e,t,n[t])}))}return e}({},e),n=null!=(n={type:e.config.type,isLoading:e.isLoading,mapper:new Et(e.config)})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t;var t,n}}]);function Nc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Nc(e,t,n[t])}))}return e}function Vc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const zc=H.nestedObjectEditor,$c=[{value:x.CARDS,label:"Cards",icon:"gf-layout-simple"}],Uc={enabled:!1,permission:{mode:R.ALLOWED,userRole:[]},request:{datasource:"",payload:{}}},Hc=({value:e,onChange:t})=>{var n;const r=(0,a.useStyles2)(Fc),[o,l]=(0,s.useState)({get:!1,add:!1,update:!1,delete:!1}),u=null===(n=Lc.get(e.type))||void 0===n?void 0:n.editor;return c().createElement(c().Fragment,null,c().createElement(a.InlineField,{label:"Type",grow:!0},c().createElement(a.Select,Bc({value:e.type,onChange:n=>{const r=n.value;t(Vc(Bc({},e),{type:r,editor:yt(r)}))},options:$c},zc.fieldType.apply()))),c().createElement("div",{className:r.collapseItem},c().createElement(i.SD,{isOpen:o.get,onToggle:e=>l(Vc(Bc({},o),{get:e})),title:c().createElement(Sc,null,"Get Options"),fill:"solid",headerTestId:zc.getRequestSectionHeader.selector(),contentTestId:zc.getRequestSectionContent.selector()},c().createElement(Ou,{value:e.get,onChange:n=>{t(Vc(Bc({},e),{get:n}))}}))),u&&c().createElement(u,{value:e.editor,onChange:n=>{t(Vc(Bc({},e),{editor:n}))}}),c().createElement(xc,{label:"Operations"},["add","update","delete"].map((n=>{const s=e[n];var u,d;return c().createElement("div",{key:n,className:r.collapseItem},c().createElement(i.SD,{isOpen:o[n],onToggle:e=>l(Vc(Bc({},o),{[n]:e})),title:c().createElement(Sc,null,`${d=n,d.charAt(0).toUpperCase()+d.slice(1)} Options`,c().createElement(a.InlineSwitch,Bc({transparent:!0,value:null!==(u=null==s?void 0:s.enabled)&&void 0!==u&&u,onChange:r=>{const a=r.currentTarget.checked;t(Vc(Bc({},e),{[n]:Vc(Bc({},s||Uc),{enabled:a})})),l(Vc(Bc({},o),{[n]:a}))}},zc.fieldOperationEnabled.apply(n)))),fill:"solid",isExpandDisabled:!(null==s?void 0:s.enabled),headerTestId:zc.operationSectionHeader.selector(n),contentTestId:zc.operationSectionContent.selector(n)},s&&c().createElement(jc,{value:s,onChange:r=>{t(Vc(Bc({},e),{[n]:r}))}})))}))))},qc={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var Gc,Wc=new Uint8Array(16);function Qc(){if(!Gc&&!(Gc="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gc(Wc)}for(var Yc=[],Xc=0;Xc<256;++Xc)Yc.push((Xc+256).toString(16).slice(1));const Kc=function(e,t,n){if(qc.randomUUID&&!t&&!e)return qc.randomUUID();var r=(e=e||{}).random||(e.rng||Qc)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return function(e,t=0){return(Yc[e[t+0]]+Yc[e[t+1]]+Yc[e[t+2]]+Yc[e[t+3]]+"-"+Yc[e[t+4]]+Yc[e[t+5]]+"-"+Yc[e[t+6]]+Yc[e[t+7]]+"-"+Yc[e[t+8]]+Yc[e[t+9]]+"-"+Yc[e[t+10]]+Yc[e[t+11]]+Yc[e[t+12]]+Yc[e[t+13]]+Yc[e[t+14]]+Yc[e[t+15]]).toLowerCase()}(r)};function Zc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Zc(e,t,n[t])}))}return e}function eu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const tu=H.nestedObjectsEditor,nu=({context:{data:e},value:t,onChange:n})=>{const r=(O=(0,a.useTheme2)(),{newItem:X.css`
      margin: ${O.spacing(2)} 0;
    `,item:X.css`
      margin-bottom: ${O.spacing(1)};
    `,itemHeader:X.css`
      min-height: ${O.spacing(4)};
      padding: ${O.spacing(.5)};
    `,itemHeaderForm:X.css`
      display: flex;
      align-items: center;
      gap: ${O.spacing(.5)};
    `,itemHeaderText:X.css`
      overflow: hidden;
      text-overflow: ellipsis;
      line-height: ${O.spacing(4)};
    `,fieldName:X.css`
      margin: 0;
    `,dragHandle:X.css`
      display: flex;
      margin: ${O.spacing(0,.5)};
    `,dragIcon:X.css`
      cursor: grab;
      color: ${O.colors.text.disabled};
      &:hover {
        color: ${O.colors.text};
      }
    `,actionButton:X.css`
      color: ${O.colors.text.secondary};
    `}),[o,l]=(0,s.useState)(""),[u,d]=(0,s.useState)({}),[p,f]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),m=(0,s.useCallback)((e=>{n(e)}),[n]),b=(0,s.useCallback)((e=>{d((t=>eu(Jc({},t),{[e]:!t[e]})))}),[]),v=(0,s.useCallback)((()=>{l(""),m(t.concat([{id:Kc(),name:o,type:x.CARDS,get:{datasource:"",payload:{}},editor:yt(x.CARDS)}])),b(o)}),[t,o,m,b]),y=(0,s.useCallback)((e=>{m(t.map((t=>t.name===e.name?e:t)))}),[t,m]),w=(0,s.useMemo)((()=>t.some((e=>e.name===o))),[t,o]),E=(0,s.useCallback)((()=>{f(""),g(""),d((e=>eu(Jc({},e),{[p]:!!e[p]&&p===h,[h]:e[p]})))}),[p,h]),S=(0,s.useMemo)((()=>!(!h.trim()||p!==h&&t.some((e=>e.name===h)))),[p,h,t]),C=(0,s.useCallback)((()=>{m(t.map((e=>e.name===p?eu(Jc({},e),{name:h}):e))),E()}),[t,m,E,p,h]);var O;return c().createElement(er.Provider,{value:{data:e}},t.length>0?c().createElement("div",null,t.map((e=>c().createElement("div",{key:e.name,className:r.item},c().createElement(i.SD,{key:e.name,title:p===e.name?c().createElement("div",{className:(0,X.cx)(r.itemHeader,r.itemHeaderForm),onClick:e=>e.stopPropagation()},c().createElement(a.InlineField,{className:r.fieldName,invalid:!S},c().createElement(a.Input,Jc({autoFocus:!0,value:h,onChange:e=>g(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&S&&C(),"Escape"===e.key&&E()}},tu.fieldName.apply()))),c().createElement(a.Button,Jc({variant:"secondary",fill:"text",className:r.actionButton,icon:"times",size:"sm",onClick:E},tu.buttonCancelRename.apply())),c().createElement(a.Button,Jc({variant:"secondary",fill:"text",className:r.actionButton,icon:"save",size:"sm",onClick:C,disabled:!S,tooltip:S?"":"Name is empty or table with the same name already exists."},tu.buttonSaveRename.apply()))):c().createElement("div",{className:(0,X.cx)(r.itemHeader,r.itemHeaderText)},e.name),headerTestId:tu.itemHeader.selector(e.name),contentTestId:tu.itemContent.selector(e.name),actions:c().createElement(c().Fragment,null,p!==e.name&&c().createElement(a.Button,Jc({icon:"edit",variant:"secondary",fill:"text",size:"sm",className:r.actionButton,onClick:()=>{g(e.name),f(e.name)}},tu.buttonStartRename.apply())),c().createElement(a.Button,Jc({icon:"trash-alt",variant:"secondary",fill:"text",size:"sm",className:r.actionButton,onClick:()=>{m(t.filter((t=>t.name!==e.name)))}},tu.buttonRemove.apply()))),isOpen:u[e.name],onToggle:()=>b(e.name)},c().createElement(Hc,{value:e,onChange:y})))))):c().createElement(a.Alert,Jc({severity:"info",title:"No Objects"},tu.noItemsMessage.apply()),"Please add at least one object to proceed."),c().createElement(a.InlineFieldRow,Jc({className:r.newItem},tu.newItem.apply()),c().createElement(a.InlineField,{label:"New Object",grow:!0,invalid:w,error:"Object with the same name already exists."},c().createElement(a.Input,Jc({placeholder:"Unique name",value:o,onChange:e=>l(e.currentTarget.value.trim())},tu.newItemName.apply()))),c().createElement(a.Button,Jc({icon:"plus",title:"Add Object",disabled:!o||w,onClick:v},tu.buttonAddNew.apply()),"Add")))};function ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ru(e,t,n[t])}))}return e}function au(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const iu=[{value:D.CLIENT,label:"Client"},{value:D.QUERY,label:"Query"}],su=H.paginationEditor,lu=({value:e,onChange:t,data:n})=>{var r,o,i,l;const u=(0,s.useMemo)((()=>e.pagination.enabled&&e.pagination.mode===D.QUERY?(0,Ct.getTemplateSrv)().getVariables().map((e=>({label:e.label||e.name,value:e.name}))):[]),[e.pagination.enabled,e.pagination.mode]);return c().createElement(c().Fragment,null,e.pagination.enabled&&c().createElement(a.Field,{label:"Mode",invalid:ae(e),error:"Query pagination is not supported with client filtering"},c().createElement(a.Select,ou({value:e.pagination.mode,onChange:n=>{t(au(ou({},e),{pagination:au(ou({},e.pagination),{mode:n.value})}))},options:iu.map((t=>{if(t.value===D.QUERY){const n=oe(e);return au(ou({},t),{isDisabled:n,description:n?"Not supported with client filtering":""})}return t}))},su.fieldPaginationMode.apply()))),e.pagination.enabled&&c().createElement(a.Field,{label:"Default page size"},c().createElement(a.Select,ou({value:e.pagination.defaultPageSize,onChange:n=>{t(au(ou({},e),{pagination:au(ou({},e.pagination),{defaultPageSize:n.value})}))},options:W},su.fieldPaginationDefaultPageSize.apply()))),e.pagination.enabled&&e.pagination.mode===D.QUERY&&c().createElement(c().Fragment,null,c().createElement(a.Field,{label:"Page Index Variable"},c().createElement(a.Select,ou({value:null===(r=e.pagination.query)||void 0===r?void 0:r.pageIndexVariable,onChange:n=>{t(au(ou({},e),{pagination:au(ou({},e.pagination),{query:re(au(ou({},e.pagination.query),{pageIndexVariable:n?n.value:void 0}))})}))},options:u,isClearable:!0},su.fieldPaginationQueryPageIndexVariable.apply()))),c().createElement(a.Field,{label:"Offset Variable"},c().createElement(a.Select,ou({value:null===(o=e.pagination.query)||void 0===o?void 0:o.offsetVariable,onChange:n=>{t(au(ou({},e),{pagination:au(ou({},e.pagination),{query:re(au(ou({},e.pagination.query),{offsetVariable:n?n.value:void 0}))})}))},options:u,isClearable:!0},su.fieldPaginationQueryOffsetVariable.apply()))),c().createElement(a.Field,{label:"Page Size Variable"},c().createElement(a.Select,ou({value:null===(i=e.pagination.query)||void 0===i?void 0:i.pageSizeVariable,onChange:n=>{t(au(ou({},e),{pagination:au(ou({},e.pagination),{query:re(au(ou({},e.pagination.query),{pageSizeVariable:n?n.value:void 0}))})}))},options:u,isClearable:!0},su.fieldPaginationQueryPageSizeVariable.apply()))),c().createElement(a.Field,{label:"Total Count Field"},c().createElement(co,ou({value:null===(l=e.pagination.query)||void 0===l?void 0:l.totalCountField,onChange:n=>{t(au(ou({},e),{pagination:au(ou({},e.pagination),{query:re(au(ou({},e.pagination.query),{totalCountField:n}))})}))},data:n},su.fieldPaginationQueryTotalCount.apply())))))},cu=e=>({item:X.css`
      margin-bottom: ${e.spacing(1)};
    `});function uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){uu(e,t,n[t])}))}return e}function pu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const fu=H.paginationsEditor,hu=({context:{data:e},onChange:t,value:n})=>{const r=(0,a.useStyles2)(cu),[o,l]=(0,s.useState)({}),u=(0,s.useCallback)((e=>{t(e)}),[t]),d=(0,s.useCallback)((e=>{l((t=>pu(du({},t),{[e]:!t[e]})))}),[]),p=(0,s.useCallback)((e=>{u(n.map((t=>t.name===e.name?e:t)))}),[n,u]);return c().createElement(c().Fragment,null,n.map((t=>c().createElement("div",{key:t.name,className:r.item},c().createElement(i.SD,{title:c().createElement(Sc,null,t.name,c().createElement(a.InlineSwitch,du({value:t.pagination.enabled,transparent:!0,onChange:e=>{p(pu(du({},t),{pagination:pu(du({},t.pagination),{enabled:e.currentTarget.checked})})),l(pu(du({},o),{[t.name]:e.currentTarget.checked}))},showLabel:!0},fu.fieldPaginationEnabled.apply(t.name))),ae(t)&&c().createElement(a.Tag,{name:"Error",colorIndex:0})),headerTestId:fu.itemHeader.selector(t.name),contentTestId:fu.itemContent.selector(t.name),isOpen:o[t.name],onToggle:()=>d(t.name),isExpandDisabled:!t.pagination.enabled},c().createElement(lu,{value:t,onChange:p,data:e}))))))};function gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){gu(e,t,n[t])}))}return e}function bu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const vu=H.permissionEditor,yu=[{value:R.ALLOWED,label:"Always Allowed"},{value:R.USER_ROLE,label:"By Org User Role"},{value:R.QUERY,label:"By Backend"}],wu=Object.values(o.OrgRole).map((e=>({value:e,label:e}))),Eu=({value:e,onChange:t,data:n})=>c().createElement(c().Fragment,null,c().createElement(a.InlineField,{label:"Check",grow:!0},c().createElement(a.Select,mu({value:e.mode,onChange:n=>{t(bu(mu({},e),{mode:n.value}))},options:yu},vu.fieldMode.apply()))),e.mode===R.USER_ROLE&&c().createElement(a.InlineField,{label:"User Role",grow:!0},c().createElement(a.Select,mu({value:e.userRole,onChange:n=>{const r=Array.isArray(n)?n:[n];t(bu(mu({},e),{userRole:r.map((e=>e.value))}))},options:wu,isMulti:!0,isClearable:!0,placeholder:"Allowed Org User Role"},vu.fieldOrgRole.apply()))),e.mode===R.QUERY&&c().createElement(a.InlineField,{label:"Field",tooltip:"Field with boolean value to allow/disallow operation. Last value will be used if several values.",grow:!0},c().createElement(co,mu({value:e.field,onChange:n=>{t(re(bu(mu({},e),{field:n})))},data:n,includeTypes:[o.FieldType.boolean],isClearable:!0},vu.fieldPicker.apply()))));function Su(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Su(e,t,n[t])}))}return e}function xu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Ou=({value:e,onChange:t,queryEditorDescription:n})=>c().createElement(c().Fragment,null,c().createElement(a.Field,{label:"Data Source"},c().createElement(Er,{value:e.datasource,onChange:n=>{t(xu(Cu({},e),{datasource:n}))}})),e.datasource&&c().createElement(a.Field,{label:"Query Editor",description:n},c().createElement(Ar,{value:e.payload,onChange:n=>{t(xu(Cu({},e),{payload:n}))},datasourceUid:e.datasource})));var Au=m(7694),Du=m(200);function Ru(e,t){var n=(0,s.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,s.useRef)(!0),o=(0,s.useRef)(n),a=r.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs)),i=a?o.current:{inputs:t,result:e()};return(0,s.useEffect)((function(){r.current=!1,o.current=i}),[i]),i.result}var _u=Ru,ku=function(e,t){return Ru((function(){return e}),t)},Pu=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},Tu=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Iu=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},ju={top:0,right:0,bottom:0,left:0},Fu=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?ju:n,o=e.border,a=void 0===o?ju:o,i=e.padding,s=void 0===i?ju:i,l=Pu(Tu(t,r)),c=Pu(Iu(t,a)),u=Pu(Iu(c,s));return{marginBox:l,borderBox:Pu(t),paddingBox:c,contentBox:u,margin:r,border:a,padding:s}},Mu=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(){throw new Error("Invariant failed")}(),n},Lu=function(e,t){var n,r,o=e.borderBox,a=e.border,i=e.margin,s=e.padding,l=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return Fu({borderBox:l,border:a,margin:i,padding:s})},Nu=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Lu(e,t)},Bu=function(e,t){var n={top:Mu(t.marginTop),right:Mu(t.marginRight),bottom:Mu(t.marginBottom),left:Mu(t.marginLeft)},r={top:Mu(t.paddingTop),right:Mu(t.paddingRight),bottom:Mu(t.paddingBottom),left:Mu(t.paddingLeft)},o={top:Mu(t.borderTopWidth),right:Mu(t.borderRightWidth),bottom:Mu(t.borderBottomWidth),left:Mu(t.borderLeftWidth)};return Fu({borderBox:e,margin:n,padding:r,border:o})},Vu=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Bu(t,n)},zu=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function $u(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((r=e[n])===(o=t[n])||zu(r)&&zu(o)))return!1;var r,o;return!0}function Uu(e,t){void 0===t&&(t=$u);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}const Hu=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};var qu=m(8102);function Gu(e,t){}function Wu(){}function Qu(e,t,n){const r=t.map((t=>{const r=(o=n,a=t.options,{...o,...a});var o,a;return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((e=>{e()}))}}Gu.bind(null,"warn"),Gu.bind(null,"error");class Yu extends Error{}function Xu(e,t){throw new Yu("Invariant failed")}Yu.prototype.toString=function(){return this.message};class Ku extends c().Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Wu,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort(),e.error instanceof Yu&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=Qu(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof Yu))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Zu=e=>e+1,Ju=(e,t)=>{const n=e.droppableId===t.droppableId,r=Zu(e.index),o=Zu(t.index);return n?`\n      You have moved the item from position ${r}\n      to position ${o}\n    `:`\n    You have moved the item from position ${r}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${o}\n  `},ed=(e,t,n)=>t.droppableId===n.droppableId?`\n      The item ${e}\n      has been combined with ${n.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${n.draggableId}\n      in list ${n.droppableId}\n    `,td=e=>`\n  The item has returned to its starting position\n  of ${Zu(e.index)}\n`,nd="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",rd=e=>`\n  You have lifted an item in position ${Zu(e.source.index)}\n`,od=e=>{const t=e.destination;if(t)return Ju(e.source,t);const n=e.combine;return n?ed(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},ad=e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${td(e.source)}\n    `;const t=e.destination,n=e.combine;return t?`\n      You have dropped the item.\n      ${Ju(e.source,t)}\n    `:n?`\n      You have dropped the item.\n      ${ed(e.draggableId,e.source,n)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${td(e.source)}\n  `},id={x:0,y:0},sd=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ld=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),cd=(e,t)=>e.x===t.x&&e.y===t.y,ud=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),dd=(e,t,n=0)=>"x"===e?{x:t,y:n}:{x:n,y:t},pd=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),fd=(e,t)=>Math.min(...t.map((t=>pd(e,t)))),hd=e=>t=>({x:e(t.x),y:e(t.y)}),gd=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),md=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],bd=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=Pu({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):Pu(e);var vd=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const o=((e,t)=>t?gd(e,t.scroll.diff.displacement):e)(e.marginBox,r),a=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(o,n,t);return{page:e,withPlaceholder:t,active:bd(a,r)}},yd=(e,t)=>{e.frame||Xu();const n=e.frame,r=ld(t,n.scroll.initial),o=ud(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}},i=vd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:i}};const wd=Uu((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),Ed=Uu((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),Sd=Uu((e=>Object.values(e))),Cd=Uu((e=>Object.values(e)));var xd=Uu(((e,t)=>{const n=Cd(t).filter((t=>e===t.descriptor.droppableId)).sort(((e,t)=>e.descriptor.index-t.descriptor.index));return n}));function Od(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Ad(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var Dd=Uu(((e,t)=>t.filter((t=>t.descriptor.id!==e.descriptor.id)))),Rd=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const _d={point:id,value:0},kd={invisible:{},visible:{},all:[]},Pd={displaced:kd,displacedBy:_d,at:null};var Td=(e,t)=>n=>e<=n&&n<=t,Id=e=>{const t=Td(e.top,e.bottom),n=Td(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),a=n(r.left)||n(r.right);if(o&&a)return!0;const i=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!i||!s)||(i&&a||s&&o)}},jd=e=>{const t=Td(e.top,e.bottom),n=Td(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const Fd={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Md={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Ld=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:o})=>{const a=r?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:id;return gd(e,n)})(e,t):e;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(a,t,o)&&((e,t,n)=>n(t)(e))(a,n,o)},Nd=e=>Ld({...e,isVisibleThroughFrameFn:jd});function Bd({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:o,last:a}){return e.reduce((function(e,i){const s=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Pu(Tu(n,r))}(i,n),l=i.descriptor.id;var c;if(e.all.push(l),c={target:s,destination:t,viewport:r,withDroppableDisplacement:!0},!Ld({...c,isVisibleThroughFrameFn:Id}))return e.invisible[i.descriptor.id]=!0,e;const u=((e,t,n)=>{if("boolean"==typeof n)return n;if(!t)return!0;const{invisible:r,visible:o}=t;if(r[e])return!1;const a=o[e];return!a||a.shouldAnimate})(l,a,o),d={draggableId:l,shouldAnimate:u};return e.visible[l]=d,e}),{all:[],visible:{},invisible:{}})}function Vd({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const o=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(e,{inHomeList:t});return{displaced:kd,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function zd({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:o,last:a,index:i,forceShouldAnimate:s}){const l=Rd(e,n);if(null==i)return Vd({insideDestination:t,inHomeList:l,displacedBy:o,destination:n});const c=t.find((e=>e.descriptor.index===i));if(!c)return Vd({insideDestination:t,inHomeList:l,displacedBy:o,destination:n});const u=Dd(e,t),d=t.indexOf(c);return{displaced:Bd({afterDragging:u.slice(d),destination:n,displacedBy:o,last:a,viewport:r.frame,forceShouldAnimate:s}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function $d(e,t){return Boolean(t.effected[e])}const Ud=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Hd=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,qd=({axis:e,moveRelativeTo:t,isMoving:n})=>dd(e.line,t.marginBox[e.end]+Ud(e,n),Hd(e,t.marginBox,n)),Gd=({axis:e,moveRelativeTo:t,isMoving:n})=>dd(e.line,t.marginBox[e.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(e,n),Hd(e,t.marginBox,n));var Wd=(e,t)=>{const n=e.frame;return n?sd(t,n.scroll.diff.displacement):t},Qd=e=>{const t=(({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:o})=>{const a=t.page.borderBox.center,i=e.at;return n&&i?"REORDER"===i.type?(({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o})=>{const a=xd(r.descriptor.id,n),i=t.page,s=r.axis;if(!a.length)return(({axis:e,moveInto:t,isMoving:n})=>dd(e.line,t.contentBox[e.start]+Ud(e,n),Hd(e,t.contentBox,n)))({axis:s,moveInto:r.page,isMoving:i});const{displaced:l,displacedBy:c}=e,u=l.all[0];if(u){const e=n[u];if($d(u,o))return Gd({axis:s,moveRelativeTo:e.page,isMoving:i});const t=Lu(e.page,c.point);return Gd({axis:s,moveRelativeTo:t,isMoving:i})}const d=a[a.length-1];if(d.descriptor.id===t.descriptor.id)return i.borderBox.center;if($d(d.descriptor.id,o)){const e=Lu(d.page,ud(o.displacedBy.point));return qd({axis:s,moveRelativeTo:e,isMoving:i})}return qd({axis:s,moveRelativeTo:d.page,isMoving:i})})({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o}):(({afterCritical:e,impact:t,draggables:n})=>{const r=Ad(t);r||Xu();const o=r.draggableId,a=n[o].page.borderBox.center,i=(({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const o=Boolean(e.visible[n]||e.invisible[n]);return $d(n,t)?o?id:ud(r.point):o?r.point:id})({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy});return sd(a,i)})({impact:e,draggables:r,afterCritical:o}):a})(e),n=e.droppable;return n?Wd(n,t):t},Yd=(e,t)=>{const n=ld(t,e.scroll.initial),r=ud(n);return{frame:Pu({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Xd(e,t){return e.map((e=>t[e]))}var Kd=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=((e,t)=>sd(e.scroll.diff.displacement,t))(n,e),o=ld(r,t.page.borderBox.center);return sd(t.client.borderBox.center,o)},Zd=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:o,onlyOnMainAxis:a=!1})=>{const i=ld(n,e.page.borderBox.center),s={target:gd(e.page.borderBox,i),destination:t,withDroppableDisplacement:o,viewport:r};return a?(e=>{return Ld({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=Td(e.top,e.bottom),r=Td(e.left,e.right);return e=>t===Fd?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})});var t})(s):Nd(s)},Jd=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:o,viewport:a,previousPageBorderBoxCenter:i,previousClientSelection:s,afterCritical:l})=>{if(!n.isEnabled)return null;const c=xd(n.descriptor.id,r),u=Rd(t,n),d=(({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:o})=>{if(!n.isCombineEnabled)return null;if(!Od(o))return null;function a(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return{...o,at:t}}const i=o.displaced.all,s=i.length?i[0]:null;if(e)return s?a(s):null;const l=Dd(t,r);if(!s)return l.length?a(l[l.length-1].descriptor.id):null;const c=l.findIndex((e=>e.descriptor.id===s));-1===c&&Xu();const u=c-1;return u<0?null:a(l[u].descriptor.id)})({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:o})||(({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:o,insideDestination:a,previousImpact:i,viewport:s,afterCritical:l})=>{const c=i.at;if(c||Xu(),"REORDER"===c.type){const r=(({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const o=r.index,a=e?o+1:o-1,i=n[0].descriptor.index,s=n[n.length-1].descriptor.index;return a<i||a>(t?s:s+1)?null:a})({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:a});return null==r?null:zd({draggable:n,insideDestination:a,destination:o,viewport:s,last:i.displaced,displacedBy:i.displacedBy,index:r})}const u=(({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:o})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,i=n[a].descriptor.index;return $d(a,o)?e?i:i-1:e?i+1:i})({isMovingForward:e,destination:o,displaced:i.displaced,draggables:r,combine:c.combine,afterCritical:l});return null==u?null:zd({draggable:n,insideDestination:a,destination:o,viewport:s,last:i.displaced,displacedBy:i.displacedBy,index:u})})({isMovingForward:e,isInHomeList:u,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:o,viewport:a,afterCritical:l});if(!d)return null;const p=Qd({impact:d,draggable:t,droppable:n,draggables:r,afterCritical:l});if(Zd({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Kd({pageBorderBoxCenter:p,draggable:t,viewport:a}),impact:d,scrollJumpRequest:null};const f=ld(p,i),h=(({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:o})=>{const a=Yd(t,sd(t.scroll.current,o)),i=n.frame?yd(n,sd(n.frame.scroll.current,o)):n,s=e.displaced,l=Bd({afterDragging:Xd(s.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:s,forceShouldAnimate:!1}),c=Bd({afterDragging:Xd(s.all,r),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:s,forceShouldAnimate:!1}),u={},d={},p=[s,l,c];return s.all.forEach((e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,p);t?d[e]=t:u[e]=!0})),{...e,displaced:{all:s.all,invisible:u,visible:d}}})({impact:d,viewport:a,destination:n,draggables:r,maxScrollChange:f});return{clientSelection:s,impact:h,scrollJumpRequest:f}};const ep=e=>{const t=e.subject.active;return t||Xu(),t},tp=(e,t)=>{const n=e.page.borderBox.center;return $d(e.descriptor.id,t)?ld(n,t.displacedBy.point):n},np=(e,t)=>{const n=e.page.borderBox;return $d(e.descriptor.id,t)?gd(n,ud(t.displacedBy.point)):n};var rp=Uu((function(e,t){const n=t[e.line];return{value:n,point:dd(e.line,n)}}));const op=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),ap=(e,t,n)=>{const r=e.frame;Rd(t,e)&&Xu(),e.subject.withPlaceholder&&Xu();const o=rp(e.axis,t.displaceBy).point,a=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return dd(r.line,t[r.line]);const o=e.subject.page.contentBox[r.size],a=xd(e.descriptor.id,n).reduce(((e,t)=>e+t.client.marginBox[r.size]),0)+t[r.line]-o;return a<=0?null:dd(r.line,a)})(e,o,n),i={placeholderSize:o,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=vd({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:t}}const s=a?sd(r.scroll.max,a):r.scroll.max,l=op(r,s),c=vd({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:l});return{...e,subject:c,frame:l}};var ip=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},sp=({state:e,type:t})=>{const n=((e,t)=>{const n=ip(e);return n?t[n]:null})(e.impact,e.dimensions.droppables),r=Boolean(n),o=e.dimensions.droppables[e.critical.droppable.id],a=n||o,i=a.axis.direction,s="vertical"===i&&("MOVE_UP"===t||"MOVE_DOWN"===t)||"horizontal"===i&&("MOVE_LEFT"===t||"MOVE_RIGHT"===t);if(s&&!r)return null;const l="MOVE_DOWN"===t||"MOVE_RIGHT"===t,c=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:d,droppables:p}=e.dimensions;return s?Jd({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:a,draggables:d,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):(({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:o,droppables:a,viewport:i,afterCritical:s})=>{const l=(({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:o})=>{const a=n.subject.active;if(!a)return null;const i=n.axis,s=Td(a[i.start],a[i.end]),l=Sd(r).filter((e=>e!==n)).filter((e=>e.isEnabled)).filter((e=>Boolean(e.subject.active))).filter((e=>Id(o.frame)(ep(e)))).filter((t=>{const n=ep(t);return e?a[i.crossAxisEnd]<n[i.crossAxisEnd]:n[i.crossAxisStart]<a[i.crossAxisStart]})).filter((e=>{const t=ep(e),n=Td(t[i.start],t[i.end]);return s(t[i.start])||s(t[i.end])||n(a[i.start])||n(a[i.end])})).sort(((t,n)=>{const r=ep(t)[i.crossAxisStart],o=ep(n)[i.crossAxisStart];return e?r-o:o-r})).filter(((e,t,n)=>ep(e)[i.crossAxisStart]===ep(n[0])[i.crossAxisStart]));if(!l.length)return null;if(1===l.length)return l[0];const c=l.filter((e=>Td(ep(e)[i.start],ep(e)[i.end])(t[i.line])));return 1===c.length?c[0]:c.length>1?c.sort(((e,t)=>ep(e)[i.start]-ep(t)[i.start]))[0]:l.sort(((e,n)=>{const r=fd(t,md(ep(e))),o=fd(t,md(ep(n)));return r!==o?r-o:ep(e)[i.start]-ep(n)[i.start]}))[0]})({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:i});if(!l)return null;const c=xd(l.descriptor.id,o),u=(({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:o})=>{const a=r.filter((e=>Nd({target:np(e,o),destination:n,viewport:t.frame,withDroppableDisplacement:!0}))).sort(((t,r)=>{const a=pd(e,Wd(n,tp(t,o))),i=pd(e,Wd(n,tp(r,o)));return a<i?-1:i<a?1:t.descriptor.index-r.descriptor.index}));return a[0]||null})({pageBorderBoxCenter:t,viewport:i,destination:l,insideDestination:c,afterCritical:s}),d=(({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:o,destination:a,viewport:i,afterCritical:s})=>{if(!t){if(n.length)return null;const e={displaced:kd,displacedBy:_d,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},t=Qd({impact:e,draggable:r,droppable:a,draggables:o,afterCritical:s}),l=Rd(r,a)?a:ap(a,r,o);return Zd({draggable:r,destination:l,newPageBorderBoxCenter:t,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const l=Boolean(e[a.axis.line]<=t.page.borderBox.center[a.axis.line]),c=(()=>{const e=t.descriptor.index;return t.descriptor.id===r.descriptor.id||l?e:e+1})(),u=rp(a.axis,r.displaceBy);return zd({draggable:r,insideDestination:n,destination:a,viewport:i,displacedBy:u,last:kd,index:c})})({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:o,moveRelativeTo:u,insideDestination:c,viewport:i,afterCritical:s});if(!d)return null;const p=Qd({impact:d,draggable:n,droppable:l,draggables:o,afterCritical:s});return{clientSelection:Kd({pageBorderBoxCenter:p,draggable:n,viewport:i}),impact:d,scrollJumpRequest:null}})({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:a,draggables:d,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function lp(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function cp(e){const t=Td(e.top,e.bottom),n=Td(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}const up=(e,t)=>Pu(gd(e,t));function dp({displaced:e,id:t}){return Boolean(e.visible[t]||e.invisible[t])}var pp=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:o,viewport:a,afterCritical:i})=>{const s=up(t.page.borderBox,e),l=function({pageBorderBox:e,draggable:t,droppables:n}){const r=Sd(n).filter((t=>{if(!t.isEnabled)return!1;const n=t.subject.active;if(!n)return!1;if(o=n,!((r=e).left<o.right&&r.right>o.left&&r.top<o.bottom&&r.bottom>o.top))return!1;var r,o;if(cp(n)(e.center))return!0;const a=t.axis,i=n.center[a.crossAxisLine],s=e[a.crossAxisStart],l=e[a.crossAxisEnd],c=Td(n[a.crossAxisStart],n[a.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<i:l>i)}));return r.length?1===r.length?r[0].descriptor.id:function({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,o=n.map((t=>{const n=t.axis,o=dd(t.axis.line,e.center[n.line],t.page.borderBox.center[n.crossAxisLine]);return{id:t.descriptor.id,distance:pd(r,o)}})).sort(((e,t)=>t.distance-e.distance));return o[0]?o[0].id:null}({pageBorderBox:e,draggable:t,candidates:r}):null}({pageBorderBox:s,draggable:t,droppables:r});if(!l)return Pd;const c=r[l],u=xd(c.descriptor.id,n),d=((e,t)=>{const n=e.frame;return n?up(t,n.scroll.diff.value):t})(c,s);return(({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:o,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const i=r.axis,s=rp(r.axis,e.displaceBy),l=s.value,c=t[i.start],u=t[i.end],d=Dd(e,o).find((e=>{const t=e.descriptor.id,r=e.page.borderBox,o=r[i.size]/4,s=$d(t,a),d=dp({displaced:n.displaced,id:t});return s?d?u>r[i.start]+o&&u<r[i.end]-o:c>r[i.start]-l+o&&c<r[i.end]-l-o:d?u>r[i.start]+l+o&&u<r[i.end]+l-o:c>r[i.start]+o&&c<r[i.end]-o}));return d?{displacedBy:s,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:r.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:o,destination:c,insideDestination:u,afterCritical:i})||(({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:o,viewport:a,afterCritical:i})=>{const s=n.axis,l=rp(n.axis,t.displaceBy),c=l.value,u=e[s.start],d=e[s.end],p=function({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}({draggable:t,closest:Dd(t,r).find((e=>{const t=e.descriptor.id,n=e.page.borderBox.center[s.line],r=$d(t,i),a=dp({displaced:o,id:t});return r?a?d<=n:u<n-c:a?d<=n+c:u<n}))||null,inHomeList:Rd(t,n)});return zd({draggable:t,insideDestination:r,destination:n,viewport:a,last:o,displacedBy:l,index:p})})({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:c,insideDestination:u,last:o.displaced,viewport:a,afterCritical:i})},fp=(e,t)=>({...e,[t.descriptor.id]:t});var hp=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:o,scrollJumpRequest:a})=>{const i=r||e.viewport,s=n||e.dimensions,l=t||e.current.client.selection,c=ld(l,e.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:sd(e.initial.client.borderBoxCenter,c)},d={selection:sd(u.selection,i.scroll.current),borderBoxCenter:sd(u.borderBoxCenter,i.scroll.current),offset:sd(u.offset,i.scroll.diff.value)},p={client:u,page:d};if("COLLECTING"===e.phase)return{...e,dimensions:s,viewport:i,current:p};const f=s.draggables[e.critical.draggable.id],h=o||pp({pageOffset:d.offset,draggable:f,draggables:s.draggables,droppables:s.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),g=(({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:o})=>{const a=(({previousImpact:e,impact:t,droppables:n})=>{const r=ip(e),o=ip(t);if(!r)return n;if(r===o)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const i=(e=>{const t=e.subject.withPlaceholder;t||Xu();const n=e.frame;if(!n){const t=vd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const r=t.oldFrameMaxScroll;r||Xu();const o=op(n,r),a=vd({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:a,frame:o}})(a);return fp(n,i)})({previousImpact:r,impact:o,droppables:n}),i=ip(o);if(!i)return a;const s=n[i];if(Rd(e,s))return a;if(s.subject.withPlaceholder)return a;const l=ap(s,e,t);return fp(a,l)})({draggable:f,impact:h,previousImpact:e.impact,draggables:s.draggables,droppables:s.droppables});return{...e,current:p,dimensions:{draggables:s.draggables,droppables:g},impact:h,viewport:i,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null}},gp=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:o})=>{const a=e.displaced,i=function(e,t){return e.map((e=>t[e]))}(a.all,n),s=Bd({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:a});return{...e,displaced:s}},mp=({impact:e,draggable:t,droppable:n,draggables:r,viewport:o,afterCritical:a})=>{const i=Qd({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return Kd({pageBorderBoxCenter:i,draggable:t,viewport:o})},bp=({state:e,dimensions:t,viewport:n})=>{"SNAP"!==e.movementMode&&Xu();const r=e.impact,o=n||e.viewport,a=t||e.dimensions,{draggables:i,droppables:s}=a,l=i[e.critical.draggable.id],c=ip(r);c||Xu();const u=s[c],d=gp({impact:r,viewport:o,destination:u,draggables:i}),p=mp({impact:d,draggable:l,droppable:u,draggables:i,viewport:o,afterCritical:e.afterCritical});return hp({impact:d,clientSelection:p,state:e,dimensions:a,viewport:o})},vp=({draggable:e,home:t,draggables:n,viewport:r})=>{const o=rp(t.axis,e.displaceBy),a=xd(t.descriptor.id,n),i=a.indexOf(e);-1===i&&Xu();const s=a.slice(i+1),l=s.reduce(((e,t)=>(e[t.descriptor.id]=!0,e)),{}),c={inVirtualList:"virtual"===t.descriptor.mode,displacedBy:o,effected:l};var u;return{impact:{displaced:Bd({afterDragging:s,destination:t,displacedBy:o,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(u=e.descriptor,{index:u.index,droppableId:u.droppableId})}},afterCritical:c}};const yp=e=>"SNAP"===e.movementMode,wp=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:fp(e.droppables,t)}))(e.dimensions,t);return!yp(e)||n?hp({state:e,dimensions:r}):bp({state:e,dimensions:r})};function Ep(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const Sp={phase:"IDLE",completed:null,shouldFlush:!1};var Cp=(e=Sp,t)=>{if("FLUSH"===t.type)return{...Sp,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Xu();const{critical:n,clientSelection:r,viewport:o,dimensions:a,movementMode:i}=t.payload,s=a.draggables[n.draggable.id],l=a.droppables[n.droppable.id],c={selection:r,borderBoxCenter:s.client.borderBox.center,offset:id},u={client:c,page:{selection:sd(c.selection,o.scroll.initial),borderBoxCenter:sd(c.selection,o.scroll.initial),offset:sd(c.selection,o.scroll.diff.value)}},d=Sd(a.droppables).every((e=>!e.isFixedOnPage)),{impact:p,afterCritical:f}=vp({draggable:s,home:l,draggables:a.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:a,initial:u,current:u,isWindowScrollAllowed:d,impact:p,afterCritical:f,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Xu(),{...e,phase:"COLLECTING"});if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Xu(),(({state:e,published:t})=>{const n=t.modified.map((t=>{const n=e.dimensions.droppables[t.droppableId];return yd(n,t.scroll)})),r={...e.dimensions.droppables,...wd(n)},o=Ed((({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map((e=>{const o=e.descriptor.droppableId,a=(e=>{const t=e.frame;return t||Xu(),t})(t[o]),i=a.scroll.diff.value,s=(({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Lu(e.client,t),o=Nu(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:o}})({draggable:e,offset:sd(r,i),initialWindowScroll:n.scroll.initial});return s}))})({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...o};t.removals.forEach((e=>{delete a[e]}));const i={droppables:r,draggables:a},s=ip(e.impact),l=s?i.droppables[s]:null,c=i.draggables[e.critical.draggable.id],u=i.droppables[e.critical.droppable.id],{impact:d,afterCritical:p}=vp({draggable:c,home:u,draggables:a,viewport:e.viewport}),f=l&&l.isCombineEnabled?e.impact:d,h=pp({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:f,viewport:e.viewport,afterCritical:p}),g={...e,phase:"DRAGGING",impact:h,onLiftImpact:d,dimensions:i,afterCritical:p,forceShouldAnimate:!1};return"COLLECTING"===e.phase?g:{...g,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;lp(e)||Xu();const{client:n}=t.payload;return cd(n,e.current.client.selection)?e:hp({state:e,clientSelection:n,impact:yp(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Ep(e);if("COLLECTING"===e.phase)return Ep(e);lp(e)||Xu();const{id:n,newScroll:r}=t.payload,o=e.dimensions.droppables[n];if(!o)return e;const a=yd(o,r);return wp(e,a,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;lp(e)||Xu();const{id:n,isEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||Xu(),o.isEnabled===r&&Xu();const a={...o,isEnabled:r};return wp(e,a,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;lp(e)||Xu();const{id:n,isCombineEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||Xu(),o.isCombineEnabled===r&&Xu();const a={...o,isCombineEnabled:r};return wp(e,a,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;lp(e)||Xu(),e.isWindowScrollAllowed||Xu();const n=t.payload.newScroll;if(cd(e.viewport.scroll.current,n))return Ep(e);const r=Yd(e.viewport,n);return yp(e)?bp({state:e,viewport:r}):hp({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!lp(e))return e;const n=t.payload.maxScroll;if(cd(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Xu();const n=sp({state:e,type:t.type});return n?hp({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;return"COLLECTING"!==e.phase&&Xu(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:o}=t.payload;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Xu(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:o,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function xp(e,t){return e instanceof Object&&"type"in e&&e.type===t}const Op=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Ap=()=>({type:"COLLECTION_STARTING",payload:null}),Dp=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Rp=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),_p=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),kp=e=>({type:"MOVE",payload:e}),Pp=()=>({type:"MOVE_UP",payload:null}),Tp=()=>({type:"MOVE_DOWN",payload:null}),Ip=()=>({type:"MOVE_RIGHT",payload:null}),jp=()=>({type:"MOVE_LEFT",payload:null}),Fp=e=>({type:"DROP_COMPLETE",payload:e}),Mp=e=>({type:"DROP",payload:e}),Lp="cubic-bezier(.2,1,.1,1)",Np=0,Bp=.7,Vp=.75,zp={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},$p=`${zp.outOfTheWay}s cubic-bezier(0.2, 0, 0, 1)`,Up={fluid:`opacity ${$p}`,snap:`transform ${$p}, opacity ${$p}`,drop:e=>{const t=`${e}s ${Lp}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${$p}`,placeholder:`height ${$p}, width ${$p}, margin ${$p}`},Hp=e=>cd(e,id)?void 0:`translate(${e.x}px, ${e.y}px)`,qp=Hp,{minDropTime:Gp,maxDropTime:Wp}=zp,Qp=Wp-Gp,Yp=({getState:e,dispatch:t})=>n=>r=>{if(!xp(r,"DROP"))return void n(r);const o=e(),a=r.payload.reason;if("COLLECTING"===o.phase)return void t((i={reason:a},{type:"DROP_PENDING",payload:i}));var i;if("IDLE"===o.phase)return;"DROP_PENDING"===o.phase&&o.isWaiting&&Xu(),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&Xu();const s=o.critical,l=o.dimensions,c=l.draggables[o.critical.draggable.id],{impact:u,didDropInsideDroppable:d}=(({draggables:e,reason:t,lastImpact:n,home:r,viewport:o,onLiftImpact:a})=>n.at&&"DROP"===t?"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:kd},didDropInsideDroppable:!0}:{impact:gp({draggables:e,impact:a,destination:r,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1})({reason:a,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),p=d?Od(u):null,f=d?Ad(u):null,h={index:s.draggable.index,droppableId:s.droppable.id},g={draggableId:c.descriptor.id,type:c.descriptor.type,source:h,reason:a,mode:o.movementMode,destination:p,combine:f},m=(({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:o})=>{const{draggables:a,droppables:i}=n,s=ip(e),l=s?i[s]:null,c=i[t.descriptor.droppableId],u=mp({impact:e,draggable:t,draggables:a,afterCritical:o,droppable:l||c,viewport:r});return ld(u,t.client.borderBox.center)})({impact:u,draggable:c,dimensions:l,viewport:o.viewport,afterCritical:o.afterCritical}),b={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:u};if(cd(o.current.client.offset,m)&&!Boolean(g.combine))return void t(Fp({completed:b}));const v=(({current:e,destination:t,reason:n})=>{const r=pd(e,t);if(r<=0)return Gp;if(r>=1500)return Wp;const o=Gp+Qp*(r/1500);return Number(("CANCEL"===n?.6*o:o).toFixed(2))})({current:o.current.client.offset,destination:m,reason:a});t((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:m,dropDuration:v,completed:b}))};var Xp=()=>({x:window.pageXOffset,y:window.pageYOffset});const Kp=e=>{const t=function({onWindowScroll:e}){const t=Hu((function(){e(Xp())})),n=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(t);let r=Wu;function o(){return r!==Wu}return{start:function(){o()&&Xu(),r=Qu(window,[n])},stop:function(){o()||Xu(),t.cancel(),r(),r=Wu},isActive:o}}({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{!t.isActive()&&xp(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>xp(e,"DROP_COMPLETE")||xp(e,"DROP_ANIMATE")||xp(e,"FLUSH"))(n)&&t.stop(),e(n)}};const Zp=(e,t)=>{t()},Jp=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function ef(e,t,n,r){if(!e)return void n(r(t));const o=(e=>{let t=!1,n=!1;const r=setTimeout((()=>{n=!0})),o=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=()=>t,o})(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}var tf=(e,t)=>{const n=((e,t)=>{const n=(()=>{const e=[];return{add:t=>{const n=setTimeout((()=>(t=>{const n=e.findIndex((e=>e.timerId===t));-1===n&&Xu();const[r]=e.splice(n,1);r.callback()})(n))),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach((e=>{clearTimeout(e.timerId),e.callback()}))}}})();let r=null;const o=n=>{r||Xu(),r=null,Zp(0,(()=>ef(e().onDragEnd,n,t,ad)))};return{beforeCapture:(t,n)=>{r&&Xu(),Zp(0,(()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:(t,n)=>{r&&Xu(),Zp(0,(()=>{const r=e().onBeforeDragStart;r&&r(Jp(t,n))}))},start:(o,a)=>{r&&Xu();const i=Jp(o,a);r={mode:a,lastCritical:o,lastLocation:i.source,lastCombine:null},n.add((()=>{Zp(0,(()=>ef(e().onDragStart,i,t,rd)))}))},update:(o,a)=>{const i=Od(a),s=Ad(a);r||Xu();const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(o,r.lastCritical);l&&(r.lastCritical=o);const c=(d=i,!(null==(u=r.lastLocation)&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));var u,d;c&&(r.lastLocation=i);const p=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,s);if(p&&(r.lastCombine=s),!l&&!c&&!p)return;const f={...Jp(o,r.mode),combine:s,destination:i};n.add((()=>{Zp(0,(()=>ef(e().onDragUpdate,f,t,od)))}))},flush:()=>{r||Xu(),n.flush()},drop:o,abort:()=>{if(!r)return;const e={...Jp(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};o(e)}}})(e,t);return e=>t=>r=>{if(xp(r,"BEFORE_INITIAL_CAPTURE"))return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if(xp(r,"INITIAL_PUBLISH")){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if(xp(r,"DROP_COMPLETE")){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),xp(r,"FLUSH"))return void n.abort();const o=e.getState();"DRAGGING"===o.phase&&n.update(o.critical,o.impact)}};const nf=e=>t=>n=>{if(!xp(n,"DROP_ANIMATION_FINISHED"))return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&Xu(),e.dispatch(Fp({completed:r.completed}))},rf=e=>{let t=null,n=null;return r=>o=>{if((xp(o,"FLUSH")||xp(o,"DROP_COMPLETE")||xp(o,"DROP_ANIMATION_FINISHED"))&&(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),!xp(o,"DROP_ANIMATE"))return;const a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((()=>{n=null,t=Qu(window,[a])}))}};const of=e=>t=>n=>{if(t(n),!xp(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Mp({reason:r.reason})))},af=Au.compose;var sf=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:o,autoScroller:a})=>{return(0,Au.createStore)(Cp,af((0,Au.applyMiddleware)((i=n,()=>e=>t=>{xp(t,"INITIAL_PUBLISH")&&i.dragging(),xp(t,"DROP_ANIMATE")&&i.dropping(t.payload.completed.result.reason),(xp(t,"FLUSH")||xp(t,"DROP_COMPLETE"))&&i.resting(),e(t)}),(e=>()=>t=>n=>{(xp(n,"DROP_COMPLETE")||xp(n,"FLUSH")||xp(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)})(e),(e=>({getState:t,dispatch:n})=>r=>o=>{if(!xp(o,"LIFT"))return void r(o);const{id:a,clientSelection:i,movementMode:s}=o.payload,l=t();"DROP_ANIMATING"===l.phase&&n(Fp({completed:l.completed})),"IDLE"!==t().phase&&Xu(),n({type:"FLUSH",payload:null}),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:s}});const c={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},{critical:u,dimensions:d,viewport:p}=e.startPublishing(c);n({type:"INITIAL_PUBLISH",payload:{critical:u,dimensions:d,clientSelection:i,movementMode:s,viewport:p}})})(e),Yp,nf,rf,of,(e=>t=>n=>r=>{if((e=>xp(e,"DROP_COMPLETE")||xp(e,"DROP_ANIMATE")||xp(e,"FLUSH"))(r))return e.stop(),void n(r);if(xp(r,"INITIAL_PUBLISH")){n(r);const o=t.getState();return"DRAGGING"!==o.phase&&Xu(),void e.start(o)}n(r),e.scroll(t.getState())})(a),Kp,(e=>{let t=!1;return()=>n=>r=>{if(xp(r,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if(xp(r,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if(xp(r,"DROP_COMPLETE")){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(t),tf(r,o))));var i},lf=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const o=ld({x:t,y:e},{x:r,y:n});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},cf=()=>{const e=document.documentElement;return e||Xu(),e},uf=()=>{const e=cf();return lf({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function df(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var pf=(e,t)=>{let n=null;const r=function({registry:e,callbacks:t}){let n={additions:{},removals:{},modified:{}},r=null;const o=()=>{r||(t.collectionStarting(),r=requestAnimationFrame((()=>{r=null;const{additions:o,removals:a,modified:i}=n,s=Object.keys(o).map((t=>e.draggable.getById(t).getDimension(id))).sort(((e,t)=>e.descriptor.index-t.descriptor.index)),l=Object.keys(i).map((t=>({droppableId:t,scroll:e.droppable.getById(t).callbacks.getScrollWhileDragging()}))),c={additions:s,removals:Object.keys(a),modified:l};n={additions:{},removals:{},modified:{}},t.publish(c)})))};return{add:e=>{const t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],o()},remove:e=>{const t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],o()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=t=>{n||Xu();const o=n.critical.draggable;"ADDITION"===t.type&&df(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&df(e,o,t.value)&&r.remove(t.value)},a={updateDroppableIsEnabled:(r,o)=>{e.droppable.exists(r)||Xu(),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:(r,o)=>{n&&(e.droppable.exists(r)||Xu(),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,o)=>{n&&(e.droppable.exists(r)||Xu(),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:t=>{n&&Xu();const r=e.draggable.getById(t.draggableId),a=e.droppable.getById(r.descriptor.droppableId),i={draggable:r.descriptor,droppable:a.descriptor},s=e.subscribe(o);return n={critical:i,unsubscribe:s},(({critical:e,scrollOptions:t,registry:n})=>{const r=(()=>{const e=Xp(),t=uf(),n=e.y,r=e.x,o=cf(),a=o.clientWidth,i=o.clientHeight;return{frame:Pu({top:n,left:r,right:r+a,bottom:n+i}),scroll:{initial:e,current:e,max:t,diff:{value:id,displacement:id}}}})(),o=r.scroll.current,a=e.droppable,i=n.droppable.getAllByType(a.type).map((e=>e.callbacks.getDimensionAndWatchScroll(o,t))),s=n.draggable.getAllByType(e.draggable.type).map((e=>e.getDimension(o)));return{dimensions:{draggables:Ed(s),droppables:wd(i)},critical:e,viewport:r}})({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((e=>e.callbacks.dragStopped())),n.unsubscribe(),n=null}};return a},ff=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason,hf=e=>{window.scrollBy(e.x,e.y)};const gf=Uu((e=>Sd(e).filter((e=>!!e.isEnabled&&!!e.frame))));const mf={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var bf=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return 0===r?0:(n-e)/r},vf=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const a=((e,t,n=()=>mf)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const o=1-bf({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=r.maxPixelScroll*r.ease(o);return Math.ceil(a)})(e,t,o);return 0===a?0:r?Math.max(((e,t,n)=>{const r=n(),o=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,i=t,s=a,l=Date.now()-i;if(l>=a)return e;if(l<o)return 1;const c=bf({startOfRange:o,endOfRange:s,current:l}),u=e*r.ease(c);return Math.ceil(u)})(a,n,o),1):a},yf=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i=((e,t,n=()=>mf)=>{const r=n();return{startScrollingFrom:e[t.size]*r.startFromPercentage,maxScrollValueAt:e[t.size]*r.maxScrollAtPercentage}})(e,r,a);return t[r.end]<t[r.start]?vf({distanceToEdge:t[r.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a}):-1*vf({distanceToEdge:t[r.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a})};const wf=hd((e=>0===e?0:e));var Ef=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},s=yf({container:t,distanceToEdges:i,dragStartTime:e,axis:Fd,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),l=yf({container:t,distanceToEdges:i,dragStartTime:e,axis:Md,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),c=wf({x:l,y:s});if(cd(c,id))return null;const u=(({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,o=t.width>e.width;return o||r?o&&r?null:{x:o?0:n.x,y:r?0:n.y}:n})({container:t,subject:n,proposedScroll:c});return u?cd(u,id)?null:u:null};const Sf=hd((e=>0===e?0:e>0?1:-1)),Cf=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return({current:t,max:n,change:r})=>{const o=sd(t,r),a={x:e(o.x,n.x),y:e(o.y,n.y)};return cd(a,id)?null:a}})(),xf=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},o=Sf(n),a=Cf({max:r,current:t,change:o});return!a||0!==o.x&&0===a.x||0!==o.y&&0===a.y},Of=(e,t)=>xf({current:e.scroll.current,max:e.scroll.max,change:t}),Af=(e,t)=>{const n=e.frame;return!!n&&xf({current:n.scroll.current,max:n.scroll.max,change:t})};var Df=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:o,getAutoScrollerOptions:a})=>{const i=e.current.page.borderBoxCenter,s=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const o=(({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i=Ef({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return i&&Of(e,i)?i:null})({dragStartTime:t,viewport:e.viewport,subject:s,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(o)return void r(o)}const l=(({center:e,destination:t,droppables:n})=>{if(t){const e=n[t];return e.frame?e:null}const r=((e,t)=>{const n=gf(t).find((t=>(t.frame||Xu(),cp(t.frame.pageMarginBox)(e))))||null;return n})(e,n);return r})({center:i,destination:ip(e.impact),droppables:e.dimensions.droppables});if(!l)return;const c=(({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i=e.frame;if(!i)return null;const s=Ef({dragStartTime:r,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return s&&Af(e,s)?s:null})({dragStartTime:t,droppable:l,subject:s,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:a});c&&o(l.descriptor.id,c)},Rf=({move:e,scrollDroppable:t,scrollWindow:n})=>r=>{const o=r.scrollJumpRequest;if(!o)return;const a=ip(r.impact);a||Xu();const i=((e,n)=>{if(!Af(e,n))return n;const r=((e,t)=>{const n=e.frame;return n&&Af(e,t)?Cf({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,n);if(!r)return t(e.descriptor.id,n),null;const o=ld(n,r);return t(e.descriptor.id,o),ld(n,o)})(r.dimensions.droppables[a],o);if(!i)return;const s=r.viewport,l=((e,t,r)=>{if(!e)return r;if(!Of(t,r))return r;const o=((e,t)=>{if(!Of(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Cf({current:r,max:n,change:t})})(t,r);if(!o)return n(r),null;const a=ld(r,o);return n(a),ld(r,a)})(r.isWindowScrollAllowed,s,i);l&&((t,n)=>{const r=sd(t.current.client.selection,n);e({client:r})})(r,l)};const _f="data-rfd",kf=(()=>{const e=`${_f}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Pf=(()=>{const e=`${_f}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Tf=(()=>{const e=`${_f}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),If={contextId:`${_f}-scroll-container-context-id`},jf=(e,t)=>e.map((e=>{const n=e.styles[t];return n?`${e.selector} { ${n} }`:""})).join(" "),Ff="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?s.useLayoutEffect:s.useEffect,Mf=()=>{const e=document.querySelector("head");return e||Xu(),e},Lf=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Nf(e,t){return Array.from(e.querySelectorAll(t))}var Bf=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Vf(e){return e instanceof Bf(e).HTMLElement}function zf(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((t=>t(e)))}function r(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const o=t.descriptor.id,a=r(o);a&&t.uniqueId===a.uniqueId&&(delete e.draggables[o],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||Xu(),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter((e=>e.descriptor.type===t))},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=o(e);return t||Xu(),t},findById:o,exists:e=>Boolean(o(e)),getAllByType:t=>Object.values(e.droppables).filter((e=>e.descriptor.type===t))},subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var $f=c().createContext(null),Uf=()=>{const e=document.body;return e||Xu(),e};const Hf={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},qf={separator:"::"};function Gf(e,t=qf){const n=c().useId();return _u((()=>`${e}${t.separator}${n}`),[t.separator,e,n])}var Wf=c().createContext(null);function Qf(e){const t=(0,s.useRef)(e);return(0,s.useEffect)((()=>{t.current=e})),t}function Yf(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const Xf=9,Kf=13,Zf=33,Jf=34,eh=35,th=36,nh={[Kf]:!0,[Xf]:!0};var rh=e=>{nh[e.keyCode]&&e.preventDefault()};const oh=(()=>{const e="visibilitychange";return"undefined"==typeof document?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find((e=>`on${e}`in document))||e})(),ah={type:"IDLE"};function ih(){}const sh={[Jf]:!0,[Zf]:!0,[th]:!0,[eh]:!0};const lh={type:"IDLE"},ch=["input","button","textarea","select","option","optgroup","video","audio"];function uh(e,t){if(null==t)return!1;if(ch.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&uh(e,t.parentElement)}function dh(e,t){const n=t.target;return!!Vf(n)&&uh(e,n)}var ph=e=>Pu(e.getBoundingClientRect()).center;const fh=(()=>{const e="matches";return"undefined"==typeof document?e:[e,"msMatchesSelector","webkitMatchesSelector"].find((e=>e in Element.prototype))||e})();function hh(e,t){return null==e?null:e[fh](t)?e:hh(e.parentElement,t)}function gh(e,t){return e.closest?e.closest(t):hh(e,t)}function mh(e){e.preventDefault()}function bh({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!!n()&&e===t}function vh({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const o=n.draggable.findById(r);return!!o&&!!o.options.isEnabled&&!!ff(t.getState(),r)}const yh=[function(e){const t=(0,s.useRef)(ah),n=(0,s.useRef)(Wu),r=_u((()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const r=e.findClosestDraggableId(t);if(!r)return;const o=e.tryGetLock(r,i,{sourceEvent:t});if(!o)return;t.preventDefault();const a={x:t.clientX,y:t.clientY};n.current(),u(o,a)}})),[e]),o=_u((()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}})),[e]),a=ku((function(){n.current=Qu(window,[o,r],{passive:!1,capture:!0})}),[o,r]),i=ku((()=>{"IDLE"!==t.current.type&&(t.current=ah,n.current(),a())}),[a]),l=ku((()=>{const e=t.current;i(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[i]),c=ku((function(){const e=function({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:o,clientY:a}=e;if(0!==t)return;const i={x:o,y:a},s=n();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(i);if("PENDING"!==s.type&&Xu(),l=s.point,c=i,!(Math.abs(c.x-l.x)>=5||Math.abs(c.y-l.y)>=5))return;var l,c;e.preventDefault();const u=s.actions.fluidLift(i);r({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:r=>{const o=n();"DRAGGING"===o.type?(r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"mousedown",fn:t=>{"DRAGGING"===n().type&&t.preventDefault(),e()}},{eventName:"keydown",fn:t=>{if("PENDING"!==n().type)return 27===t.keyCode?(t.preventDefault(),void e()):void rh(t);e()}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===n().type&&e()}},{eventName:"webkitmouseforcedown",fn:t=>{const r=n();"IDLE"===r.type&&Xu(),r.actions.shouldRespectForcePress()?e():t.preventDefault()}},{eventName:oh,fn:e}]}({cancel:l,completed:i,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=Qu(window,e,{capture:!0,passive:!1})}),[l,i]),u=ku((function(e,n){"IDLE"!==t.current.type&&Xu(),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);Ff((function(){return a(),function(){n.current()}}),[a])},function(e){const t=(0,s.useRef)(ih),n=_u((()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(32!==n.keyCode)return;const o=e.findClosestDraggableId(n);if(!o)return;const a=e.tryGetLock(o,l,{sourceEvent:n});if(!a)return;n.preventDefault();let i=!0;const s=a.snapLift();function l(){i||Xu(),i=!1,t.current(),r()}t.current(),t.current=Qu(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(sh[r.keyCode]?r.preventDefault():rh(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:oh,fn:n}]}(s,l),{capture:!0,passive:!1})}})),[e]),r=ku((function(){t.current=Qu(window,[n],{passive:!1,capture:!0})}),[n]);Ff((function(){return r(),function(){t.current()}}),[r])},function(e){const t=(0,s.useRef)(lh),n=(0,s.useRef)(Wu),r=ku((function(){return t.current}),[]),o=ku((function(e){t.current=e}),[]),a=_u((()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const o=e.tryGetLock(r,l,{sourceEvent:t});if(!o)return;const a=t.touches[0],{clientX:i,clientY:s}=a,c={x:i,y:s};n.current(),p(o,c)}})),[e]),i=ku((function(){n.current=Qu(window,[a],{capture:!0,passive:!1})}),[a]),l=ku((()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(lh),n.current(),i())}),[i,o]),c=ku((()=>{const e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=ku((function(){const e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},o=Qu(window,function({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:t=>{const r=n();if("DRAGGING"!==r.type)return void e();r.hasMoved=!0;const{clientX:o,clientY:a}=t.touches[0],i={x:o,y:a};t.preventDefault(),r.actions.move(i)}},{eventName:"touchend",fn:r=>{const o=n();"DRAGGING"===o.type?(r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"touchcancel",fn:t=>{"DRAGGING"===n().type?(t.preventDefault(),e()):e()}},{eventName:"touchforcechange",fn:t=>{const r=n();"IDLE"===r.type&&Xu();const o=t.touches[0];if(!o)return;if(!(o.force>=.15))return;const a=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return a?r.hasMoved?void t.preventDefault():void e():void t.preventDefault();a&&e()}},{eventName:oh,fn:e}]}(t),e),a=Qu(window,function({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:n=>{"DRAGGING"===t().type?(27===n.keyCode&&n.preventDefault(),e()):e()}},{eventName:oh,fn:e}]}(t),e);n.current=function(){o(),a()}}),[c,r,l]),d=ku((function(){const e=r();"PENDING"!==e.type&&Xu();const t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,o]),p=ku((function(e,t){"IDLE"!==r().type&&Xu();const n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,r,o,d]);Ff((function(){return i(),function(){n.current();const e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(lh))}}),[r,i,o]),Ff((function(){return Qu(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])}),[])}];function wh({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:o}){const a=[...o?yh:[],...r||[]],i=(0,s.useState)((()=>function(){let e=null;function t(){e||Xu(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Xu();const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()))[0],l=ku((function(e,t){Yf(e)&&!Yf(t)&&i.tryAbandon()}),[i]);Ff((function(){let e=t.getState();return t.subscribe((()=>{const n=t.getState();l(e,n),e=n}))}),[i,t,l]),Ff((()=>i.tryAbandon),[i.tryAbandon]);const c=ku((e=>vh({lockAPI:i,registry:n,store:t,draggableId:e})),[i,n,t]),u=ku(((r,o,a)=>function({lockAPI:e,contextId:t,store:n,registry:r,draggableId:o,forceSensorStop:a,sourceEvent:i}){if(!vh({lockAPI:e,store:n,registry:r,draggableId:o}))return null;const s=r.draggable.getById(o),l=function(e,t){const n=`[${Pf.contextId}="${e}"]`,r=Nf(document,n).find((e=>e.getAttribute(Pf.id)===t));return r&&Vf(r)?r:null}(t,s.descriptor.id);if(!l)return null;if(i&&!s.options.canDragInteractiveElements&&dh(l,i))return null;const c=e.claim(a||Wu);let u="PRE_DRAG";function d(){return s.options.shouldRespectForcePress}function p(){return e.isActive(c)}const f=function(e,t){bh({expected:e,phase:u,isLockActive:p,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function h(t){function r(){e.release(),u="COMPLETED"}function o(e,o={shouldBlockNextClick:!1}){if(t.cleanup(),o.shouldBlockNextClick){const e=Qu(window,[{eventName:"click",fn:mh,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}r(),n.dispatch(Mp({reason:e}))}return"PRE_DRAG"!==u&&(r(),Xu()),n.dispatch((e=>({type:"LIFT",payload:e}))(t.liftActionArgs)),u="DRAGGING",{isActive:()=>bh({expected:"DRAGGING",phase:u,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:d,drop:e=>o("DROP",e),cancel:e=>o("CANCEL",e),...t.actions}}return{isActive:()=>bh({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:d,fluidLift:function(e){const t=Hu((e=>{f((()=>kp({client:e})))}));return{...h({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>f(Pp),moveRight:()=>f(Ip),moveDown:()=>f(Tp),moveLeft:()=>f(jp)};return h({liftActionArgs:{id:o,clientSelection:ph(l),movementMode:"SNAP"},cleanup:Wu,actions:e})},abort:function(){bh({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!0})&&e.release()}}}({lockAPI:i,registry:n,contextId:e,store:t,draggableId:r,forceSensorStop:o||null,sourceEvent:a&&a.sourceEvent?a.sourceEvent:null})),[e,i,n,t]),d=ku((t=>function(e,t){const n=function(e,t){const n=t.target;if(!((r=n)instanceof Bf(r).Element))return null;var r;const o=function(e){return`[${kf.contextId}="${e}"]`}(e),a=gh(n,o);return a&&Vf(a)?a:null}(e,t);return n?n.getAttribute(kf.draggableId):null}(e,t)),[e]),p=ku((e=>{const t=n.draggable.findById(e);return t?t.options:null}),[n.draggable]),f=ku((function(){i.isClaimed()&&(i.tryAbandon(),"IDLE"!==t.getState().phase&&t.dispatch({type:"FLUSH",payload:null}))}),[i,t]),h=ku((()=>i.isClaimed()),[i]),g=_u((()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:p,tryReleaseLock:f,isLockClaimed:h})),[c,u,d,p,f,h]);for(let e=0;e<a.length;e++)a[e](g)}function Eh(e){return e.current||Xu(),e.current}function Sh(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:o,dragHandleUsageInstructions:a}=e,i=(0,s.useRef)(null),l=Qf(e),u=ku((()=>(e=>({onBeforeCapture:t=>{(0,Ys.flushSync)((()=>{e.onBeforeCapture&&e.onBeforeCapture(t)}))},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(l.current)),[l]),d=ku((()=>(e=>({...mf,...e.autoScrollerOptions,durationDampening:{...mf.durationDampening,...e.autoScrollerOptions}}))(l.current)),[l]),p=function(e){const t=_u((()=>(e=>`rfd-announcement-${e}`)(e)),[e]),n=(0,s.useRef)(null);return(0,s.useEffect)((function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),(0,qu.A)(e.style,Hf),Uf().appendChild(e),function(){setTimeout((function(){const t=Uf();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),ku((e=>{const t=n.current;t&&(t.textContent=e)}),[])}(t),f=function({contextId:e,text:t}){const n=Gf("hidden-text",{separator:"-"}),r=_u((()=>function({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}({contextId:e,uniqueId:n})),[n,e]);return(0,s.useEffect)((function(){const e=document.createElement("div");return e.id=r,e.textContent=t,e.style.display="none",Uf().appendChild(e),function(){const t=Uf();t.contains(e)&&t.removeChild(e)}}),[r,t]),r}({contextId:t,text:a}),h=function(e,t){const n=_u((()=>(e=>{const t=(n=e,e=>`[${e}="${n}"]`);var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(kf.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),o=[(()=>{const e=`\n      transition: ${Up.outOfTheWay};\n    `;return{selector:t(Pf.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(Tf.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:jf(o,"always"),resting:jf(o,"resting"),dragging:jf(o,"dragging"),dropAnimating:jf(o,"dropAnimating"),userCancel:jf(o,"userCancel")}})(e)),[e]),r=(0,s.useRef)(null),o=(0,s.useRef)(null),a=ku(Uu((e=>{const t=o.current;t||Xu(),t.textContent=e})),[]),i=ku((e=>{const t=r.current;t||Xu(),t.textContent=e}),[]);Ff((()=>{(r.current||o.current)&&Xu();const s=Lf(t),l=Lf(t);return r.current=s,o.current=l,s.setAttribute(`${_f}-always`,e),l.setAttribute(`${_f}-dynamic`,e),Mf().appendChild(s),Mf().appendChild(l),i(n.always),a(n.resting),()=>{const e=e=>{const t=e.current;t||Xu(),Mf().removeChild(t),e.current=null};e(r),e(o)}}),[t,i,a,n.always,n.resting,e]);const l=ku((()=>a(n.dragging)),[a,n.dragging]),c=ku((e=>{a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=ku((()=>{o.current&&a(n.resting)}),[a,n.resting]);return _u((()=>({dragging:l,dropping:c,resting:u})),[l,c,u])}(t,o),g=ku((e=>{Eh(i).dispatch(e)}),[]),m=_u((()=>(0,Au.bindActionCreators)({publishWhileDragging:Op,updateDroppableScroll:Dp,updateDroppableIsEnabled:Rp,updateDroppableIsCombineEnabled:_p,collectionStarting:Ap},g)),[g]),b=function(){const e=_u(zf,[]);return(0,s.useEffect)((()=>function(){e.clean()}),[e]),e}(),v=_u((()=>pf(b,m)),[b,m]),y=_u((()=>(({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const o=(({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>mf})=>{const r=Hu(e),o=Hu(t);let a=null;const i=e=>{a||Xu();const{shouldUseTimeDampening:t,dragStartTime:i}=a;Df({state:e,scrollWindow:r,scrollDroppable:o,dragStartTime:i,shouldUseTimeDampening:t,getAutoScrollerOptions:n})};return{start:e=>{a&&Xu();const t=Date.now();let r=!1;const o=()=>{r=!0};Df({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:o,scrollDroppable:o,getAutoScrollerOptions:n}),a={dragStartTime:t,shouldUseTimeDampening:r},r&&i(e)},stop:()=>{a&&(r.cancel(),o.cancel(),a=null)},scroll:i}})({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=Rf({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:e=>{r().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&a(e):o.scroll(e))},start:o.start,stop:o.stop}})({scrollWindow:hf,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:d,...(0,Au.bindActionCreators)({move:kp},g)})),[v.scrollDroppable,g,d]),w=function(e){const t=(0,s.useRef)({}),n=(0,s.useRef)(null),r=(0,s.useRef)(null),o=(0,s.useRef)(!1),a=ku((function(e,n){const r={id:e,focus:n};return t.current[e]=r,function(){const n=t.current;n[e]!==r&&delete n[e]}}),[]),i=ku((function(t){const n=function(e,t){const n=`[${kf.contextId}="${e}"]`,r=Nf(document,n);if(!r.length)return null;const o=r.find((e=>e.getAttribute(kf.draggableId)===t));return o&&Vf(o)?o:null}(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=ku((function(e,t){n.current===e&&(n.current=t)}),[]),c=ku((function(){r.current||o.current&&(r.current=requestAnimationFrame((()=>{r.current=null;const e=n.current;e&&i(e)})))}),[i]),u=ku((function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(kf.draggableId)===e&&(n.current=e)}),[]);return Ff((()=>(o.current=!0,function(){o.current=!1;const e=r.current;e&&cancelAnimationFrame(e)})),[]),_u((()=>({register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l})),[a,u,c,l])}(t),E=_u((()=>sf({announce:p,autoScroller:y,dimensionMarshal:v,focusMarshal:w,getResponders:u,styleMarshal:h})),[p,y,v,w,u,h]);i.current=E;const S=ku((()=>{const e=Eh(i);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),C=ku((()=>{const e=Eh(i).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);n(_u((()=>({isDragging:C,tryAbort:S})),[C,S]));const x=ku((e=>ff(Eh(i).getState(),e)),[]),O=ku((()=>lp(Eh(i).getState())),[]),A=_u((()=>({marshal:v,focus:w,contextId:t,canLift:x,isMovementAllowed:O,dragHandleUsageInstructionsId:f,registry:b})),[t,v,f,w,x,O,b]);return wh({contextId:t,store:E,registry:b,customSensors:r||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,s.useEffect)((()=>S),[S]),c().createElement(Wf.Provider,{value:A},c().createElement(Du.Provider,{context:$f,store:E},e.children))}function Ch(e){const t=c().useId(),n=e.dragHandleUsageInstructions||nd;return c().createElement(Ku,null,(r=>c().createElement(Sh,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children)))}const xh=(e,t)=>t?Up.drop(t.duration):e?Up.snap:Up.fluid,Oh=(e,t)=>{if(e)return t?Np:Bp};function Ah(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:o}=e,a=Boolean(r),i=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),s=Boolean(o),l=s?((e,t)=>{const n=Hp(e);if(n)return t?`${n} scale(${Vp})`:n})(n,a):qp(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:xh(i,o),transform:l,opacity:Oh(a,s),zIndex:s?4500:5e3,pointerEvents:"none"}}(e):{transform:qp((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}var Dh=c().createContext(null);function Rh(e){const t=(0,s.useContext)(e);return t||Xu(),t}function _h(e){e.preventDefault()}var kh=(e,t)=>e===t,Ph=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function Th(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Ih={mapped:{type:"SECONDARY",offset:id,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Th(null)}},jh={dropAnimationFinished:()=>({type:"DROP_ANIMATION_FINISHED",payload:null})},Fh=(0,Du.connect)((()=>{const e=function(){const e=Uu(((e,t)=>({x:e,y:t}))),t=Uu(((e,t,n=null,r=null,o=null)=>({isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}))),n=Uu(((e,n,r,o,a=null,i=null,s=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:a,combineWith:i,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,o,a,i,null)}})));return(r,o)=>{if(Yf(r)){if(r.critical.draggable.id!==o.draggableId)return null;const t=r.current.client.offset,i=r.dimensions.draggables[o.draggableId],s=ip(r.impact),l=(a=r.impact).at&&"COMBINE"===a.at.type?a.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,i,o.isClone,s,l,c)}var a;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==o.draggableId)return null;const n=o.isClone,a=r.dimensions.draggables[o.draggableId],i=e.result,s=i.mode,l=Ph(i),c=(e=>e.combine?e.combine.draggableId:null)(i),u={duration:r.dropDuration,curve:Lp,moveTo:r.newHomeClientOffset,opacity:c?Np:null,scale:c?Vp:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:a,dropping:u,draggingOver:l,combineWith:c,mode:s,forceShouldAnimate:null,snapshot:t(s,n,l,c,u)}}}return null}}(),t=function(){const e=Uu(((e,t)=>({x:e,y:t}))),t=Uu(Th),n=Uu(((e,n=null,r)=>({mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}))),r=e=>e?n(id,e,!0):null,o=(t,o,a,i)=>{const s=a.displaced.visible[t],l=Boolean(i.inVirtualList&&i.effected[t]),c=Ad(a),u=c&&c.draggableId===t?o:null;if(!s){if(!l)return r(u);if(a.displaced.invisible[t])return null;const o=ud(i.displacedBy.point),s=e(o.x,o.y);return n(s,u,!0)}if(l)return r(u);const d=a.displacedBy.point,p=e(d.x,d.y);return n(p,u,s.shouldAnimate)};return(e,t)=>{if(Yf(e))return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||Ih}),jh,null,{context:$f,areStatePropsEqual:kh})((e=>{const t=(0,s.useRef)(null),n=ku(((e=null)=>{t.current=e}),[]),r=ku((()=>t.current),[]),{contextId:o,dragHandleUsageInstructionsId:a,registry:i}=Rh(Wf),{type:l,droppableId:u}=Rh(Dh),d=_u((()=>({id:e.draggableId,index:e.index,type:l,droppableId:u})),[e.draggableId,e.index,l,u]),{children:p,draggableId:f,isEnabled:h,shouldRespectForcePress:g,canDragInteractiveElements:m,isClone:b,mapped:v,dropAnimationFinished:y}=e;b||function(e){const t=Gf("draggable"),{descriptor:n,registry:r,getDraggableRef:o,canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:l}=e,c=_u((()=>({canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:l})),[a,l,i]),u=ku((e=>{const t=o();return t||Xu(),function(e,t,n=id){const r=window.getComputedStyle(t),o=t.getBoundingClientRect(),a=Bu(o,r),i=Nu(a,n);return{descriptor:e,placeholder:{client:a,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:a.marginBox.width,y:a.marginBox.height},client:a,page:i}}(n,t,e)}),[n,o]),d=_u((()=>({uniqueId:t,descriptor:n,options:c,getDimension:u})),[n,u,c,t]),p=(0,s.useRef)(d),f=(0,s.useRef)(!0);Ff((()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current))),[r.draggable]),Ff((()=>{if(f.current)return void(f.current=!1);const e=p.current;p.current=d,r.draggable.update(d,e)}),[d,r.draggable])}(_u((()=>({descriptor:d,registry:i,getDraggableRef:r,canDragInteractiveElements:m,shouldRespectForcePress:g,isEnabled:h})),[d,i,r,m,g,h]));const w=_u((()=>h?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:_h}:null),[o,a,f,h]),E=ku((e=>{"DRAGGING"===v.type&&v.dropping&&"transform"===e.propertyName&&(0,Ys.flushSync)(y)}),[y,v]),S=_u((()=>{const e=Ah(v),t="DRAGGING"===v.type&&v.dropping?E:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":f,style:e,onTransitionEnd:t},dragHandleProps:w}}),[o,w,f,v,E,n]),C=_u((()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),[d.droppableId,d.id,d.index,d.type]);return c().createElement(c().Fragment,null,p(S,v.snapshot,C))}));function Mh(e){return Rh(Dh).isUsingCloneFor!==e.draggableId||e.isClone?c().createElement(Fh,e):null}function Lh(e){const t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return c().createElement(Mh,(0,qu.A)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const Nh=e=>t=>e===t,Bh=Nh("scroll"),Vh=Nh("auto"),zh=(Nh("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),$h=e=>null==e||e===document.body||e===document.documentElement?null:(e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return zh(n,Bh)||zh(n,Vh)})(e)?e:$h(e.parentElement);var Uh=e=>({x:e.scrollLeft,y:e.scrollTop});const Hh=e=>!!e&&("fixed"===window.getComputedStyle(e).position||Hh(e.parentElement));const qh={passive:!1},Gh={passive:!0};var Wh=e=>e.shouldPublishImmediately?qh:Gh;const Qh=e=>e&&e.env.closestScrollable||null;function Yh(e){const t=(0,s.useRef)(null),n=Rh(Wf),r=Gf("droppable"),{registry:o,marshal:a}=n,i=Qf(e),l=_u((()=>({id:e.droppableId,type:e.type,mode:e.mode})),[e.droppableId,e.mode,e.type]),c=(0,s.useRef)(l),u=_u((()=>Uu(((e,n)=>{t.current||Xu();const r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))),[l.id,a]),d=ku((()=>{const e=t.current;return e&&e.env.closestScrollable?Uh(e.env.closestScrollable):id}),[]),p=ku((()=>{const e=d();u(e.x,e.y)}),[d,u]),f=_u((()=>Hu(p)),[p]),h=ku((()=>{const e=t.current,n=Qh(e);e&&n||Xu(),e.scrollOptions.shouldPublishImmediately?p():f()}),[f,p]),g=ku(((e,r)=>{t.current&&Xu();const o=i.current,a=o.getDroppableRef();a||Xu();const s=(e=>({closestScrollable:$h(e),isFixedOnPage:Hh(e)}))(a),c={ref:a,descriptor:l,env:s,scrollOptions:r};t.current=c;const u=(({ref:e,descriptor:t,env:n,windowScroll:r,direction:o,isDropDisabled:a,isCombineEnabled:i,shouldClipSubject:s})=>{const l=n.closestScrollable,c=((e,t)=>{const n=Vu(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,i=o+t.scrollWidth,s=Tu({top:r,right:i,bottom:a,left:o},n.border);return Fu({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})})(e,l),u=Nu(c,r),d=(()=>{if(!l)return null;const e=Vu(l),t={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:e,page:Nu(e,r),scroll:Uh(l),scrollSize:t,shouldClipSubject:s}})(),p=(({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:o,client:a,page:i,closest:s})=>{const l=(()=>{if(!s)return null;const{scrollSize:e,client:t}=s,n=lf({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:n,diff:{value:id,displacement:id}}}})(),c="vertical"===o?Fd:Md;return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:a,page:i,frame:l,subject:vd({page:i,withPlaceholder:null,axis:c,frame:l})}})({descriptor:t,isEnabled:!a,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:o,client:c,page:u,closest:d});return p})({ref:a,descriptor:l,env:s,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),d=s.closestScrollable;return d&&(d.setAttribute(If.contextId,n.contextId),d.addEventListener("scroll",h,Wh(c.scrollOptions))),u}),[n.contextId,l,h,i]),m=ku((()=>{const e=t.current,n=Qh(e);return e&&n||Xu(),Uh(n)}),[]),b=ku((()=>{const e=t.current;e||Xu();const n=Qh(e);t.current=null,n&&(f.cancel(),n.removeAttribute(If.contextId),n.removeEventListener("scroll",h,Wh(e.scrollOptions)))}),[h,f]),v=ku((e=>{const n=t.current;n||Xu();const r=Qh(n);r||Xu(),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),y=_u((()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:b,scroll:v})),[b,g,m,v]),w=_u((()=>({uniqueId:r,descriptor:l,callbacks:y})),[y,l,r]);Ff((()=>(c.current=w.descriptor,o.droppable.register(w),()=>{t.current&&b(),o.droppable.unregister(w)})),[y,l,b,w,a,o.droppable]),Ff((()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),Ff((()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}function Xh(){}const Kh={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}};var Zh=c().memo((e=>{const t=(0,s.useRef)(null),n=ku((()=>{t.current&&(clearTimeout(t.current),t.current=null)}),[]),{animate:r,onTransitionEnd:o,onClose:a,contextId:i}=e,[l,u]=(0,s.useState)("open"===e.animate);(0,s.useEffect)((()=>l?"open"!==r?(n(),u(!1),Xh):t.current?Xh:(t.current=setTimeout((()=>{t.current=null,u(!1)})),n):Xh),[r,l,n]);const d=ku((e=>{"height"===e.propertyName&&(o(),"close"===r&&a())}),[r,a,o]),p=(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||"close"===n?Kh:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin})({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?Up.placeholder:null}})({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return c().createElement(e.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":i,onTransitionEnd:d,ref:e.innerRef})}));class Jh extends c().PureComponent{constructor(...e){super(...e),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const eg={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Xu(),document.body}},tg=e=>{let t,n={...e};for(t in eg)void 0===e[t]&&(n={...n,[t]:eg[t]});return n},ng=(e,t)=>e===t.droppable.type,rg=(e,t)=>t.draggables[e.draggable.id],og=(0,Du.connect)((()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Uu((e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}))),r=Uu(((r,o,a,i,s,l)=>{const c=s.descriptor.id;if(s.descriptor.droppableId===r){const e=l?{render:l,dragging:n(s.descriptor)}:null,t={isDraggingOver:a,draggingOverWith:a?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!o)return t;if(!i)return e;const u={isDraggingOver:a,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:u,useClone:null}}));return(n,o)=>{const a=tg(o),i=a.droppableId,s=a.type,l=!a.isDropDisabled,c=a.renderClone;if(Yf(n)){const e=n.critical;if(!ng(s,e))return t;const o=rg(e,n.dimensions),a=ip(n.impact)===i;return r(i,l,a,a,o,c)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!ng(s,e.critical))return t;const o=rg(e.critical,n.dimensions);return r(i,l,Ph(e.result)===i,ip(e.impact)===i,o,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!ng(s,r.critical))return t;const o=ip(r.impact)===i,a=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),l=r.critical.droppable.id===i;return o?a?e:t:l?e:t}return t}}),{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},((e,t,n)=>({...tg(n),...e,...t})),{context:$f,areStatePropsEqual:kh})((e=>{const t=(0,s.useContext)(Wf);t||Xu();const{contextId:n,isMovementAllowed:r}=t,o=(0,s.useRef)(null),a=(0,s.useRef)(null),{children:i,droppableId:l,type:u,mode:d,direction:p,ignoreContainerClipping:f,isDropDisabled:h,isCombineEnabled:g,snapshot:m,useClone:b,updateViewportMaxScroll:v,getContainerForClone:y}=e,w=ku((()=>o.current),[]),E=ku(((e=null)=>{o.current=e}),[]),S=(ku((()=>a.current),[]),ku(((e=null)=>{a.current=e}),[])),C=ku((()=>{r()&&v({maxScroll:uf()})}),[r,v]);Yh({droppableId:l,type:u,mode:d,direction:p,isDropDisabled:h,isCombineEnabled:g,ignoreContainerClipping:f,getDroppableRef:w});const x=_u((()=>c().createElement(Jh,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(({onClose:e,data:t,animate:r})=>c().createElement(Zh,{placeholder:t,onClose:e,innerRef:S,animate:r,contextId:n,onTransitionEnd:C})))),[n,C,e.placeholder,e.shouldAnimatePlaceholder,S]),O=_u((()=>({innerRef:E,placeholder:x,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}})),[n,l,x,E]),A=b?b.dragging.draggableId:null,D=_u((()=>({droppableId:l,type:u,isUsingCloneFor:A})),[l,A,u]);return c().createElement(Dh.Provider,{value:D},i(O,m),function(){if(!b)return null;const{dragging:e,render:t}=b,n=c().createElement(Mh,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},((n,r)=>t(n,r,e)));return Xs().createPortal(n,y())}())}));var ag=og;const ig=e=>({colorPickerContainer:X.css`
      align-items: center;
    `,colorPickerButtons:X.css`
      display: flex;
      justify-content: flex-start;
      align-items: center;
      gap: ${e.spacing(1)};
      padding: ${e.spacing(0,1)};
      min-height: ${e.spacing(4)};
    `});function sg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){sg(e,t,n[t])}))}return e}const cg=H.colorEditor,ug=e=>{var{onChange:t,value:n}=e,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["onChange","value"]);const o=(0,a.useStyles2)(ig);return c().createElement("div",{className:o.colorPickerButtons},c().createElement(a.ColorPicker,lg({color:n||"transparent",onChange:e=>{t(e)}},r["data-testid"]?{"data-testid":r["data-testid"]}:cg.fieldValue.apply())),n&&c().createElement(a.IconButton,lg({name:"times",size:"md",variant:"secondary",tooltip:"Clear",onClick:()=>t(void 0)},cg.buttonClear.apply())))};function dg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dg(e,t,n[t])}))}return e}function fg(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const hg=[{value:_.AUTO,label:"Auto"},{value:_.BOOLEAN,label:"Boolean"},{value:_.COLORED_BACKGROUND,label:"Colored background",description:"Uses defined thresholds"},{value:_.COLORED_TEXT,label:"Colored text",description:"Uses defined thresholds"},{value:_.IMAGE,label:"Image",description:"Base64 encoded data and URL"},{value:_.NESTED_OBJECTS,label:"Nested objects",description:"Column value should be an array of object ids"},{value:_.PREFORMATTED,label:"Preformatted",description:"Text preserves both spaces and line breaks"},{value:_.RICH_TEXT,label:"Rich text",description:"HTML / Markdown"}],gg=[{value:k.COUNT,label:"Count"},{value:k.EXTENT,label:"Extent"},{value:k.MAX,label:"Max"},{value:k.MEAN,label:"Mean"},{value:k.MEDIAN,label:"Median"},{value:k.MIN,label:"Min"},{value:k.NONE,label:"None"},{value:k.SUM,label:"Sum"},{value:k.UNIQUE,label:"Unique"},{value:k.UNIQUE_COUNT,label:"Unique Count"}],mg=[{value:F.CLIENT,label:"Client"},{value:F.QUERY,label:"Query"}],bg=[{value:A.LEFT,label:"",icon:"align-left",description:"Pinned to the left",ariaLabel:H.columnEditor.pinDirectionOption.selector(A.LEFT)},{value:A.NONE,label:"None",ariaLabel:H.columnEditor.pinDirectionOption.selector(A.NONE)},{value:A.RIGHT,label:"",icon:"align-right",description:"Pinned to the right",ariaLabel:H.columnEditor.pinDirectionOption.selector(A.RIGHT)}],vg=[{value:!1,label:"A-Z",icon:"sort-amount-up",description:"Ascending order",ariaLabel:H.columnEditor.sortDirectionOption.selector("asc")},{value:!0,label:"Z-A",icon:"sort-amount-down",description:"Descending order",ariaLabel:H.columnEditor.sortDirectionOption.selector("desc")}],yg=[{value:L.AUTO,label:"Auto"},{value:L.CRISP_EDGES,label:"Crisp Edges",description:"The image is scaled with an algorithm that preserves contrast and edges in the image. Generally intended for images such as pixel art or line drawings, no blurring or color smoothing occurs."},{value:L.PIXELATED,label:"Pixelated",description:'The image is scaled with the "nearest neighbor" or similar algorithm, preserving a "pixelated" look as the image changes in size.'}],wg=({value:e,onChange:t,data:n,isAggregationAvailable:r,showTableHeader:o})=>{const l=(0,s.useMemo)((()=>vt(n,e.field)),[n,e.field]),u=(0,s.useMemo)((()=>e.filter.enabled&&e.filter.mode===F.QUERY?(0,Ct.getTemplateSrv)().getVariables().map((e=>{const t=Tn(e);return{label:e.label||e.name,value:e.name,description:0===t.length?"Not supported variable type":"",isDisabled:0===t.length}})):[]),[e.filter.enabled,e.filter.mode]),{nestedObjects:d}=Jn.useContext(),p=(0,s.useMemo)((()=>d.map((e=>({value:e.id,label:e.name})))),[d]);var f,h,g;return c().createElement(c().Fragment,null,c().createElement(xc,{label:"Format"},c().createElement(a.InlineField,{label:"Type",grow:!0},c().createElement(a.Select,pg({options:hg,value:e.type,onChange:n=>{t(((e,t)=>t===_.NESTED_OBJECTS?ee(J({},e),{type:t,filter:ee(J({},e.filter),{enabled:!1}),group:!1,footer:[],edit:ee(J({},e.edit),{enabled:!1})}):ee(J({},e),{type:t}))(e,n.value))}},H.columnEditor.fieldType.apply()))),e.type===_.COLORED_BACKGROUND&&c().createElement(a.InlineField,{label:"Apply to Row",grow:!0},c().createElement(a.InlineSwitch,pg({value:e.appearance.background.applyToRow,onChange:n=>t(fg(pg({},e),{appearance:fg(pg({},e.appearance),{background:fg(pg({},e.appearance.background),{applyToRow:n.currentTarget.checked})})}))},H.columnEditor.fieldAppearanceBackgroundApplyToRow.apply()))),e.type===_.NESTED_OBJECTS&&c().createElement(a.InlineField,{label:"Object",grow:!0},c().createElement(a.Select,pg({onChange:n=>{var r;t(fg(pg({},e),{objectId:null!==(r=null==n?void 0:n.value)&&void 0!==r?r:""}))},value:e.objectId,options:p,isClearable:!0,isSearchable:!0},H.columnEditor.fieldObjectId.apply()))),e.type===_.PREFORMATTED&&c().createElement(a.InlineField,{label:"Preformatted style",grow:!0},c().createElement(a.InlineSwitch,pg({value:e.preformattedStyle,onChange:n=>t(fg(pg({},e),{preformattedStyle:n.currentTarget.checked}))},H.columnEditor.fieldPreformattedStyles.apply()))),e.type===_.IMAGE&&c().createElement(a.InlineField,{label:"Scale Algorithm",grow:!0},c().createElement(a.Select,pg({options:yg,value:e.scale,onChange:n=>{t(fg(pg({},e),{scale:n.value}))}},H.columnEditor.fieldScale.apply())))),o&&c().createElement(xc,{label:"Header"},c().createElement(a.InlineField,{label:"Label",grow:!0},c().createElement(a.Input,pg({value:e.label,placeholder:null!==(f=null==l?void 0:l.config.displayName)&&void 0!==f?f:null==l?void 0:l.name,onChange:n=>t(fg(pg({},e),{label:n.currentTarget.value}))},H.columnEditor.fieldLabel.apply()))),c().createElement(a.InlineFieldRow,null,c().createElement(a.InlineField,{label:"Font"},c().createElement(ug,pg({value:e.appearance.header.fontColor,onChange:n=>{t(fg(pg({},e),{appearance:fg(pg({},e.appearance),{header:re(fg(pg({},e.appearance.header),{fontColor:n}))})}))}},H.columnEditor.fieldHeaderFontColor.apply()))),c().createElement(a.InlineField,{label:"Background"},c().createElement(ug,pg({value:e.appearance.header.backgroundColor,onChange:n=>{t(fg(pg({},e),{appearance:fg(pg({},e.appearance),{header:re(fg(pg({},e.appearance.header),{backgroundColor:n}))})}))}},H.columnEditor.fieldHeaderBackgroundColor.apply()))),c().createElement(a.InlineField,pg({label:"Size"},H.columnEditor.fieldHeaderFontSize.apply()),c().createElement(a.RadioButtonGroup,{value:e.appearance.header.fontSize,onChange:n=>t(fg(pg({},e),{appearance:fg(pg({},e.appearance),{header:fg(pg({},e.appearance.header),{fontSize:n})})})),options:[{value:j.LG,label:"lg",ariaLabel:H.columnEditor.fieldHeaderFontSizeOption.selector(j.LG)},{value:j.MD,label:"md",ariaLabel:H.columnEditor.fieldHeaderFontSizeOption.selector(j.MD)},{value:j.SM,label:"sm",ariaLabel:H.columnEditor.fieldHeaderFontSizeOption.selector(j.SM)},{value:j.XS,label:"xs",ariaLabel:H.columnEditor.fieldHeaderFontSizeOption.selector(j.XS)}]})))),c().createElement(xc,{label:"Width"},c().createElement(a.InlineFieldRow,null,c().createElement(a.InlineField,{label:"Auto"},c().createElement(a.InlineSwitch,pg({value:e.appearance.width.auto,onChange:n=>t(fg(pg({},e),{appearance:fg(pg({},e.appearance),{width:fg(pg({},e.appearance.width),{auto:n.currentTarget.checked})})}))},H.columnEditor.fieldAppearanceWidthAuto.apply()))),e.appearance.width.auto?c().createElement(c().Fragment,null,c().createElement(a.InlineField,{label:"Min"},c().createElement(i.Q7,pg({value:null!==(h=e.appearance.width.min)&&void 0!==h?h:0,onChange:n=>{t(fg(pg({},e),{appearance:fg(pg({},e.appearance),{width:fg(pg({},e.appearance.width),{min:n})})}))}},H.columnEditor.fieldAppearanceWidthMin.apply()))),c().createElement(a.InlineField,{label:"Max"},c().createElement(i.Q7,pg({value:null!==(g=e.appearance.width.max)&&void 0!==g?g:0,placeholder:"Auto",onChange:n=>{t(fg(pg({},e),{appearance:fg(pg({},e.appearance),{width:fg(pg({},e.appearance.width),{max:n||void 0})})}))}},H.columnEditor.fieldAppearanceWidthMax.apply())))):c().createElement(a.InlineField,{label:"Size"},c().createElement(i.Q7,pg({value:e.appearance.width.value,placeholder:"Auto",onChange:n=>{t(fg(pg({},e),{appearance:fg(pg({},e.appearance),{width:fg(pg({},e.appearance.width),{value:n})})}))}},H.columnEditor.fieldAppearanceWidthValue.apply()))))),e.type!==_.NESTED_OBJECTS&&c().createElement(xc,{label:"Text"},c().createElement(a.InlineFieldRow,null,c().createElement(a.InlineField,{label:"Wrap"},c().createElement(a.InlineSwitch,pg({value:e.appearance.wrap,onChange:n=>t(fg(pg({},e),{appearance:fg(pg({},e.appearance),{wrap:n.currentTarget.checked})}))},H.columnEditor.fieldAppearanceWrap.apply()))),c().createElement(a.InlineField,pg({label:"Alignment"},H.columnEditor.fieldAppearanceAlignment.apply()),c().createElement(a.RadioButtonGroup,{value:e.appearance.alignment,onChange:n=>t(fg(pg({},e),{appearance:fg(pg({},e.appearance),{alignment:n})})),options:[{value:I.START,icon:"align-left",description:"Start",ariaLabel:H.columnEditor.fieldAppearanceAlignmentOption.selector(I.START)},{value:I.CENTER,icon:"bars",description:"Center",ariaLabel:H.columnEditor.fieldAppearanceAlignmentOption.selector(I.CENTER)},{value:I.END,icon:"align-right",description:"End",ariaLabel:H.columnEditor.fieldAppearanceAlignmentOption.selector(I.END)}]})))),c().createElement(xc,{label:"Position"},c().createElement(a.InlineField,pg({label:"Pin",grow:!0},H.columnEditor.fieldPinDirection.apply()),c().createElement(a.RadioButtonGroup,{value:e.pin,onChange:n=>t(fg(pg({},e),{pin:n})),options:bg}))),c().createElement(xc,{label:"Data Settings"},c().createElement(a.InlineFieldRow,null,e.type!==_.NESTED_OBJECTS&&c().createElement(a.InlineField,{label:"Group",grow:!0},c().createElement(a.InlineSwitch,pg({value:e.group,onChange:n=>t(fg(pg({},e),{group:n.currentTarget.checked}))},H.columnEditor.fieldGroup.apply()))),e.type!==_.NESTED_OBJECTS&&o&&c().createElement(a.InlineField,{label:"Filter",grow:!0},c().createElement(a.InlineSwitch,pg({value:e.filter.enabled,onChange:n=>t(fg(pg({},e),{filter:fg(pg({},e.filter),{enabled:n.currentTarget.checked})}))},H.columnEditor.fieldFilterEnabled.apply()))),o&&c().createElement(a.InlineField,{label:"Sort",grow:!0},c().createElement(a.InlineSwitch,pg({value:e.sort.enabled,onChange:n=>t(fg(pg({},e),{sort:fg(pg({},e.sort),{enabled:n.currentTarget.checked})}))},H.columnEditor.fieldSortEnabled.apply())))),!e.group&&r&&c().createElement(a.InlineField,{label:"Aggregation",grow:!0},c().createElement(a.Select,pg({value:e.aggregation,options:gg,onChange:n=>{t(fg(pg({},e),{aggregation:n.value}))}},H.columnEditor.fieldAggregation.apply())))),e.sort.enabled&&o&&c().createElement(xc,{label:"Sort"},c().createElement(a.InlineField,pg({label:"Direction",grow:!0},H.columnEditor.fieldSortDirection.apply()),c().createElement(a.RadioButtonGroup,{value:e.sort.descFirst,onChange:n=>t(fg(pg({},e),{sort:fg(pg({},e.sort),{descFirst:n})})),options:vg}))),e.filter.enabled&&o&&c().createElement(xc,{label:"Filter"},c().createElement(a.InlineFieldRow,null,c().createElement(a.InlineField,{label:"Mode"},c().createElement(a.Select,pg({value:e.filter.mode,onChange:n=>{t(fg(pg({},e),{filter:fg(pg({},e.filter),{mode:n.value})}))},options:mg},H.columnEditor.fieldFilterMode.apply()))),e.filter.mode===F.QUERY&&c().createElement(a.InlineField,{label:"Variable",grow:!0},c().createElement(a.Select,pg({value:e.filter.variable,options:u,onChange:n=>{t(fg(pg({},e),{filter:fg(pg({},e.filter),{variable:n.value})}))},isClearable:!0},H.columnEditor.fieldFilterVariable.apply()))))),e.type!==_.NESTED_OBJECTS&&c().createElement(xc,{label:"Footer"},c().createElement(a.InlineField,{label:"Show",grow:!0},c().createElement(a.StatsPicker,{stats:e.footer,onChange:n=>{t(fg(pg({},e),{footer:n}))}}))))};function Eg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Eg(e,t,n[t])}))}return e}function Cg(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const xg=H.columnsEditor,Og=({value:e,name:t,onChange:n,data:r,showTableHeader:o})=>{const l=(y=(0,a.useTheme2)(),{header:X.css`
      padding: ${y.spacing(.5,.5)};
      border-radius: ${null===(w=y.shape.radius)||void 0===w?void 0:w.default};
      background: ${y.colors.background.secondary};
      min-height: ${y.spacing(4)};
      display: grid;
      grid-template-columns: minmax(100px, max-content) min-content;
      align-items: center;
      justify-content: space-between;
      white-space: nowrap;

      &:focus {
        outline: none;
      }
    `,column:X.css`
      display: flex;
      align-items: center;
    `,dragHandle:X.css`
      display: flex;
      margin: ${y.spacing(0,.5)};
    `,dragIcon:X.css`
      cursor: grab;
      color: ${y.colors.text.disabled};
      &:hover {
        color: ${y.colors.text};
      }
    `,collapseIcon:X.css`
      margin-left: ${y.spacing(.5)};
      color: ${y.colors.text.disabled};
    `,item:X.css`
      margin-bottom: ${y.spacing(1)};
    `}),[u,d]=(0,s.useState)(null),[p,f]=(0,s.useState)({}),h=(0,s.useCallback)((e=>{n(e)}),[n]),g=(0,s.useCallback)((t=>{t.destination&&h(mt(e,t.source.index,t.destination.index))}),[e,h]),m=(0,s.useCallback)((()=>{u&&(h([...e,{enabled:!0,field:{name:u.name,source:u.source},label:"",type:_.AUTO,group:!1,preformattedStyle:!1,scale:L.AUTO,aggregation:k.NONE,filter:{enabled:!1,mode:F.CLIENT,variable:""},sort:{descFirst:!1,enabled:!1},appearance:N,footer:[],edit:z,newRowEdit:$,pin:A.NONE,objectId:""}]),d(null))}),[e,u,h]),b=(0,s.useMemo)((()=>e.some((e=>e.group))),[e]),v=(0,s.useMemo)((()=>e.map((e=>e.field))),[e]);var y,w;return c().createElement("div",xg.root.apply(),c().createElement(Ch,{onDragEnd:g},c().createElement(ag,{droppableId:t},(t=>c().createElement("div",Cg(Sg({},t.droppableProps),{ref:t.innerRef}),e.map(((t,n)=>c().createElement(Lh,{key:gt(t.field),draggableId:gt(t.field),index:n},((n,s)=>{return c().createElement("div",Cg(Sg({ref:n.innerRef},n.draggableProps),{style:(s.isDragging,u=n.draggableProps.style,Sg({},u)),className:l.item}),c().createElement(i.SD,{headerTestId:xg.itemHeader.selector(gt(t.field)),contentTestId:xg.itemContent.selector(gt(t.field)),fill:"solid",title:c().createElement(Sc,null,t.field.name,t.group&&c().createElement(a.Tag,{name:"Group"}),t.edit.enabled&&c().createElement(a.Tag,{name:"Editable"}),t.pin===A.LEFT&&c().createElement(a.Tag,{name:"Pinned: Left"}),t.pin===A.RIGHT&&c().createElement(a.Tag,{name:"Pinned: Right"}),t.filter.enabled&&c().createElement(a.Tag,{name:"Filterable"}),t.sort.enabled&&c().createElement(a.Tag,{name:"Sortable"})),actions:c().createElement(c().Fragment,null,c().createElement(a.IconButton,Sg({name:t.enabled?"eye":"eye-slash","aria-label":t.enabled?"Hide":"Show",onClick:()=>{h(e.map((e=>gt(e.field)===gt(t.field)?Cg(Sg({},t),{enabled:!t.enabled}):e)))},tooltip:t.enabled?"Hide":"Show"},xg.buttonToggleVisibility.apply())),c().createElement(a.IconButton,Sg({name:"trash-alt",onClick:()=>h(e.filter((e=>gt(e.field)!==gt(t.field)))),"aria-label":"Remove"},xg.buttonRemove.apply())),c().createElement("div",Sg({className:l.dragHandle},n.dragHandleProps),c().createElement(a.Icon,{title:"Drag and drop to reorder",name:"draggabledots",size:"lg",className:l.dragIcon}))),isOpen:p[gt(t.field)],onToggle:e=>f(Cg(Sg({},p),{[gt(t.field)]:e}))},c().createElement(wg,{showTableHeader:o,value:t,onChange:t=>{h(e.map((e=>gt(e.field)===gt(t.field)?t:e)))},data:r,isAggregationAvailable:b})));var u})))),t.placeholder)))),c().createElement(a.InlineFieldRow,xg.newItem.apply(),c().createElement(a.InlineField,{htmlFor:"config-new-column",label:"New Column",grow:!0},c().createElement(co,Sg({value:u||void 0,onChange:e=>{d(null!=e?e:null)},data:r,alreadySelectedFields:v},xg.newItemName.apply()))),c().createElement(a.Button,Sg({icon:"plus",title:"Add Column",disabled:!u,onClick:m},xg.buttonAddNew.apply()),"Add")))};function Ag(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ag(e,t,n[t])}))}return e}function Rg(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const _g=({value:e,onChange:t,data:n})=>c().createElement(c().Fragment,null,c().createElement(a.InlineFieldRow,null,c().createElement(a.InlineField,{label:"Show header"},c().createElement(a.InlineSwitch,Dg({value:e.showHeader,onChange:n=>t(Rg(Dg({},e),{showHeader:n.currentTarget.checked}))},H.tableEditor.fieldShowHeader.apply()))),c().createElement(a.InlineField,{label:"Expanded by default",tooltip:"Makes all rows expanded or collapsed by default",grow:!0},c().createElement(a.InlineSwitch,Dg({value:e.expanded,onChange:n=>t(Rg(Dg({},e),{expanded:n.currentTarget.checked}))},H.tableEditor.fieldExpanded.apply())))),c().createElement(Og,{showTableHeader:e.showHeader,name:e.name,value:e.items,data:n,onChange:n=>{t(Rg(Dg({},e),{items:n}))}}));function kg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){kg(e,t,n[t])}))}return e}function Tg(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Ig=H.tablesEditor,jg=({context:{options:e,data:t},onChange:n})=>{const r=(R=(0,a.useTheme2)(),{newItem:X.css`
      margin: ${R.spacing(2)} 0;
    `,item:X.css`
      margin-bottom: ${R.spacing(1)};
    `,itemHeader:X.css`
      min-height: ${R.spacing(4)};
      padding: ${R.spacing(.5)};
    `,itemHeaderForm:X.css`
      display: flex;
      align-items: center;
      gap: ${R.spacing(.5)};
    `,itemHeaderText:X.css`
      overflow: hidden;
      text-overflow: ellipsis;
      line-height: ${R.spacing(4)};
    `,fieldName:X.css`
      margin: 0;
    `,dragHandle:X.css`
      display: flex;
      margin: ${R.spacing(0,.5)};
    `,dragIcon:X.css`
      cursor: grab;
      color: ${R.colors.text.disabled};
      &:hover {
        color: ${R.colors.text};
      }
    `,actionButton:X.css`
      color: ${R.colors.text.secondary};
    `}),[o,l]=(0,s.useState)((null==e?void 0:e.tables)||[]),[u,d]=(0,s.useState)(""),[p,f]=(0,s.useState)({}),[h,g]=(0,s.useState)(""),[m,b]=(0,s.useState)(""),v=(0,s.useCallback)((e=>{l(e),n(e)}),[n]),y=(0,s.useCallback)((e=>{e.destination&&v(mt(o,e.source.index,e.destination.index))}),[o,v]),w=(0,s.useCallback)((e=>{f((t=>Tg(Pg({},t),{[e]:!t[e]})))}),[]),E=(0,s.useCallback)((()=>{d(""),v(o.concat([{expanded:!1,name:u,showHeader:!0,items:[],update:B,pagination:{enabled:!1,mode:D.CLIENT,defaultPageSize:G[0]},addRow:{enabled:!1,request:B,permission:V},deleteRow:{enabled:!1,request:B,permission:V}}])),w(u)}),[o,u,v,w]),S=(0,s.useCallback)((e=>{v(o.map((t=>t.name===e.name?e:t)))}),[o,v]),C=(0,s.useMemo)((()=>o.some((e=>e.name===u))),[o,u]),x=(0,s.useCallback)((()=>{g(""),b(""),f((e=>Tg(Pg({},e),{[h]:!!e[h]&&h===m,[m]:e[h]})))}),[h,m]),O=(0,s.useMemo)((()=>!(!m.trim()||h!==m&&o.some((e=>e.name===m)))),[h,m,o]),A=(0,s.useCallback)((()=>{v(o.map((e=>e.name===h?Tg(Pg({},e),{name:m}):e))),x()}),[o,v,x,h,m]);var R;return c().createElement(Jn.Provider,{value:{nestedObjects:(null==e?void 0:e.nestedObjects)||[]}},o.length>0?c().createElement(Ch,{onDragEnd:y},c().createElement(ag,{droppableId:"tables-editor"},(e=>c().createElement("div",Tg(Pg({},e.droppableProps),{ref:e.innerRef}),o.map(((e,n)=>c().createElement(Lh,{key:e.name,draggableId:e.name,index:n},((n,s)=>{return c().createElement("div",Pg(Tg(Pg({ref:n.innerRef},n.draggableProps),{style:(s.isDragging,l=n.draggableProps.style,Pg({},l)),className:r.item}),Ig.item.apply(e.name)),c().createElement(i.SD,{key:e.name,title:h===e.name?c().createElement("div",{className:(0,X.cx)(r.itemHeader,r.itemHeaderForm),onClick:e=>e.stopPropagation()},c().createElement(a.InlineField,{className:r.fieldName,invalid:!O},c().createElement(a.Input,Pg({autoFocus:!0,value:m,onChange:e=>b(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&O&&A(),"Escape"===e.key&&x()}},Ig.fieldName.apply()))),c().createElement(a.Button,Pg({variant:"secondary",fill:"text",className:r.actionButton,icon:"times",size:"sm",onClick:x},Ig.buttonCancelRename.apply())),c().createElement(a.Button,Pg({variant:"secondary",fill:"text",className:r.actionButton,icon:"save",size:"sm",onClick:A,disabled:!O,tooltip:O?"":"Name is empty or table with the same name already exists."},Ig.buttonSaveRename.apply()))):c().createElement("div",{className:(0,X.cx)(r.itemHeader,r.itemHeaderText)},e.name),headerTestId:Ig.itemHeader.selector(e.name),contentTestId:Ig.itemContent.selector(e.name),actions:c().createElement(c().Fragment,null,h!==e.name&&c().createElement(a.Button,Pg({icon:"edit",variant:"secondary",fill:"text",size:"sm",className:r.actionButton,onClick:()=>{b(e.name),g(e.name)}},Ig.buttonStartRename.apply())),c().createElement(a.Button,Pg({icon:"trash-alt",variant:"secondary",fill:"text",size:"sm",className:r.actionButton,onClick:()=>{v(o.filter((t=>t.name!==e.name)))}},Ig.buttonRemove.apply())),c().createElement("div",Pg({className:r.dragHandle},n.dragHandleProps),c().createElement(a.Icon,{name:"draggabledots",className:r.dragIcon}))),isOpen:p[e.name],onToggle:()=>w(e.name)},c().createElement(_g,{value:e,onChange:S,data:t})));var l})))),e.placeholder)))):c().createElement(a.Alert,Pg({severity:"info",title:"No Tables"},Ig.noItemsMessage.apply()),"Please add at least one table to proceed."),c().createElement(a.InlineFieldRow,Pg({className:r.newItem},Ig.newItem.apply()),c().createElement(a.InlineField,{label:"New Table",grow:!0,invalid:C,error:"Table with the same name already exists."},c().createElement(a.Input,Pg({placeholder:"Unique name",value:u,onChange:e=>d(e.currentTarget.value.trim())},Ig.newItemName.apply()))),c().createElement(a.Button,Pg({icon:"plus",title:"Add Table",disabled:!u||C,onClick:E},Ig.buttonAddNew.apply()),"Add")))};function Fg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Mg=({renderValue:e,column:t,bgColor:n})=>{const r=(0,a.useTheme2)();if(!t.columnDef.meta)return null;const{config:o,field:i}=t.columnDef.meta,s=e();if(i.display&&q.includes(o.aggregation)){const e=i.display(s);let t="inherit";return e.color&&(t=e.color),c().createElement("span",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Fg(e,t,n[t])}))}return e}({style:{color:o.type===_.COLORED_TEXT?t:n?r.colors.getContrastText(n):"inherit"}},H.aggregatedCellRenderer.root.apply()),c().createElement(a.FormattedValueDisplay,{value:e}))}return c().createElement("span",H.aggregatedCellRenderer.root.apply(),s)};function Lg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ng=({value:e,bgColor:t})=>{const n=(0,a.useTheme2)(),r=(0,s.useMemo)((()=>(e=>"boolean"==typeof e?e:"string"==typeof e&&(e=>{switch(e){case"true":case"yes":case"1":return!0;default:return!1}})(e))(e)),[e]);return c().createElement(a.Icon,(o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Lg(e,t,n[t])}))}return e}({},H.booleanCellRenderer.root.apply()),i=null!=(i={name:r?"check-circle":"circle",size:"lg",style:{color:t?n.colors.getContrastText(t):"inherit"}})?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(i)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})),o));var o,i};function Bg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Vg=({field:e,value:t,config:n,bgColor:r})=>{const o=(0,a.useTheme2)();let i=t,s="inherit";if(e.display){const n=e.display(t);n.color&&(s=n.color),i=c().createElement(a.FormattedValueDisplay,{value:n})}return c().createElement("span",(l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Bg(e,t,n[t])}))}return e}({},H.defaultCellRenderer.root.apply()),u=null!=(u={style:{color:n.type===_.COLORED_TEXT?s:r?o.colors.getContrastText(r):"inherit"}})?u:{},Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(u)).forEach((function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(u,e))})),l),i);var l,u},zg=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder&&new TextEncoder,Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="));(e=>{let t={};e.forEach(((e,n)=>t[e]=n))})(zg),String.fromCharCode.bind(String),"function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array);function $g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ug=({value:e,column:t})=>{var n;let r=e;if(e&&(e=>{if("string"!=typeof e)return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)})(e)){const t=e.match(Q);if(!(null==t?void 0:t.length)){const t=Y[e.charAt(0)];r=t?`data:${t};base64,${r}`:`data:;base64,${r}`}}return c().createElement("img",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$g(e,t,n[t])}))}return e}({src:r,alt:"",style:{maxWidth:"100%",minWidth:t.columnDef.minSize,width:"auto",imageRendering:null===(n=t.columnDef.meta)||void 0===n?void 0:n.scale}},H.imageCellRenderer.root.apply()))};function Hg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qg=({value:e,row:t})=>{const n={row:{value:t.original}},r=new ys({html:!0}),{replaceVariables:a}=tr.useContext();return c().createElement("div",(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Hg(e,t,n[t])}))}return e}({},H.layoutCellRenderer.root.apply()),s=null!=(s={dangerouslySetInnerHTML:{__html:o.textUtil.sanitize(r.render(a(e,n)))}})?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(s)).forEach((function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(s,e))})),i));var i,s};function Gg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Wg=({field:e,value:t,config:n,bgColor:r})=>{const o=(0,a.useTheme2)(),i=(e=>({default:X.css`
      padding: ${e.spacing(0)};
      margin: ${e.spacing(0)};
      border: none;
      font-family: inherit;
      font-size: inherit;
    `,preformatted:X.css`
      width: 100%;
      border: none;
    `}))(o);let s=t;if(e.display){const n=e.display(t);s=c().createElement(a.FormattedValueDisplay,{value:n})}return c().createElement("pre",{className:n.preformattedStyle?i.preformatted:i.default},c().createElement("span",(l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Gg(e,t,n[t])}))}return e}({},H.preformattedCellRenderer.root.apply()),u=null!=(u={style:{color:r?o.colors.getContrastText(r):"inherit",background:r?"inherit":o.colors.background.primary}})?u:{},Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(u)).forEach((function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(u,e))})),l),s));var l,u},Qg=({renderValue:e,column:t,bgColor:n,row:r})=>{if(!t.columnDef.meta)return null;const{config:o,field:a}=t.columnDef.meta,i=e();switch(o.type||_.AUTO){case _.AUTO:case _.COLORED_TEXT:case _.COLORED_BACKGROUND:return c().createElement(Vg,{value:i,field:a,config:o,bgColor:n});case _.RICH_TEXT:return c().createElement(qg,{value:String(i),row:r});case _.IMAGE:return c().createElement(Ug,{value:String(i),column:t});case _.BOOLEAN:return c().createElement(Ng,{value:e(),bgColor:n});case _.PREFORMATTED:return c().createElement(Wg,{value:i,field:a,config:o,bgColor:n});default:return c().createElement(Vg,{value:i,field:a,config:o,bgColor:n})}},Yg=()=>({filterFacetedList:X.css`
      list-style: none;
      margin: 0;
      padding: 0;
      max-height: 200px;
      overflow: auto;
    `});function Xg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Xg(e,t,n[t])}))}return e}function Zg(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Jg=({header:{column:e},value:t,onChange:n})=>{const r=(0,a.useStyles2)(Yg),o=(0,s.useMemo)((()=>t.value.reduce(((e,t)=>(e.set(t,!0),e)),new Map)),[t.value]),i=(0,s.useMemo)((()=>{var t;if((null===(t=e.columnDef.meta)||void 0===t?void 0:t.filterMode)===F.QUERY){const t=e.columnDef.meta.filterVariableName,n=(0,Ct.getTemplateSrv)().getVariables().find((e=>e.name===t));return n&&"options"in n?n.options.filter((e=>"$__all"!==e.value)).map((e=>({value:e.value,label:e.text||e.value}))):[]}return Array.from(e.getFacetedUniqueValues().keys()).sort().slice(0,5e3).map((e=>({value:e,label:e})))}),[e]);return c().createElement("ul",Kg({className:r.filterFacetedList},H.filterFacetedList.root.apply()),c().createElement("li",null,c().createElement(a.Checkbox,Kg({checked:t.value.length===i.length,indeterminate:t.value.length>0&&i.length>t.value.length,label:"All",onChange:()=>{t.value.length===i.length?n(Zg(Kg({},t),{value:[]})):n(Zg(Kg({},t),{value:i.map((({value:e})=>e))}))}},H.filterFacetedList.allOption.apply()))),i.map((e=>{var r;return c().createElement("li",{key:e.value},c().createElement(a.Checkbox,Kg({checked:null!==(r=o.get(e.value))&&void 0!==r&&r,label:e.label,onChange:r=>{r.currentTarget.checked?n(Zg(Kg({},t),{value:t.value.concat(e.value)})):n(Zg(Kg({},t),{value:t.value.filter((t=>t!==e.value))}))}},H.filterFacetedList.option.apply(e.value))))})))};function em(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){em(e,t,n[t])}))}return e}function nm(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const rm=({value:e,onChange:t})=>c().createElement(a.InlineFieldRow,null,c().createElement(a.ButtonSelect,tm({options:Object.values(T).map((e=>({label:e,value:e}))),onChange:n=>{t(nm(tm({},e),{operator:n.value}))},value:{value:e.operator}},H.filterNumber.fieldOperator.apply())),c().createElement(a.InlineField,null,c().createElement(i.Q7,tm({value:e.value[0],onChange:n=>{t(nm(tm({},e),{value:[n,e.value[1]]}))},width:8},H.filterNumber.fieldValue.apply()))),e.operator===T.BETWEEN&&c().createElement(a.InlineField,{label:"and",transparent:!0},c().createElement(i.Q7,tm({value:e.value[1],onChange:n=>{t(nm(tm({},e),{value:[e.value[0],n]}))},width:8},H.filterNumber.fieldAdditionalValue.apply()))));function om(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function am(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){om(e,t,n[t])}))}return e}function im(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const sm=({value:e,onChange:t,mode:n,onCancel:r,onSave:o})=>c().createElement(a.InlineField,{label:"Search"},c().createElement(a.Input,am({placeholder:"Search term",value:e.value,onChange:n=>{t(im(am({},e),{value:n.currentTarget.value}))},autoFocus:!0,onKeyDown:e=>{"Enter"!==e.key?"Escape"!==e.key||r():o()},addonAfter:n===F.CLIENT&&c().createElement(a.Button,am({variant:e.caseSensitive?"primary":"secondary",fill:"outline",icon:"text-fields",onClick:()=>{t(im(am({},e),{caseSensitive:!e.caseSensitive}))},tooltip:"Match Case"},H.filterSearch.buttonMatchCase.apply()))},H.filterSearch.root.apply())));function lm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lm(e,t,n[t])}))}return e}const um=({value:e,onChange:t})=>c().createElement(a.InlineFieldRow,null,c().createElement(a.InlineField,{label:"Time"},c().createElement(a.TimeRangeInput,cm({value:e.value,onChange:n=>{var r,o;t((r=cm({},e),o=null!=(o={value:n})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})),r))},clearable:!0},H.filterTime.root.apply())))),dm=e=>({filterPopup:X.css`
      background-color: ${e.colors.background.primary};
      padding: ${e.spacing(1.5)};
      border: 1px solid ${e.colors.border.weak};
      min-width: 200px;
    `,filterPopupLine:X.css`
      border-top: 1px solid ${e.colors.border.weak};
      margin: ${e.spacing(1,0)};
    `,filterPopupFooter:X.css`
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: ${e.spacing(.5)};
    `});function pm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){pm(e,t,n[t])}))}return e}const hm=({onClose:e,header:t})=>{var n;const r=(0,a.useStyles2)(dm),[o,i]=(0,s.useState)(t.column.getFilterValue()||{type:"none"}),l=(null===(n=t.column.columnDef.meta)||void 0===n?void 0:n.filterMode)||F.CLIENT,u=(0,s.useCallback)((e=>{if(t.column.setFilterValue(e),l===F.QUERY){var n;let r=null;e&&"value"in e&&(r=e.value),Ct.locationService.partial({[`var-${null===(n=t.column.columnDef.meta)||void 0===n?void 0:n.filterVariableName}`]:r},!0)}}),[l,t.column]),d=(0,s.useCallback)((()=>{let t;switch(o.type){case P.SEARCH:o.value&&(t=o);break;case P.FACETED:o.value.length&&(t=o);break;case P.NUMBER:t=o;break;case P.TIMESTAMP:o.value.from.isValid()&&o.value.to.isValid()&&(t=o)}u(t),e()}),[o,u,e]),p=(0,s.useCallback)((()=>{u(void 0),e()}),[u,e]),f=(0,s.useMemo)((()=>{var e;return(null===(e=t.column.columnDef.meta)||void 0===e?void 0:e.availableFilterTypes)?t.column.columnDef.meta.availableFilterTypes.map((e=>{let t="Unknown";switch(e){case P.FACETED:t="Options";break;case P.NUMBER:t="Range";break;case P.SEARCH:t="Search";break;case P.TIMESTAMP:t="Time"}return{label:t,value:e,ariaLabel:H.filterPopup.typeOption.selector(e)}})):[]}),[t]);return(0,s.useEffect)((()=>{"none"===o.type&&f.length>0&&i(Pn(f[0].value))}),[o.type,f]),c().createElement(a.ClickOutsideWrapper,{onClick:e,useCapture:!0},c().createElement("div",fm({className:r.filterPopup,onClick:e=>e.stopPropagation()},H.filterPopup.root.apply()),f.length>1&&c().createElement(c().Fragment,null,c().createElement(a.InlineField,{label:"Type"},c().createElement(a.RadioButtonGroup,{options:f,value:o.type,onChange:e=>{i(Pn(e))}})),"none"!==o.type&&c().createElement("div",{className:r.filterPopupLine})),o.type===P.SEARCH&&c().createElement(sm,{value:o,onChange:i,onSave:d,onCancel:e,mode:l}),o.type===P.FACETED&&c().createElement(Jg,{value:o,onChange:i,header:t}),o.type===P.NUMBER&&c().createElement(rm,{value:o,onChange:i}),o.type===P.TIMESTAMP&&c().createElement(um,{value:o,onChange:i}),c().createElement("div",{className:r.filterPopupLine}),c().createElement("div",{className:r.filterPopupFooter},c().createElement(a.Button,fm({variant:"primary",size:"sm",fill:"text",onClick:p},H.filterPopup.buttonClear.apply()),"Clear"),c().createElement(a.Button,fm({variant:"secondary",size:"sm",onClick:e},H.filterPopup.buttonCancel.apply()),"Cancel"),c().createElement(a.Button,fm({variant:"primary",size:"sm",onClick:d},H.filterPopup.buttonSave.apply()),"Save"))))};function gm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){gm(e,t,n[t])}))}return e}const bm=H.tableActionsCell,vm=({row:e,isEditing:t,isEditRowEnabled:n,onStartEdit:r,onCancelEdit:o,onSave:i,isSaving:s,isDeleteRowEnabled:l,onDelete:u})=>t?c().createElement(a.Stack,{gap:.5},c().createElement(a.IconButton,mm({onClick:()=>null==i?void 0:i(e),"aria-label":"Save",disabled:s,name:s?"spinner":"save",tooltip:"Save",variant:"primary"},bm.buttonSave.apply())),c().createElement(a.IconButton,mm({variant:"secondary",onClick:o,"aria-label":"Cancel",disabled:s,tooltip:"Cancel",name:"times"},bm.buttonCancel.apply()))):n||l?c().createElement(a.Stack,{gap:.5},n&&c().createElement(a.IconButton,mm({name:"pen","aria-label":"Edit",onClick:()=>null==r?void 0:r(e),disabled:s,tooltip:"Edit row"},bm.buttonStartEdit.apply())),l&&c().createElement(a.IconButton,mm({name:"trash-alt","aria-label":"Delete",tooltip:"Delete row",onClick:()=>null==u?void 0:u(e)},bm.buttonDelete.apply()))):null;function ym(e,t){return e?function(e){return"function"==typeof e&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}(n=e)||"function"==typeof n||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(n)?s.createElement(e,t):e:null;var n}const wm=()=>({labelSortable:X.css`
      cursor: pointer;
    `}),Em=()=>({filterButton:X.css`
      border: none;
      box-shadow: none;
      background-color: transparent;
      padding: 0;
    `});function Sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Cm=({header:e,size:t})=>{const n=(0,a.useStyles2)(Em),r=(0,a.useTheme2)(),[o,i]=(0,s.useState)(!1),l=(0,s.useCallback)((()=>{i(!1)}),[]),u=(0,s.useRef)(null);return c().createElement(c().Fragment,null,c().createElement("button",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Sm(e,t,n[t])}))}return e}({onClick:()=>i(!o),ref:u,className:n.filterButton},H.tableHeaderCellFilter.root.apply()),c().createElement(a.Icon,{name:"filter",size:t,style:{color:e.column.getIsFiltered()?r.colors.primary.text:r.colors.secondary.text}})),o&&u.current&&c().createElement(c().Fragment,null,c().createElement(a.Popover,{show:!0,content:c().createElement(hm,{header:e,onClose:l}),referenceElement:u.current,placement:"bottom-start"})))};function xm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Om(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xm(e,t,n[t])}))}return e}const Am=H.tableHeaderCell,Dm=({header:e,size:t,isAddRowEnabled:n,onAddRow:r})=>{var o;const i=(0,a.useStyles2)(wm),s=e.column.getIsSorted(),l=(null===(o=e.column.columnDef.meta)||void 0===o?void 0:o.config.appearance.header.fontColor)||"inherit";return e.column.id===U?n?c().createElement(a.IconButton,Om({name:"plus","aria-label":"Add Row",onClick:r},Am.buttonAddRow.apply())):null:c().createElement(c().Fragment,null,c().createElement("div",Om({onClick:e.column.getToggleSortingHandler(),className:(0,X.cx)({[i.labelSortable]:e.column.getCanSort()}),style:{color:l}},Am.root.apply()),ym(e.column.columnDef.header,e.getContext()),!!s&&c().createElement(a.Icon,Om({name:"asc"===s?"arrow-up":"arrow-down",size:t},Am.sortIcon.apply("asc"===s?"arrow-up":"arrow-down")))),e.column.columnDef.enableColumnFilter&&c().createElement(Cm,{header:e,size:t}))},Rm=e=>({expandButton:X.css`
      margin-right: ${e.spacing(1)};
    `,link:X.css`
      position: relative;
      text-decoration: none;
      transition: color 0.3s ease;
      color: ${e.colors.text.link};

      & span {
        color: ${e.colors.text.link};
      }

      &::after {
        content: '';
        position: absolute;
        left: 0;
        bottom: 0;
        width: 100%;
        height: 1px;
        background-color: ${e.colors.text.link};
        transform: scaleX(0);
        transition: transform 0.3s ease;
      }

      &:hover {
        color: ${e.colors.text.link};

        &::after {
          transform: scaleX(1);
        }
      }
    `});function _m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function km(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_m(e,t,n[t])}))}return e}const Pm=({row:e,cell:t,rendererProps:n})=>{var r;const o=(0,a.useStyles2)(Rm),i=(0,s.useMemo)((()=>{var n,r;const o=null===(n=t.column.columnDef.meta)||void 0===n?void 0:n.field;if(o)return null===(r=o.getLinks)||void 0===r?void 0:r.call(o,{valueRowIndex:e.index})}),[null===(r=t.column.columnDef.meta)||void 0===r?void 0:r.field,e.index]),l=()=>{var e;return t.getIsAggregated()?ym(null!==(e=t.column.columnDef.aggregatedCell)&&void 0!==e?e:t.column.columnDef.cell,n):ym(t.column.columnDef.cell,n)};return c().createElement(c().Fragment,null,t.getIsGrouped()&&c().createElement(a.IconButton,{name:e.getIsExpanded()?"angle-down":"angle-right","aria-label":H.table.buttonExpandCell.selector(t.id),className:o.expandButton}),(()=>{var n;if(t.getIsPlaceholder())return null;if(e.getIsGrouped())return l();if((null===(n=t.column.columnDef.meta)||void 0===n?void 0:n.config.type)===_.NESTED_OBJECTS){const n=t.getValue();if(t.column.columnDef.meta.nestedObjectOptions&&Array.isArray(n)){var r;const o=null===(r=Lc.get(t.column.columnDef.meta.nestedObjectOptions.type))||void 0===r?void 0:r.control;if(o)return c().createElement(o,{options:t.column.columnDef.meta.nestedObjectOptions,value:n,row:e.original})}}return t.id.includes(U)?l():i&&0!==i.length?1===i.length?c().createElement("a",km({href:i[0].href,onClick:e=>e.stopPropagation(),target:i[0].target,title:i[0].title,className:o.link},H.tableCell.tableLink.apply(i[0].title)),l()):c().createElement(a.DataLinksContextMenu,{links:()=>i},(e=>c().createElement("div",km({className:(0,X.cx)(o.link,X.css`
                cursor: context-menu;
              `),onClick:t=>{e.openMenu(t),t.stopPropagation()}},H.tableCell.tableLinkMenu.apply()),l()))):l()})())},Tm=({onChange:e,row:t,column:n,isSaving:r,isNewRow:o})=>{var a,i,l;const u=(0,s.useCallback)((r=>{e(t,{columnId:n.id,value:r})}),[n.id,e,t]),d=o?null===(a=n.columnDef.meta)||void 0===a?void 0:a.addRowEditor:null===(i=n.columnDef.meta)||void 0===i?void 0:i.editor,p=d?null===(l=Wr.get(d.type))||void 0===l?void 0:l.control:void 0;if(!d||!p)return null;const f=t.getValue(n.id);return c().createElement(p,{value:f,onChange:u,config:d,isSaving:r})},Im=e=>{const t=e.colors.border.weak;return{row:X.css`
      display: flex;
      position: absolute;
      width: 100%;
      justify-content: space-between;
      &:not(:last-child) {
        border-bottom: 1px solid ${t};
      }
    `,newRow:X.css`
      position: relative;
      border-bottom: 1px solid ${t};
      background-color: ${e.colors.background.canvas};
    `,cell:X.css`
      display: flex;
      min-height: ${e.spacing(4.5)};
      align-items: center;
      white-space: wrap;
      padding: ${e.spacing(.75)};
      flex: auto;
      overflow: hidden;
      text-overflow: ellipsis;
      z-index: 0;

      &:not(:last-child) {
        border-right: 1px solid ${t};
      }
    `,cellEditable:X.css`
      &:hover {
        box-shadow: ${e.colors.primary.border} 0 0 2px;
      }
    `,cellExpandable:X.css`
      cursor: pointer;
      border-right: none !important;
    `,expandButton:X.css`
      margin-right: ${e.spacing(1)};
    `}};function jm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){jm(e,t,n[t])}))}return e}function Mm(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Lm=(e,t,n)=>{const r=t.getIsPinned();return r?{boxShadow:"right"===r&&t.getIsFirstColumn("right")?`-1px 0 ${e.colors.border.weak}`:void 0,left:"left"===r?`${t.getStart("left")}px`:void 0,right:"right"===r?`${t.getAfter("right")}px`:void 0,position:"sticky",zIndex:1,backgroundColor:n||e.colors.background.primary}:{}},Nm=H.table,Bm=({virtualRow:e,row:t,rowVirtualizer:n,editingRow:r,onStartEdit:o,onCancelEdit:i,onChange:s,onSave:l,isSaving:u,isNewRow:d=!1,isEditRowEnabled:p,isDeleteRowEnabled:f=!1,onDelete:h})=>{const g=(0,a.useTheme2)(),m=(0,a.useStyles2)(Im),b=t.getVisibleCells(),v=b.reduce(((e,n)=>{if(!n.column.columnDef.meta)return e;const r={},{field:o,config:a}=n.column.columnDef.meta,i=n.getValue();if(r.wrap=a.appearance.wrap,r.align=a.appearance.alignment,o.display&&a.type===_.COLORED_BACKGROUND&&!t.getIsGrouped()){const t=o.display(i);t.color&&(r.background=t.color,a.appearance.background.applyToRow&&(e.background=t.color))}if(o.display&&a.type===_.COLORED_BACKGROUND&&n.getIsAggregated()&&q.includes(a.aggregation)){const e=o.display(i);e.color&&(r.background=e.color)}return Mm(Fm({},e),{cells:e.cells.concat(r)})}),{background:void 0,cells:[]});return c().createElement("tr",Fm({"data-index":null==e?void 0:e.index,key:t.id,className:(0,X.cx)(m.row,{[m.newRow]:d}),ref:null==n?void 0:n.measureElement,style:{transform:`translateY(${null==e?void 0:e.start}px)`,backgroundColor:v.background}},Nm.bodyRow.apply(t.id)),b.map(((e,n)=>{const a=v.cells[n],b=null==a?void 0:a.background,y=Mm(Fm({},e.getContext()),{bgColor:b||v.background,isEditing:!!r,onStartEdit:o,onCancelEdit:i,onSave:l,isSaving:u,isEditRowEnabled:p,isDeleteRowEnabled:f,onDelete:h});return r&&(y.row=r),c().createElement("td",Fm({key:e.id,className:(0,X.cx)(m.cell,{[m.cellExpandable]:t.getCanExpand(),[m.cellEditable]:!t.getIsGrouped()&&e.column.id!==U}),style:Fm({maxWidth:e.column.columnDef.maxSize,minWidth:e.column.columnDef.minSize,width:e.column.getSize(),backgroundColor:b,wordBreak:(null==a?void 0:a.wrap)?"break-word":"normal",whiteSpace:"pre-wrap",justifyContent:null==a?void 0:a.align,textAlign:null==a?void 0:a.align},Lm(g,e.column,b||v.background)),onClick:t.getToggleExpandedHandler()},Nm.bodyCell.apply(e.id)),((e,n)=>{var o,a;if(r&&e.column.id!==U)if(d){if(null===(a=e.column.columnDef.meta)||void 0===a?void 0:a.addRowEditable)return c().createElement(Tm,Mm(Fm({},e.getContext()),{row:r,isNewRow:!0,onChange:s,isSaving:u}))}else if(null===(o=e.column.columnDef.meta)||void 0===o?void 0:o.editable)return c().createElement(Tm,Mm(Fm({},e.getContext()),{row:r,onChange:s,isSaving:u}));return c().createElement(Pm,{cell:e,rendererProps:n,row:t})})(e,y))})))};var Vm=m(5007);function zm(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function $m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Um(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$m(e,t,n[t])}))}return e}function Hm(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const qm=({table:e,onAddRow:t})=>{const[n,r]=(0,s.useState)(null),[o,a]=(0,s.useState)(!1),i=(0,s.useCallback)((()=>{const t=e.getAllColumns().reduce(((e,t)=>{var n;if(t.id===U)return e;const r=null===(n=t.columnDef.meta)||void 0===n?void 0:n.addRowEditor;let o="";switch(null==r?void 0:r.type){case C.BOOLEAN:o=!1;break;case C.NUMBER:var a;o=null!==(a=r.min)&&void 0!==a?a:0;break;case C.DATETIME:var i;o=null!==(i=r.min)&&void 0!==i?i:(new Date).toDateString()}return Hm(Um({},e),{[t.id]:o})}),{});r(jt(e,"0",t,0,0))}),[e]),l=(0,s.useCallback)((()=>{r(null)}),[]),c=(0,s.useCallback)(((t,n)=>{const o=Hm(Um({},t.original),{[n.columnId]:n.value});r(jt(e,t.id,o,t.index,t.depth))}),[e]),u=(0,s.useCallback)(function(){var e,n=(e=function*(e){a(!0);try{yield t(e.original),a(!1),l()}catch(e){a(!1)}},function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){zm(a,r,o,i,s,"next",e)}function s(e){zm(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}(),[l,t]);return(0,s.useMemo)((()=>({onStart:i,row:n,onCancel:l,onChange:c,onSave:u,isSaving:o})),[i,n,l,c,u,o])};function Gm(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Wm(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Gm(a,r,o,i,s,"next",e)}function s(e){Gm(a,r,o,i,s,"throw",e)}i(void 0)}))}}function Qm(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Ym(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Xm=({table:e,onUpdateRow:t})=>{const[n,r]=(0,s.useState)(null),[o,a]=(0,s.useState)(!1),i=(0,s.useCallback)((t=>{const n=e.getAllColumns(),o=Object.entries(t.original).reduce(((e,[t,r])=>{var o,a,i;const s=n.find((e=>e.id===t));return(null==s||null===(o=s.columnDef.meta)||void 0===o?void 0:o.editable)&&(null==s||null===(i=s.columnDef.meta)||void 0===i||null===(a=i.editor)||void 0===a?void 0:a.type)===C.TEXTAREA?e[t]=r.replaceAll("\n","\\n"):e[t]=r,e}),{});r(jt(e,t.id,o,t.index,t.depth))}),[e]),l=(0,s.useCallback)((()=>{r(null)}),[]),c=(0,s.useCallback)(((t,n)=>{const o=(a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ym(e,t,n[t])}))}return e}({},t.original),i=null!=(i={[n.columnId]:n.value})?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(i)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})),a);var a,i;r(jt(e,t.id,o,t.index,t.depth))}),[e]),u=(0,s.useCallback)(function(){var e,n=(e=function*(e){a(!0);try{yield t(e.original),a(!1),l()}catch(e){a(!1)}},function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Qm(a,r,o,i,s,"next",e)}function s(e){Qm(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}(),[l,t]);return(0,s.useMemo)((()=>({onStartEdit:i,row:n,onCancelEdit:l,onChange:c,onSave:u,isSaving:o})),[i,n,l,c,u,o])},Km=e=>{const t=e.colors.border.weak;return{root:X.css`
      overflow: auto;
      position: relative;
    `,table:X.css`
      display: grid;
      min-width: 100%;
    `,header:X.css`
      border-bottom: 1px solid ${t};
      position: sticky;
      z-index: 100;
      top: 0;
      background-color: ${e.colors.background.primary};
    `,headerRow:X.css`
      display: flex;
      width: 100%;
      justify-content: space-between;
    `,headerCell:X.css`
      display: flex;
      min-height: ${e.spacing(3.5)};
      align-items: center;
      padding: ${e.spacing(.75)};
      gap: ${e.spacing(.5)};
      flex-wrap: wrap;
      flex: auto;
      overflow: hidden;
      text-overflow: ellipsis;

      &:not(:last-child) {
        border-right: 1px solid ${t};
      }
    `,sizeLg:X.css`
      font-size: ${e.typography.pxToRem(18)};
      min-height: ${e.spacing(4)};
      padding: ${e.spacing(1)};
    `,sizeMd:X.css`
      font-size: ${e.typography.pxToRem(14)};
      min-height: ${e.spacing(3.5)};
      padding: ${e.spacing(.75)};
    `,sizeSm:X.css`
      font-size: ${e.typography.pxToRem(12)};
      min-height: ${e.spacing(3)};
    `,sizeXs:X.css`
      font-size: ${e.typography.pxToRem(10)};
      min-height: ${e.spacing(2.5)};
    `,body:X.css`
      display: grid;
      position: relative; //needed for absolute positioning of rows
    `,footer:X.css`
      position: sticky;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-top: 1px solid ${t};
    `,footerRow:X.css`
      display: flex;
      width: 100%;
      justify-content: space-between;
      background-color: ${e.colors.background.canvas};
    `,footerCell:X.css`
      display: flex;
      min-height: ${e.spacing(3.5)};
      align-items: center;
      padding: ${e.spacing(.75)};
      gap: ${e.spacing(.5)};
      flex-wrap: wrap;
      flex: auto;

      &:not(:last-child) {
        border-right: 1px solid ${t};
      }
    `,paginationRow:X.css`
      z-index: 200;
      background-color: ${e.colors.background.primary};
      position: sticky;
      bottom: 0;
      left: 0;
      min-width: 100%;
      display: flex;
      justify-content: center;
      padding-top: ${e.spacing(1)};
      gap: ${e.spacing(1)};
      align-items: center;
    `,pagination:X.css`
      float: none;
      li {
        margin-bottom: 0;
      }
    `}};function Zm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Zm(e,t,n[t])}))}return e}const eb={size:50,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},tb=(e,t)=>{const n=t.getIsPinned();return n?{boxShadow:"right"===n&&t.getIsFirstColumn("right")?`-1px 0 ${e.colors.border.weak}`:void 0,left:"left"===n?`${t.getStart("left")}px`:void 0,right:"right"===n?`${t.getAfter("right")}px`:void 0,position:"sticky",zIndex:1,backgroundColor:e.colors.background.primary}:{}},nb=(e,t)=>{const n=t.getIsPinned();return n?{boxShadow:"right"===n&&t.getIsFirstColumn("right")?`-1px 0 ${e.colors.border.weak}`:void 0,left:"left"===n?`${t.getStart("left")}px`:void 0,right:"right"===n?`${t.getAfter("right")}px`:void 0,position:"sticky",zIndex:1,backgroundColor:e.colors.background.canvas}:{}},rb=H.table,ob=({data:e,columns:t,scrollableContainerRef:n,tableHeaderRef:r,tableRef:o,topOffset:i,eventBus:l,onUpdateRow:u,bottomOffset:d,paginationRef:p,width:f,pagination:h,tableInstance:g,expandedByDefault:m,showHeader:b,onAddRow:v,isAddRowEnabled:y,isDeleteRowEnabled:w,onDeleteRow:E})=>{const S=(0,a.useTheme2)(),C=(0,a.useStyles2)(Km),x=(0,s.useMemo)((()=>t.filter((e=>e.enableGrouping)).map((e=>e.id||""))),[t]),O=(0,s.useMemo)((()=>t.filter((e=>e.enablePinning)).reduce(((e,t)=>{var n,r,o;return(null===(n=t.meta)||void 0===n?void 0:n.config.pin)===A.LEFT?null===(r=e.left)||void 0===r||r.push(t.id||""):null===(o=e.right)||void 0===o||o.push(t.id||""),e}),{left:[],right:[]})),[t]),D=(0,s.useMemo)((()=>t.some((e=>{var t;return null===(t=e.meta)||void 0===t?void 0:t.editable}))),[t]),[R,_]=(0,s.useState)(!!m||{}),[k,P]=(({columns:e,eventBus:t})=>{const[n,r]=(0,s.useState)([]);return(0,s.useEffect)((()=>{r((t=>jn(t,In(e))));const n=t.getStream(Ct.RefreshEvent).subscribe((()=>{r((t=>jn(t,In(e))))}));return()=>n.unsubscribe()}),[e,t]),[n,r]})({columns:t,eventBus:l}),{sorting:T,onChangeSort:I}=(({columns:e})=>{const[t,n]=(0,s.useState)([]),[r,o]=(0,s.useState)();(0,s.useEffect)((()=>{const a=e.find((e=>e.enableSorting));a&&(a.id!==(null==r?void 0:r.id)&&(n([{id:a.id,desc:a.sortDescFirst}]),o(a)),a.id===(null==r?void 0:r.id)&&a.sortDescFirst!==(null==r?void 0:r.sortDescFirst)&&(n([{id:a.id,desc:a.sortDescFirst}]),o(a))),!a&&t.length&&(n([]),o(void 0))}),[r,e,t]);const a=(0,s.useCallback)(n,[n]);return(0,s.useMemo)((()=>({sorting:t,onChangeSort:a})),[a,t])})({columns:t}),F=function(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=s.useState((()=>({current:En(t)}))),[r,o]=s.useState((()=>n.current.initialState));return n.current.setOptions((t=>({...t,...e,state:{...r,...e.state},onStateChange:t=>{o(t),null==e.onStateChange||e.onStateChange(t)}}))),n.current}({state:{grouping:x,expanded:R,columnFilters:k,sorting:T,pagination:h.value,columnPinning:O},data:e,columns:t,getCoreRowModel:Sn(),getGroupedRowModel:e=>Rt((()=>[e.getState().grouping,e.getPreGroupedRowModel()]),((t,n)=>{if(!n.rows.length||!t.length)return n.rows.forEach((e=>{e.depth=0,e.parentId=void 0})),n;const r=t.filter((t=>e.getColumn(t))),o=[],a={},i=function(t,n,s){if(void 0===n&&(n=0),n>=r.length)return t.map((e=>(e.depth=n,o.push(e),a[e.id]=e,e.subRows&&(e.subRows=i(e.subRows,n+1,e.id)),e)));const l=r[n],c=function(e,t){const n=new Map;return e.reduce(((e,n)=>{const r=`${n.getGroupingValue(t)}`,o=e.get(r);return o?o.push(n):e.set(r,[n]),e}),n)}(t,l),u=Array.from(c.entries()).map(((t,c)=>{let[u,d]=t,p=`${l}:${u}`;p=s?`${s}>${p}`:p;const f=i(d,n+1,p);f.forEach((e=>{e.parentId=p}));const h=n?Dt(d,(e=>e.subRows)):d,g=jt(e,p,h[0].original,c,n,void 0,s);return Object.assign(g,{groupingColumnId:l,groupingValue:u,subRows:f,leafRows:h,getValue:t=>{var n;if(r.includes(t))return g._valuesCache.hasOwnProperty(t)||d[0]&&(g._valuesCache[t]=null!=(n=d[0].getValue(t))?n:void 0),g._valuesCache[t];if(g._groupingValuesCache.hasOwnProperty(t))return g._groupingValuesCache[t];const o=e.getColumn(t),a=null==o?void 0:o.getAggregationFn();return a?(g._groupingValuesCache[t]=a(t,h,d),g._groupingValuesCache[t]):void 0}}),f.forEach((e=>{o.push(e),a[e.id]=e})),g}));return u},s=i(n.rows,0);return s.forEach((e=>{o.push(e),a[e.id]=e})),{rows:s,flatRows:o,rowsById:a}}),_t(e.options,"debugTable",0,(()=>{e._queue((()=>{e._autoResetExpanded(),e._autoResetPageIndex()}))}))),getExpandedRowModel:e=>Rt((()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows]),((e,t,n)=>!t.rows.length||!0!==e&&!Object.keys(null!=e?e:{}).length?t:n?Cn(t):t),_t(e.options,"debugTable")),enableExpanding:!0,enableGrouping:!0,onExpandedChange:_,autoResetExpanded:!1,getFilteredRowModel:On(),onColumnFiltersChange:P,getFacetedRowModel:(e,t)=>Rt((()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()]),((n,r,o)=>{if(!n.rows.length||(null==r||!r.length)&&!o)return n;const a=[...r.map((e=>e.id)).filter((e=>e!==t)),o?"__global__":void 0].filter(Boolean);return xn(n.rows,(e=>{for(let t=0;t<a.length;t++)if(!1===e.columnFilters[a[t]])return!1;return!0}),e)}),_t(e.options,"debugTable")),getFacetedUniqueValues:(e,t)=>Rt((()=>{var n;return[null==(n=e.getColumn(t))?void 0:n.getFacetedRowModel()]}),(e=>{if(!e)return new Map;let n=new Map;for(let o=0;o<e.flatRows.length;o++){const a=e.flatRows[o].getUniqueValues(t);for(let e=0;e<a.length;e++){const t=a[e];var r;n.has(t)?n.set(t,(null!=(r=n.get(t))?r:0)+1):n.set(t,1)}}return n}),_t(e.options,"debugTable")),getSortedRowModel:An(),onSortingChange:I,enableSorting:!0,getPaginationRowModel:e=>Rt((()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded]),((t,n)=>{if(!n.rows.length)return n;const{pageSize:r,pageIndex:o}=t;let{rows:a,flatRows:i,rowsById:s}=n;const l=r*o,c=l+r;let u;a=a.slice(l,c),u=e.options.paginateExpandedRows?{rows:a,flatRows:i,rowsById:s}:Cn({rows:a,flatRows:i,rowsById:s}),u.flatRows=[];const d=e=>{u.flatRows.push(e),e.subRows.length&&e.subRows.forEach(d)};return u.rows.forEach(d),u}),_t(e.options,"debugTable")),onPaginationChange:h.onChange,manualPagination:h.isManual,debugTable:!1,debugColumns:!1,defaultColumn:eb}),{rows:M}=F.getRowModel(),L=(0,Vm.Te)({getScrollElement:(0,s.useCallback)((()=>n.current),[n]),count:M.length,getItemKey:(0,s.useCallback)((e=>M[e].id),[M]),estimateSize:(0,s.useCallback)((()=>36),[]),measureElement:(0,s.useCallback)((e=>e.offsetHeight),[]),overscan:10}),N=L.getVirtualItems(),B=(0,s.useMemo)((()=>t.some((e=>{var t;return!!(null===(t=e.meta)||void 0===t?void 0:t.footerEnabled)}))),[t]),V=qm({table:F,onAddRow:v}),z=Xm({table:F,onUpdateRow:u}),$=(({onDeleteRow:e})=>{const[t,n]=(0,s.useState)(null),[r,o]=(0,s.useState)(!1),a=(0,s.useCallback)((e=>{n(e)}),[]),i=(0,s.useCallback)((()=>{n(null)}),[]),l=(0,s.useCallback)(Wm((function*(){if(t){o(!0);try{yield e(t.original),o(!1),i()}catch(e){o(!1)}}})),[t,e,i]);return(0,s.useMemo)((()=>({onStart:a,row:t,onCancel:i,onSave:l,isSaving:r})),[a,t,i,l,r])})({onDeleteRow:E});return(0,s.useEffect)((()=>{g.current=F}),[F,g]),c().createElement(c().Fragment,null,c().createElement("table",Jm({className:C.table,ref:o,style:{width:F.getCenterTotalSize()}},rb.root.apply()),b&&c().createElement("thead",{className:C.header,ref:r,style:{top:i}},F.getHeaderGroups().map((e=>c().createElement("tr",Jm({key:e.id,className:C.headerRow},rb.headerRow.apply(e.id)),e.headers.map((e=>{var t,n,r,o;const a=null===(t=e.column.columnDef.meta)||void 0===t?void 0:t.config.appearance.header.backgroundColor,i=(null===(n=e.column.columnDef.meta)||void 0===n?void 0:n.config.appearance.header.fontSize)||j.MD;return c().createElement("th",Jm({key:e.id,className:(0,X.cx)(C.headerCell,{[C.sizeLg]:i===j.LG,[C.sizeMd]:i===j.MD,[C.sizeSm]:i===j.SM,[C.sizeXs]:i===j.XS}),style:Jm({maxWidth:e.column.columnDef.maxSize,minWidth:e.column.columnDef.minSize,background:a,width:e.getSize(),textAlign:null===(r=e.column.columnDef.meta)||void 0===r?void 0:r.config.appearance.alignment,justifyContent:null===(o=e.column.columnDef.meta)||void 0===o?void 0:o.config.appearance.alignment},tb(S,e.column))},rb.headerCell.apply(e.id)),c().createElement(Dm,{header:e,size:i,isAddRowEnabled:y,onAddRow:V.onStart}))})))))),!!V.row&&c().createElement("tbody",rb.newRowContainer.apply(),c().createElement(Bm,{row:V.row,editingRow:V.row,onStartEdit:V.onStart,onCancelEdit:V.onCancel,onChange:V.onChange,onSave:V.onSave,isSaving:V.isSaving,isNewRow:!0,onDelete:$.onStart})),c().createElement("tbody",Jm({style:{height:`${L.getTotalSize()}px`},className:C.body},rb.body.apply()),N.map((e=>{var t;const n=M[e.index];return c().createElement(Bm,{key:n.id,row:n,virtualRow:e,rowVirtualizer:L,editingRow:(null===(t=z.row)||void 0===t?void 0:t.id)===n.id?z.row:null,onStartEdit:z.onStartEdit,onCancelEdit:z.onCancelEdit,onChange:z.onChange,onSave:z.onSave,isSaving:z.isSaving,isEditRowEnabled:D,isDeleteRowEnabled:w,onDelete:$.onStart})}))),B&&c().createElement("tfoot",{className:C.footer,style:{maxHeight:L.getTotalSize(),bottom:d}},F.getFooterGroups().map((e=>c().createElement("tr",{key:e.id,className:C.footerRow},e.headers.map((e=>{var t,n;return c().createElement("th",Jm({key:e.id,className:C.footerCell,style:Jm({maxWidth:e.column.columnDef.maxSize,minWidth:e.column.columnDef.minSize,width:e.getSize(),textAlign:null===(t=e.column.columnDef.meta)||void 0===t?void 0:t.config.appearance.alignment,justifyContent:null===(n=e.column.columnDef.meta)||void 0===n?void 0:n.config.appearance.alignment},nb(S,e.column))},rb.footerCell.apply(e.id)),ym(e.column.columnDef.footer,e.getContext()))}))))))),h.isEnabled&&c().createElement("div",Jm({className:C.paginationRow,ref:p,style:{width:F.getCenterTotalSize()}},rb.pagination.apply()),c().createElement(a.Pagination,Jm({currentPage:h.value.pageIndex+1,numberOfPages:h.isManual?Math.ceil(h.total/h.value.pageSize):F.getPageCount(),onNavigate:e=>{var t,n;h.onChange((t=Jm({},h.value),n=null!=(n={pageIndex:e-1})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t))},className:C.pagination,showSmallVersion:f<=200},rb.fieldPageNumber.apply())),c().createElement(wc,Jm({options:W,value:{value:h.value.pageSize},onChange:e=>{h.onChange({pageIndex:0,pageSize:e.value})}},rb.fieldPageSize.apply()))),!!$.row&&c().createElement(a.ConfirmModal,{isOpen:!0,title:"Delete Row",body:"Please confirm to delete row",confirmText:"Confirm",onConfirm:$.onSave,onDismiss:$.onCancel,disabled:$.isSaving}))},ab=e=>({root:X.css`
      position: relative;
    `,content:X.css`
      overflow: auto;
    `,toolbar:X.css`
      padding: ${e.spacing(.5)};
    `,header:X.css`
      position: sticky;
      top: 0;
      background-color: ${e.colors.background.primary};
      z-index: 120;
      min-width: 100%;
      left: 0;
    `,tabs:X.css`
      div > div {
        flex-direction: column;
        max-width: 100%;
      }
      padding: 0;
      border-bottom: 1px solid ${e.colors.border.weak};
      background-color: transparent;
      min-height: 33px;
    `,tabButton:X.css`
      overflow: hidden;
      max-width: 100%;

      > div {
        overflow: hidden;
        text-overflow: ellipsis;
      }
    `});function ib(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ib(e,t,n[t])}))}return e}function lb(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function cb(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){lb(a,r,o,i,s,"next",e)}function s(e){lb(a,r,o,i,s,"throw",e)}i(void 0)}))}}function ub(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function db(){return db=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},db.apply(this,arguments)}function pb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ub(e,t,n[t])}))}return e}function fb(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const hb=function(){var e=cb((function*(){return yield(0,Ct.getBackendSrv)().get("/api/datasources")}));return function(){return e.apply(this,arguments)}}(),gb=(e,t)=>{const n=e.find((e=>e.name===t));return(null==n?void 0:n.uid)||""},mb=function(){var e=cb((function*(e){const t=db({},function(e){if(null==e)throw new TypeError("Cannot destructure "+e);return e}(e.options)),n=yield hb();if(t.groups||t.tables){const r=t.groups||t.tables;t.tables=r.map((t=>{const r=t.items.map((t=>{var n,r;const o=t;return o.filter||(o.filter={enabled:!1,mode:F.CLIENT,variable:""}),o.sort||(o.sort={descFirst:!1,enabled:!1}),void 0===o.sort.descFirst&&(o.sort=fb(pb({},o.sort),{descFirst:!1})),o.appearance=pb({width:{auto:!0,value:100},header:{fontSize:j.MD},background:{applyToRow:!1},wrap:!0,alignment:I.START},o.appearance),o.footer||(o.footer=[]),o.edit||(o.edit={enabled:!1,permission:V,editor:te(C.STRING)}),o.newRowEdit||(o.newRowEdit={enabled:!1,editor:te(C.STRING)}),void 0===o.pin?o.pin=A.NONE:"boolean"==typeof o.pin&&(o.pin=o.pin?A.LEFT:A.NONE),void 0===o.enabled&&(o.enabled=!0),e.pluginVersion&&d().lt(e.pluginVersion,"1.8.0")&&(null===(r=o.edit)||void 0===r||null===(n=r.editor)||void 0===n?void 0:n.type)===C.SELECT&&!o.edit.editor.hasOwnProperty("customValues")&&(o.edit=fb(pb({},o.edit),{editor:fb(pb({},o.edit.editor),{customValues:!1})})),e.pluginVersion&&d().lt(e.pluginVersion,"1.9.0")&&!o.hasOwnProperty("preformattedStyle")&&(o.preformattedStyle=!1),e.pluginVersion&&d().lt(e.pluginVersion,"1.9.0")&&!o.hasOwnProperty("scale")&&(o.scale=L.AUTO),o})),o=fb(pb({},t),{items:r});return o.hasOwnProperty("showHeader")||(o.showHeader=!0),o.update||(o.update={datasource:"",payload:{}}),o.hasOwnProperty("expanded")||(o.expanded=!1),e.pluginVersion&&d().lt(e.pluginVersion,"1.7.0")&&o.update.datasource&&(o.update=fb(pb({},o.update),{datasource:gb(n,o.update.datasource)})),o.pagination||(o.pagination={enabled:!1,mode:D.CLIENT,defaultPageSize:G[0]}),e.pluginVersion&&d().lt(e.pluginVersion,"1.9.0")&&o.pagination&&!o.pagination.defaultPageSize&&(o.pagination=fb(pb({},o.pagination),{defaultPageSize:G[0]})),o.addRow||(o.addRow={enabled:!1,request:B,permission:V}),o.deleteRow||(o.deleteRow={enabled:!1,request:B,permission:V}),o})),delete t.groups}if(void 0===t.tabsSorting&&(t.tabsSorting=!1),t.toolbar||(t.toolbar={}),void 0===t.toolbar.export&&(t.toolbar.export=!1),t.nestedObjects||(t.nestedObjects=[]),e.pluginVersion&&d().lt(e.pluginVersion,"1.7.0")&&t.nestedObjects.length){const e=t.nestedObjects.map((e=>{var t,r;const o=pb({},e);var a,i,s,l;return e.add&&(null===(t=e.add)||void 0===t?void 0:t.request.datasource)&&(o.add=fb(pb({},e.add),{request:fb(pb({},null===(a=e.add)||void 0===a?void 0:a.request),{datasource:gb(n,null===(i=e.add)||void 0===i?void 0:i.request.datasource)})})),e.delete&&(null===(r=e.delete)||void 0===r?void 0:r.request.datasource)&&(o.delete=fb(pb({},e.delete),{request:fb(pb({},null===(s=e.delete)||void 0===s?void 0:s.request),{datasource:gb(n,null===(l=e.delete)||void 0===l?void 0:l.request.datasource)})})),e.get&&(o.get=fb(pb({},e.get),{datasource:gb(n,e.get.datasource)})),o}));t.nestedObjects=e}return t}));return function(t){return e.apply(this,arguments)}}(),bb=new o.PanelPlugin((({id:e,data:t,width:n,height:r,options:l,eventBus:u,replaceVariables:d,title:p})=>{var f,h;const g=(0,a.useStyles2)(ab),[m,b]=cr({key:`volkovlabs.table.panel.${e}`,initialValue:(null===(h=l.tables)||void 0===h||null===(f=h[0])||void 0===f?void 0:f.name)||""}),v=(0,s.useMemo)((()=>{var e;if((null===(e=l.tables)||void 0===e?void 0:e.length)&&m)return l.tables.find((e=>e.name===m))}),[l.tables,m]),y=(0,s.useMemo)((()=>!!v&&St(v.addRow,{series:t.series,user:Ct.config.bootData.user})),[v,t.series]),w=(0,s.useMemo)((()=>!!v&&St(v.deleteRow,{series:t.series,user:Ct.config.bootData.user})),[v,t.series]),{tableData:E,columns:S}=(({data:e,isAddRowEnabled:t=!1,isDeleteRowEnabled:n=!1,columns:r,objects:i,replaceVariables:l})=>{const c=(0,a.useTheme2)(),u=(0,Ct.getTemplateSrv)(),d=(0,s.useMemo)((()=>{var t;if(!(null==r||null===(t=r[0])||void 0===t?void 0:t.field))return{frame:null,items:[]};const n=(o=e.series,"number"==typeof(a=null==r?void 0:r[0].field).source?o[a.source]:o.find((e=>e.refId===a.source)));var o,a;if(!n)return{frame:null,items:[]};const i=r.map((e=>({config:e,field:n.fields.find((t=>bt(0,t,e.field)))}))).filter((e=>!!e.field));return{frame:n,items:i}}),[r,e.series]),p=(0,s.useMemo)((()=>{if(!d.frame)return[];const e=[];for(let t=0;t<d.frame.length;t+=1){const n=d.items.reduce(((e,n)=>br(mr({},e),{[n.field.name]:n.field.values[t]})),{});e.push(n)}return e}),[d]),{onLoad:f,getValuesForColumn:h,loadingState:g}=hr({objects:i,replaceVariables:l}),m=(0,s.useMemo)((()=>null==r?void 0:r.filter((e=>e.type===_.NESTED_OBJECTS&&e.enabled))),[r]);(0,s.useEffect)((()=>{(null==m?void 0:m.length)&&m.forEach((e=>{f(e,p)}))}),[m,f,p]);const b=(0,s.useMemo)((()=>{const e=(null==m?void 0:m.reduce(((e,t)=>br(mr({},e),{[t.field.name]:h(t.objectId)})),{}))||{};return p.map((t=>mr({},t,Object.entries(e).reduce(((e,[n,r])=>{const o=t[n];return Array.isArray(o)&&r instanceof Map?br(mr({},e),{[n]:o.map((e=>r.get(e))).filter((e=>!!e))}):e}),{}))))}),[m,h,p]),v=(0,s.useCallback)((t=>{const n=Wr.get(t.type);return n?null==n?void 0:n.getControlOptions({config:t,data:e}):t}),[e]),y=(0,s.useCallback)(((t,n)=>{const r=Lc.get(t.type);var o,a,i;if(r)return null==r?void 0:r.getControlOptions({header:n,config:t.editor,data:e,isLoading:g[t.id],operations:{add:{enabled:!!t.add&&St(t.add,{series:e.series,user:Ct.config.bootData.user}),request:null===(o=t.add)||void 0===o?void 0:o.request},update:{enabled:!!t.update&&St(t.update,{series:e.series,user:Ct.config.bootData.user}),request:null===(a=t.update)||void 0===a?void 0:a.request},delete:{enabled:!!t.delete&&St(t.delete,{series:e.series,user:Ct.config.bootData.user}),request:null===(i=t.delete)||void 0===i?void 0:i.request}}})}),[e,g]),w=(0,s.useMemo)((()=>{if(!d.frame)return[];let r=!1;t&&(r=!0),n&&(r=!0);const a=[],s=d.items.filter((e=>e.config.enabled));for(const n of s){var p;const d=[];if(n.config.filter.mode===F.CLIENT)switch(n.field.type){case o.FieldType.string:d.push(P.SEARCH,P.FACETED);break;case o.FieldType.number:d.push(P.NUMBER);break;case o.FieldType.time:d.push(P.TIMESTAMP);break;default:d.push(P.SEARCH,P.FACETED)}else if(n.config.filter.mode===F.QUERY){const e=u.getVariables().find((e=>e.name===n.config.filter.variable));e&&d.push(...Tn(e))}const f={};n.config.appearance.width.auto?(f.minSize=n.config.appearance.width.min,f.maxSize=n.config.appearance.width.max):(f.size=n.config.appearance.width.value,f.maxSize=n.config.appearance.width.value);const h=St(n.config.edit,{series:e.series,user:Ct.config.bootData.user}),g=!!t&&n.config.newRowEdit.enabled;h&&(r=!0);const m=n.config.type===_.NESTED_OBJECTS?i.find((e=>e.id===n.config.objectId)):void 0,b=l(n.config.label)||(null===(p=n.field.config)||void 0===p?void 0:p.displayName)||n.field.name,w=()=>{const e=s.filter((e=>e.config.type!==_.NESTED_OBJECTS)),t=s.some((e=>e.config.type===_.NESTED_OBJECTS)),r=e.findIndex((e=>e.field.name===n.field.name));return!(n.config.group&&r+1===e.length&&!t)&&n.config.group};a.push(mr({id:n.field.name,accessorFn:Mn(n.field.name),header:b,cell:Qg,aggregatedCell:Mg,enableGrouping:w(),aggregationFn:n.config.aggregation===k.NONE?()=>null:n.config.aggregation,enableColumnFilter:n.config.filter.enabled&&d.length>0,filterFn:n.config.filter.mode===F.CLIENT?kn:()=>!0,enableSorting:n.config.sort.enabled,sortDescFirst:n.config.sort.descFirst,enablePinning:n.config.pin!==A.NONE,meta:{availableFilterTypes:d,filterMode:n.config.filter.mode,filterVariableName:n.config.filter.variable,config:n.config,field:n.field,scale:n.config.scale,footerEnabled:n.config.footer.length>0,editable:h,editor:h?v(n.config.edit.editor):void 0,nestedObjectOptions:m?y(m,b):void 0,addRowEditable:g,addRowEditor:g?v(n.config.newRowEdit.editor):void 0},footer:e=>Fn({context:e,config:n.config,field:n.field,theme:c})},f))}return r&&a.push({id:U,cell:vm,size:120,maxSize:120,enablePinning:a.some((e=>{var t;return e.enablePinning&&(null===(t=e.meta)||void 0===t?void 0:t.config.pin)===A.RIGHT}))}),a}),[d.frame,d.items,t,n,e.series,i,l,v,y,u,c]);return(0,s.useMemo)((()=>({tableData:b,columns:w})),[b,w])})({data:t,columns:null==v?void 0:v.items,isAddRowEnabled:y,isDeleteRowEnabled:w,replaceVariables:d,objects:l.nestedObjects}),C=(0,s.useRef)(null),x=(({paginationConfig:e,data:t,eventBus:n})=>{var r,o,a,l;const[c,u]=(0,s.useState)({pageSize:(null==e?void 0:e.defaultPageSize)||G[0],pageIndex:0}),{getVariable:d}=(e=>{const{variable:t,getVariable:n}=(0,i.fD)({eventBus:e,variableName:"",toState:Nn,getOne:(e,t)=>e[t],initial:{}});return{variable:t,getVariable:n}})(n);var p;const f=d(null!==(p=null==e||null===(r=e.query)||void 0===r?void 0:r.pageIndexVariable)&&void 0!==p?p:"");var h;const g=d(null!==(h=null==e||null===(o=e.query)||void 0===o?void 0:o.pageSizeVariable)&&void 0!==h?h:"");var m;const b=d(null!==(m=null==e||null===(a=e.query)||void 0===a?void 0:a.offsetVariable)&&void 0!==m?m:"");(0,s.useEffect)((()=>{u((t=>{if((null==e?void 0:e.mode)===D.CLIENT)return t;var n;let r=f&&null!==(n=Bn(f))&&void 0!==n?n:t.pageIndex;var o;const a=g&&null!==(o=Bn(g))&&void 0!==o?o:t.pageSize;if(b){const e=Bn(b);if(void 0!==e){const t=Math.ceil(e/a);t!==r&&(r=t)}}return{pageIndex:r,pageSize:a}}))}),[d,b,f,g,null==e?void 0:e.mode]);const v=(0,s.useMemo)((()=>{if((null==e?void 0:e.enabled)&&(null==e?void 0:e.mode)===D.QUERY){var n;if(null===(n=e.query)||void 0===n?void 0:n.totalCountField){const n=vt(t,e.query.totalCountField);if(n)return n.values[0]}return(c.pageIndex+2)*c.pageSize}return 0}),[t,null==e?void 0:e.enabled,null==e?void 0:e.mode,null==e||null===(l=e.query)||void 0===l?void 0:l.totalCountField,c.pageIndex,c.pageSize]),y=(0,s.useCallback)((t=>{u((n=>{const r="function"==typeof t?t(n):t;if((null==e?void 0:e.mode)===D.CLIENT)return r;const o={};var a;return f&&(o[Vn(f.name)]=r.pageIndex),g&&(o[Vn(g.name)]=r.pageSize),b&&(o[Vn(b.name)]=r.pageIndex*r.pageSize),a=o,0!==Object.keys(a).length&&Ct.locationService.partial(a,!0),r}))}),[null==e?void 0:e.mode,f,g,b]);return(0,s.useMemo)((()=>({isEnabled:!!(null==e?void 0:e.enabled),isManual:!(null==e?void 0:e.enabled)||e.mode===D.QUERY,value:c,onChange:y,total:v})),[y,null==e?void 0:e.enabled,null==e?void 0:e.mode,v,c])})({paginationConfig:null==v?void 0:v.pagination,eventBus:u,data:t.series});(0,s.useEffect)((()=>{var e,t,n;(null===(e=l.tables)||void 0===e?void 0:e.some((e=>e.name===m)))||b((null===(n=l.tables)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.name)||"")}),[m,e,l.tables,b]);const O=(0,s.useMemo)((()=>{if(!l.tables)return[];const e=l.tables.find((e=>e.name===m));return e&&l.tabsSorting?[e,...l.tables.filter((e=>e.name!==m))]:l.tables}),[m,l.tables,l.tabsSorting]),R=(0,s.useMemo)((()=>O.length>1||l.toolbar.export),[l.toolbar.export,O.length]),{containerRef:T,tableRef:I,headerRef:j,tableTopOffset:M,tableHeaderRef:L,paginationRef:N,tableBottomOffset:B}=(({tableData:e,width:t,height:n,options:r})=>{const o=(0,s.useRef)(null),a=(0,s.useRef)(null),i=(0,s.useRef)(null),l=(0,s.useRef)(null),c=(0,s.useRef)(null),[u,d]=(0,s.useState)(0),[p,f]=(0,s.useState)(0);return(0,s.useEffect)((()=>{if(o.current){let e=0;a.current&&(e+=a.current.clientHeight);let t=0;c.current&&(t+=c.current.clientHeight),d(e),f(t)}}),[e,n,r.tables,t,r.toolbar.export]),{containerRef:o,headerRef:a,tableRef:i,tableHeaderRef:l,tableTopOffset:u,tableBottomOffset:p,paginationRef:c}})({width:n,height:r,options:l,tableData:E}),V=yr({replaceVariables:d,currentTable:v,operation:"add"}),z=yr({replaceVariables:d,currentTable:v,operation:"update"}),$=yr({replaceVariables:d,currentTable:v,operation:"delete"}),q=(({data:e,columns:t,tableConfig:n,panelTitle:r,replaceVariables:a})=>(0,s.useCallback)((({table:i})=>{if(!i)return;const s=i.getState(),l=(e=>{const t=e.getHeaderGroups()[0].headers.map((e=>{var t;return _n(Rn({},(null===(t=e.column.columnDef.meta)||void 0===t?void 0:t.field)||{name:e.id,type:o.FieldType.other,config:{}}),{values:[]})}));return e.getRowModel().rows.forEach((e=>{e.getVisibleCells().forEach(((e,n)=>{t[n].values.push(e.getValue())}))})),e.getAllColumns().some((e=>{var t;return!!(null===(t=e.columnDef.meta)||void 0===t?void 0:t.footerEnabled)}))&&e.getFooterGroups()[0].headers.forEach(((e,n)=>{var r;const a=null===(r=e.column.columnDef.meta)||void 0===r?void 0:r.config.footer[0];if(!a)return void t[n].values.push(null);const i=(0,o.reduceField)({field:t[n],reducers:[a]})[a];t[n].values.push(i)})),(0,o.toDataFrame)({fields:t})})(En({state:{columnFilters:s.columnFilters,columnPinning:s.columnPinning,sorting:s.sorting},data:e,columns:t.filter((e=>e.id!==U)),getCoreRowModel:Sn(),getFilteredRowModel:On(),getSortedRowModel:An(),enableFilters:!0,enableSorting:!0,onStateChange:null,renderFallbackValue:null})),c=(0,o.toCSV)([l],{useExcelHeader:!1});let u="";r&&(u+=`${a(r)}-`),(null==n?void 0:n.name)&&(u+=`${n.name}-`),((e,t="download")=>{(0,se.saveAs)(new Blob([e],{type:"text/csv;charset=utf-8"}),`${t}.csv`)})(c,`${u}${(0,o.dateTimeFormat)(new Date)}`)}),[t,e,r,a,null==n?void 0:n.name]))({data:E,columns:S,tableConfig:v,panelTitle:p,replaceVariables:d});var W,Q,Y,X;return c().createElement(tr.Provider,{value:{replaceVariables:d}},c().createElement("div",(Y=sb({},H.panel.root.apply()),X=null!=(X={className:g.root,style:{width:n,height:r}})?X:{},Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(X)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(X)).forEach((function(e){Object.defineProperty(Y,e,Object.getOwnPropertyDescriptor(X,e))})),Y),c().createElement("div",{ref:T,className:g.content,style:{width:n,height:r}},R&&c().createElement("div",{ref:j,className:g.header},c().createElement(a.ToolbarButtonRow,{alignment:"left",key:m,className:g.tabs},O.length>1&&O.map(((e,t)=>c().createElement(a.ToolbarButton,sb({key:e.name,variant:m===e.name?"active":"default",onClick:()=>{b(e.name)},className:g.tabButton,style:{maxWidth:0===t?n-60:void 0}},H.panel.tab.apply(e.name)),e.name))),l.toolbar.export&&c().createElement(a.Button,sb({icon:"download-alt",onClick:()=>q({table:C.current}),variant:"secondary",size:"sm"},H.panel.buttonDownload.apply()),"Download"))),c().createElement(ob,{key:null==v?void 0:v.name,expandedByDefault:null!==(W=null==v?void 0:v.expanded)&&void 0!==W&&W,data:E,columns:S,tableRef:I,tableHeaderRef:L,topOffset:M,scrollableContainerRef:T,eventBus:u,onUpdateRow:z,bottomOffset:B,paginationRef:N,showHeader:null===(Q=null==v?void 0:v.showHeader)||void 0===Q||Q,width:n,pagination:x,tableInstance:C,onAddRow:V,isAddRowEnabled:y,onDeleteRow:$,isDeleteRowEnabled:w}))))})).useFieldConfig({}).setMigrationHandler(mb).setPanelOptions((e=>(e.addBooleanSwitch({path:"toolbar.export",name:"Exportable",description:"Allow to download table data.",defaultValue:!1}).addBooleanSwitch({path:"tabsSorting",name:"Tabs Sorting",description:"Show selected tab first",showIf:e=>{var t;return(null===(t=e.tables)||void 0===t?void 0:t.length)>1}}).addCustomEditor({id:"tables",path:"tables",name:"",editor:jg,category:["Layout"],defaultValue:[],aliasIds:["nestedObjects"]}).addCustomEditor({id:"addData",path:"tables",name:"",editor:Kn,category:["Add Data"],defaultValue:[],showIf:e=>e.tables.length>0}).addCustomEditor({id:"editableData",path:"tables",name:"",editor:io,category:["Editable Data"],defaultValue:[],showIf:e=>e.tables.length>0}).addCustomEditor({id:"deleteData",path:"tables",name:"",editor:Lr,category:["Delete Data"],defaultValue:[],showIf:e=>e.tables.length>0}).addCustomEditor({id:"pagination",path:"tables",name:"",editor:hu,category:["Pagination"],defaultValue:[],showIf:e=>e.tables.length>0}).addCustomEditor({id:"nestedObjects",path:"nestedObjects",name:"",editor:nu,defaultValue:[],category:["Nested Objects"]}),e)))})(),b})()));
//# sourceMappingURL=module.js.map